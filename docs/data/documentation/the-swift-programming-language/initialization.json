<<<<<<< HEAD
{"kind":"article","metadata":{"title":"Inicialización"},"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization"},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language"]]},"primaryContentSections":[{"kind":"content","content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Initialization"}],"type":"emphasis"},{"type":"text","text":" is the process of preparing an instance of"},{"type":"text","text":" "},{"type":"text","text":"a class, structure, or enumeration for use."},{"type":"text","text":" "},{"type":"text","text":"This process involves setting an initial value for each stored property on that instance"},{"type":"text","text":" "},{"text":"and performing any other setup or initialization that’s required","type":"text"},{"text":" ","type":"text"},{"text":"before the new instance is ready for use.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"You implement this initialization process by defining ","type":"text"},{"inlineContent":[{"type":"text","text":"initializers"}],"type":"emphasis"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which are like special methods that can be called"},{"text":" ","type":"text"},{"type":"text","text":"to create a new instance of a particular type."},{"type":"text","text":" "},{"type":"text","text":"Unlike Objective-C initializers, Swift initializers don’t return a value."},{"text":" ","type":"text"},{"type":"text","text":"Their primary role is to ensure that new instances of a type"},{"type":"text","text":" "},{"type":"text","text":"are correctly initialized before they’re used for the first time."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Instances of class types can also implement a "},{"inlineContent":[{"type":"text","text":"deinitializer"}],"type":"emphasis"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which performs any custom cleanup just before an instance of that class is deallocated."},{"type":"text","text":" "},{"text":"For more information about deinitializers, see ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Deinitialization","type":"reference","isActive":true},{"text":".","type":"text"}]},{"anchor":"Asignaci%C3%B3n-de-valores-iniciales-para-propiedades-almacenadas","text":"Asignación de valores iniciales para propiedades almacenadas","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Classes and structures "},{"inlineContent":[{"type":"text","text":"must"}],"type":"emphasis"},{"type":"text","text":" set all of their stored properties"},{"type":"text","text":" "},{"text":"to an appropriate initial value by the time","type":"text"},{"type":"text","text":" "},{"type":"text","text":"an instance of that class or structure is created."},{"text":" ","type":"text"},{"text":"Stored properties can’t be left in an indeterminate state.","type":"text"}]},{"inlineContent":[{"text":"You can set an initial value for a stored property within an initializer,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or by assigning a default property value as part of the property’s definition."},{"text":" ","type":"text"},{"text":"These actions are described in the following sections.","type":"text"}],"type":"paragraph"},{"style":"note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"When you assign a default value to a stored property,"},{"type":"text","text":" "},{"type":"text","text":"or set its initial value within an initializer,"},{"text":" ","type":"text"},{"text":"the value of that property is set directly,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"without calling any property observers."}],"type":"paragraph"}],"name":"Note"},{"level":3,"anchor":"Inicializadores","text":"Inicializadores","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"text":"Initializers","type":"text"}]},{"type":"text","text":" are called to create a new instance of a particular type."},{"text":" ","type":"text"},{"text":"In its simplest form, an initializer is like an instance method with no parameters,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"written using the "},{"code":"init","type":"codeVoice"},{"text":" keyword:","type":"text"}]},{"code":["init() {","    \/\/ perform some initialization here","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"The example below defines a new structure called ","type":"text"},{"code":"Fahrenheit","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"to store temperatures expressed in the Fahrenheit scale."},{"type":"text","text":" "},{"text":"The ","type":"text"},{"code":"Fahrenheit","type":"codeVoice"},{"type":"text","text":" structure has one stored property,"},{"text":" ","type":"text"},{"code":"temperature","type":"codeVoice"},{"type":"text","text":", which is of type "},{"type":"codeVoice","code":"Double"},{"text":":","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["struct Fahrenheit {","    var temperature: Double","    init() {","        temperature = 32.0","    }","}","var f = Fahrenheit()","print(\"The default temperature is \\(f.temperature)° Fahrenheit\")","\/\/ Prints \"The default temperature is 32.0° Fahrenheit\""]},{"inlineContent":[{"text":"The structure defines a single initializer, ","type":"text"},{"type":"codeVoice","code":"init"},{"type":"text","text":", with no parameters,"},{"text":" ","type":"text"},{"type":"text","text":"which initializes the stored temperature with a value of "},{"code":"32.0","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"(the freezing point of water in degrees Fahrenheit)."}],"type":"paragraph"},{"text":"Valores predeterminados de propiedades","level":3,"type":"heading","anchor":"Valores-predeterminados-de-propiedades"},{"inlineContent":[{"text":"You can set the initial value of a stored property from within an initializer,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as shown above."},{"type":"text","text":" "},{"type":"text","text":"Alternatively, specify a "},{"inlineContent":[{"type":"text","text":"default property value"}],"type":"emphasis"},{"text":" ","type":"text"},{"text":"as part of the property’s declaration.","type":"text"},{"text":" ","type":"text"},{"text":"You specify a default property value by assigning an initial value to the property","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"when it’s defined."}],"type":"paragraph"},{"name":"Note","style":"note","type":"aside","content":[{"inlineContent":[{"text":"If a property always takes the same initial value,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"provide a default value rather than setting a value within an initializer."},{"text":" ","type":"text"},{"text":"The end result is the same,","type":"text"},{"text":" ","type":"text"},{"text":"but the default value ties the property’s initialization more closely to its declaration.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It makes for shorter, clearer initializers"},{"type":"text","text":" "},{"type":"text","text":"and enables you to infer the type of the property from its default value."},{"type":"text","text":" "},{"type":"text","text":"The default value also makes it easier for you to take advantage of"},{"type":"text","text":" "},{"type":"text","text":"default initializers and initializer inheritance,"},{"type":"text","text":" "},{"text":"as described later in this chapter.","type":"text"}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"text":"You can write the ","type":"text"},{"code":"Fahrenheit","type":"codeVoice"},{"type":"text","text":" structure from above in a simpler form"},{"type":"text","text":" "},{"type":"text","text":"by providing a default value for its "},{"code":"temperature","type":"codeVoice"},{"type":"text","text":" property"},{"text":" ","type":"text"},{"type":"text","text":"at the point that the property is declared:"}]},{"syntax":"swift","code":["struct Fahrenheit {","    var temperature = 32.0","}"],"type":"codeListing"},{"text":"Personalización de la inicialización","anchor":"Personalizaci%C3%B3n-de-la-inicializaci%C3%B3n","level":2,"type":"heading"},{"inlineContent":[{"text":"You can customize the initialization process","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with input parameters and optional property types,"},{"type":"text","text":" "},{"text":"or by assigning constant properties during initialization,","type":"text"},{"type":"text","text":" "},{"text":"as described in the following sections.","type":"text"}],"type":"paragraph"},{"level":3,"anchor":"Par%C3%A1metros-de-inicializaci%C3%B3n","text":"Parámetros de inicialización","type":"heading"},{"inlineContent":[{"text":"You can provide ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"initialization parameters"}]},{"type":"text","text":" as part of an initializer’s definition,"},{"text":" ","type":"text"},{"type":"text","text":"to define the types and names of values that customize the initialization process."},{"type":"text","text":" "},{"type":"text","text":"Initialization parameters have the same capabilities and syntax"},{"type":"text","text":" "},{"type":"text","text":"as function and method parameters."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example defines a structure called "},{"type":"codeVoice","code":"Celsius"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"which stores temperatures expressed in degrees Celsius.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"type":"codeVoice","code":"Celsius"},{"type":"text","text":" structure implements two custom initializers called"},{"text":" ","type":"text"},{"code":"init(fromFahrenheit:)","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"init(fromKelvin:)","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"which initialize a new instance of the structure"},{"type":"text","text":" "},{"type":"text","text":"with a value from a different temperature scale:"}]},{"code":["struct Celsius {","    var temperatureInCelsius: Double","    init(fromFahrenheit fahrenheit: Double) {","        temperatureInCelsius = (fahrenheit - 32.0) \/ 1.8","    }","    init(fromKelvin kelvin: Double) {","        temperatureInCelsius = kelvin - 273.15","    }","}","let boilingPointOfWater = Celsius(fromFahrenheit: 212.0)","\/\/ boilingPointOfWater.temperatureInCelsius is 100.0","let freezingPointOfWater = Celsius(fromKelvin: 273.15)","\/\/ freezingPointOfWater.temperatureInCelsius is 0.0"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The first initializer has a single initialization parameter"},{"type":"text","text":" "},{"type":"text","text":"with an argument label of "},{"code":"fromFahrenheit","type":"codeVoice"},{"type":"text","text":" and a parameter name of "},{"code":"fahrenheit","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"The second initializer has a single initialization parameter","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with an argument label of "},{"code":"fromKelvin","type":"codeVoice"},{"type":"text","text":" and a parameter name of "},{"code":"kelvin","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"Both initializers convert their single argument into","type":"text"},{"type":"text","text":" "},{"text":"the corresponding Celsius value","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and store this value in a property called "},{"code":"temperatureInCelsius","type":"codeVoice"},{"type":"text","text":"."}]},{"text":"Nombres de parámetros y etiquetas de argumentos","anchor":"Nombres-de-par%C3%A1metros-y-etiquetas-de-argumentos","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"As with function and method parameters,","type":"text"},{"text":" ","type":"text"},{"text":"initialization parameters can have both a parameter name","type":"text"},{"type":"text","text":" "},{"text":"for use within the initializer’s body","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and an argument label for use when calling the initializer."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"However, initializers don’t have an identifying function name before their parentheses"},{"type":"text","text":" "},{"text":"in the way that functions and methods do.","type":"text"},{"text":" ","type":"text"},{"text":"Therefore, the names and types of an initializer’s parameters","type":"text"},{"type":"text","text":" "},{"text":"play a particularly important role in identifying which initializer should be called.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Because of this, Swift provides an automatic argument label"},{"type":"text","text":" "},{"text":"for ","type":"text"},{"inlineContent":[{"type":"text","text":"every"}],"type":"emphasis"},{"text":" parameter in an initializer if you don’t provide one.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example defines a structure called "},{"type":"codeVoice","code":"Color"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"with three constant properties called "},{"code":"red","type":"codeVoice"},{"type":"text","text":", "},{"type":"codeVoice","code":"green"},{"type":"text","text":", and "},{"code":"blue","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"These properties store a value between "},{"type":"codeVoice","code":"0.0"},{"type":"text","text":" and "},{"code":"1.0","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"to indicate the amount of red, green, and blue in the color."}]},{"type":"paragraph","inlineContent":[{"code":"Color","type":"codeVoice"},{"text":" provides an initializer with","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"three appropriately named parameters of type "},{"type":"codeVoice","code":"Double"},{"type":"text","text":" "},{"text":"for its red, green, and blue components.","type":"text"},{"type":"text","text":" "},{"code":"Color","type":"codeVoice"},{"type":"text","text":" also provides a second initializer with a single "},{"type":"codeVoice","code":"white"},{"text":" parameter,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which is used to provide the same value for all three color components."}]},{"code":["struct Color {","    let red, green, blue: Double","    init(red: Double, green: Double, blue: Double) {","        self.red   = red","        self.green = green","        self.blue  = blue","    }","    init(white: Double) {","        red   = white","        green = white","        blue  = white","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"Both initializers can be used to create a new ","type":"text"},{"type":"codeVoice","code":"Color"},{"text":" instance,","type":"text"},{"text":" ","type":"text"},{"text":"by providing named values for each initializer parameter:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)","let halfGray = Color(white: 0.5)"]},{"inlineContent":[{"type":"text","text":"Note that it isn’t possible to call these initializers"},{"text":" ","type":"text"},{"type":"text","text":"without using argument labels."},{"type":"text","text":" "},{"text":"Argument labels must always be used in an initializer if they’re defined,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and omitting them is a compile-time error:"}],"type":"paragraph"},{"code":["let veryGreen = Color(0.0, 1.0, 0.0)","\/\/ this reports a compile-time error - argument labels are required"],"type":"codeListing","syntax":"swift"},{"text":"Parámetros de inicialización sin etiquetas de argumentos","type":"heading","anchor":"Par%C3%A1metros-de-inicializaci%C3%B3n-sin-etiquetas-de-argumentos","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you don’t want to use an argument label for an initializer parameter,"},{"text":" ","type":"text"},{"type":"text","text":"write an underscore ("},{"type":"codeVoice","code":"_"},{"text":") instead of an explicit argument label for that parameter","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to override the default behavior."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here’s an expanded version of the "},{"type":"codeVoice","code":"Celsius"},{"text":" example","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"from "},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","type":"reference","isActive":true},{"type":"text","text":" above,"},{"type":"text","text":" "},{"type":"text","text":"with an additional initializer to create a new "},{"code":"Celsius","type":"codeVoice"},{"type":"text","text":" instance"},{"text":" ","type":"text"},{"type":"text","text":"from a "},{"type":"codeVoice","code":"Double"},{"text":" value that’s already in the Celsius scale:","type":"text"}]},{"code":["struct Celsius {","    var temperatureInCelsius: Double","    init(fromFahrenheit fahrenheit: Double) {","        temperatureInCelsius = (fahrenheit - 32.0) \/ 1.8","    }","    init(fromKelvin kelvin: Double) {","        temperatureInCelsius = kelvin - 273.15","    }","    init(_ celsius: Double) {","        temperatureInCelsius = celsius","    }","}","let bodyTemperature = Celsius(37.0)","\/\/ bodyTemperature.temperatureInCelsius is 37.0"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The initializer call "},{"type":"codeVoice","code":"Celsius(37.0)"},{"text":" is clear in its intent","type":"text"},{"text":" ","type":"text"},{"text":"without the need for an argument label.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It’s therefore appropriate to write this initializer as "},{"type":"codeVoice","code":"init(_ celsius: Double)"},{"text":" ","type":"text"},{"text":"so that it can be called by providing an unnamed ","type":"text"},{"type":"codeVoice","code":"Double"},{"text":" value.","type":"text"}]},{"type":"heading","level":3,"text":"Tipos de propiedades opcionales","anchor":"Tipos-de-propiedades-opcionales"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If your custom type has a stored property that’s logically allowed to have “no value” —"},{"text":" ","type":"text"},{"text":"perhaps because its value can’t be set during initialization,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"or because it’s allowed to have “no value” at some later point —"},{"type":"text","text":" "},{"text":"declare the property with an ","type":"text"},{"inlineContent":[{"type":"text","text":"optional"}],"type":"emphasis"},{"type":"text","text":" type."},{"type":"text","text":" "},{"type":"text","text":"Properties of optional type are automatically initialized with a value of "},{"type":"codeVoice","code":"nil"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"indicating that the property is deliberately intended to have “no value yet”"},{"text":" ","type":"text"},{"type":"text","text":"during initialization."}]},{"inlineContent":[{"text":"The following example defines a class called ","type":"text"},{"code":"SurveyQuestion","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"with an optional ","type":"text"},{"type":"codeVoice","code":"String"},{"text":" property called ","type":"text"},{"code":"response","type":"codeVoice"},{"text":":","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class SurveyQuestion {","    var text: String","    var response: String?","    init(text: String) {","        self.text = text","    }","    func ask() {","        print(text)","    }","}","let cheeseQuestion = SurveyQuestion(text: \"Do you like cheese?\")","cheeseQuestion.ask()","\/\/ Prints \"Do you like cheese?\"","cheeseQuestion.response = \"Yes, I do like cheese.\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The response to a survey question can’t be known until it’s asked,"},{"type":"text","text":" "},{"type":"text","text":"and so the "},{"type":"codeVoice","code":"response"},{"type":"text","text":" property is declared with a type of "},{"type":"codeVoice","code":"String?"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"or “optional "},{"code":"String","type":"codeVoice"},{"text":"”.","type":"text"},{"text":" ","type":"text"},{"text":"It’s automatically assigned a default value of ","type":"text"},{"type":"codeVoice","code":"nil"},{"type":"text","text":", meaning “no string yet”,"},{"type":"text","text":" "},{"type":"text","text":"when a new instance of "},{"type":"codeVoice","code":"SurveyQuestion"},{"text":" is initialized.","type":"text"}]},{"anchor":"Asignaci%C3%B3n-de-propiedades-constantes-durante-la-inicializaci%C3%B3n","text":"Asignación de propiedades constantes durante la inicialización","type":"heading","level":3},{"inlineContent":[{"type":"text","text":"You can assign a value to a constant property"},{"type":"text","text":" "},{"type":"text","text":"at any point during initialization,"},{"type":"text","text":" "},{"text":"as long as it’s set to a definite value by the time initialization finishes.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Once a constant property is assigned a value,"},{"text":" ","type":"text"},{"type":"text","text":"it can’t be further modified."}],"type":"paragraph"},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"For class instances,"},{"text":" ","type":"text"},{"text":"a constant property can be modified during initialization","type":"text"},{"text":" ","type":"text"},{"text":"only by the class that introduces it.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"It can’t be modified by a subclass."}]}]},{"type":"paragraph","inlineContent":[{"text":"You can revise the ","type":"text"},{"code":"SurveyQuestion","type":"codeVoice"},{"text":" example from above to use","type":"text"},{"type":"text","text":" "},{"text":"a constant property rather than a variable property for the ","type":"text"},{"type":"codeVoice","code":"text"},{"text":" property of the question,","type":"text"},{"text":" ","type":"text"},{"text":"to indicate that the question doesn’t change once an instance of ","type":"text"},{"type":"codeVoice","code":"SurveyQuestion"},{"type":"text","text":" is created."},{"text":" ","type":"text"},{"text":"Even though the ","type":"text"},{"type":"codeVoice","code":"text"},{"text":" property is now a constant,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"it can still be set within the class’s initializer:"}]},{"type":"codeListing","syntax":"swift","code":["class SurveyQuestion {","    let text: String","    var response: String?","    init(text: String) {","        self.text = text","    }","    func ask() {","        print(text)","    }","}","let beetsQuestion = SurveyQuestion(text: \"How about beets?\")","beetsQuestion.ask()","\/\/ Prints \"How about beets?\"","beetsQuestion.response = \"I also like beets. (But not with cheese.)\""]},{"anchor":"Inicializadores-predeterminados","type":"heading","level":2,"text":"Inicializadores predeterminados"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift provides a "},{"inlineContent":[{"type":"text","text":"default initializer"}],"type":"emphasis"},{"type":"text","text":" "},{"type":"text","text":"for any structure or class"},{"type":"text","text":" "},{"type":"text","text":"that provides default values for all of its properties"},{"type":"text","text":" "},{"type":"text","text":"and doesn’t provide at least one initializer itself."},{"text":" ","type":"text"},{"text":"The default initializer simply creates a new instance","type":"text"},{"text":" ","type":"text"},{"text":"with all of its properties set to their default values.","type":"text"}]},{"inlineContent":[{"text":"This example defines a class called ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"which encapsulates the name, quantity, and purchase state","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"of an item in a shopping list:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class ShoppingListItem {","    var name: String?","    var quantity = 1","    var purchased = false","}","var item = ShoppingListItem()"]},{"inlineContent":[{"text":"Because all properties of the ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" class have default values,"},{"type":"text","text":" "},{"text":"and because it’s a base class with no superclass,","type":"text"},{"text":" ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" automatically gains a default initializer implementation"},{"text":" ","type":"text"},{"type":"text","text":"that creates a new instance with all of its properties set to their default values."},{"type":"text","text":" "},{"text":"(The ","type":"text"},{"type":"codeVoice","code":"name"},{"type":"text","text":" property is an optional "},{"type":"codeVoice","code":"String"},{"text":" property,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and so it automatically receives a default value of "},{"type":"codeVoice","code":"nil"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"even though this value isn’t written in the code.)","type":"text"},{"type":"text","text":" "},{"text":"The example above uses the default initializer for the ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" class"},{"text":" ","type":"text"},{"type":"text","text":"to create a new instance of the class with initializer syntax,"},{"text":" ","type":"text"},{"text":"written as ","type":"text"},{"code":"ShoppingListItem()","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"and assigns this new instance to a variable called "},{"code":"item","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"},{"level":3,"anchor":"Inicializadores-a-nivel-de-miembro-para-tipos-de-estructura","text":"Inicializadores a nivel de miembro para tipos de estructura","type":"heading"},{"inlineContent":[{"type":"text","text":"Structure types automatically receive a "},{"inlineContent":[{"text":"memberwise initializer","type":"text"}],"type":"emphasis"},{"type":"text","text":" "},{"type":"text","text":"if they don’t define any of their own custom initializers."},{"type":"text","text":" "},{"type":"text","text":"Unlike a default initializer,"},{"text":" ","type":"text"},{"text":"the structure receives a memberwise initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"even if it has stored properties that don’t have default values."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The memberwise initializer is a shorthand way"},{"text":" ","type":"text"},{"type":"text","text":"to initialize the member properties of new structure instances."},{"text":" ","type":"text"},{"type":"text","text":"Initial values for the properties of the new instance"},{"type":"text","text":" "},{"type":"text","text":"can be passed to the memberwise initializer by name."}]},{"type":"paragraph","inlineContent":[{"text":"The example below defines a structure called ","type":"text"},{"type":"codeVoice","code":"Size"},{"text":" ","type":"text"},{"type":"text","text":"with two properties called "},{"code":"width","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"height","type":"codeVoice"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Both properties are inferred to be of type "},{"code":"Double","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"by assigning a default value of "},{"type":"codeVoice","code":"0.0"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"Size","type":"codeVoice"},{"type":"text","text":" structure automatically receives an "},{"type":"codeVoice","code":"init(width:height:)"},{"text":" ","type":"text"},{"type":"text","text":"memberwise initializer,"},{"text":" ","type":"text"},{"text":"which you can use to initialize a new ","type":"text"},{"code":"Size","type":"codeVoice"},{"text":" instance:","type":"text"}]},{"code":["struct Size {","    var width = 0.0, height = 0.0","}","let twoByTwo = Size(width: 2.0, height: 2.0)"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"When you call a memberwise initializer,"},{"type":"text","text":" "},{"text":"you can omit values for any properties","type":"text"},{"type":"text","text":" "},{"type":"text","text":"that have default values."},{"type":"text","text":" "},{"text":"In the example above,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the "},{"code":"Size","type":"codeVoice"},{"text":" structure has a default value","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for both its "},{"type":"codeVoice","code":"height"},{"text":" and ","type":"text"},{"code":"width","type":"codeVoice"},{"type":"text","text":" properties."},{"type":"text","text":" "},{"text":"You can omit either property or both properties,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the initializer uses the default value for anything you omit."},{"type":"text","text":" "},{"type":"text","text":"For example:"}],"type":"paragraph"},{"code":["let zeroByTwo = Size(height: 2.0)","print(zeroByTwo.width, zeroByTwo.height)","\/\/ Prints \"0.0 2.0\"","","let zeroByZero = Size()","print(zeroByZero.width, zeroByZero.height)","\/\/ Prints \"0.0 0.0\""],"syntax":"swift","type":"codeListing"},{"level":2,"text":"Delegación de inicializadores para tipos de valor","type":"heading","anchor":"Delegaci%C3%B3n-de-inicializadores-para-tipos-de-valor"},{"type":"paragraph","inlineContent":[{"text":"Initializers can call other initializers to perform part of an instance’s initialization.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This process, known as "},{"type":"emphasis","inlineContent":[{"text":"initializer delegation","type":"text"}]},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"avoids duplicating code across multiple initializers."}]},{"inlineContent":[{"type":"text","text":"The rules for how initializer delegation works,"},{"text":" ","type":"text"},{"type":"text","text":"and for what forms of delegation are allowed,"},{"type":"text","text":" "},{"text":"are different for value types and class types.","type":"text"},{"type":"text","text":" "},{"text":"Value types (structures and enumerations) don’t support inheritance,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and so their initializer delegation process is relatively simple,"},{"text":" ","type":"text"},{"type":"text","text":"because they can only delegate to another initializer that they provide themselves."},{"type":"text","text":" "},{"text":"Classes, however, can inherit from other classes,","type":"text"},{"type":"text","text":" "},{"text":"as described in ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Inheritance","isActive":true,"type":"reference"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This means that classes have additional responsibilities for ensuring that"},{"type":"text","text":" "},{"type":"text","text":"all stored properties they inherit are assigned a suitable value during initialization."},{"type":"text","text":" "},{"text":"These responsibilities are described in","type":"text"},{"type":"text","text":" "},{"type":"text","text":"doc:Initialization#Herencide-de-clases-e-inicialización"},{"text":" below.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For value types, you use "},{"type":"codeVoice","code":"self.init"},{"text":" to refer to other initializers","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"from the same value type when writing your own custom initializers."},{"text":" ","type":"text"},{"type":"text","text":"You can call "},{"code":"self.init","type":"codeVoice"},{"type":"text","text":" only from within an initializer."}]},{"inlineContent":[{"type":"text","text":"Note that if you define a custom initializer for a value type,"},{"type":"text","text":" "},{"type":"text","text":"you will no longer have access to the default initializer"},{"type":"text","text":" "},{"text":"(or the memberwise initializer, if it’s a structure) for that type.","type":"text"},{"text":" ","type":"text"},{"text":"This constraint prevents a situation in which additional essential setup","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"provided in a more complex initializer"},{"text":" ","type":"text"},{"type":"text","text":"is accidentally circumvented by someone using one of the automatic initializers."}],"type":"paragraph"},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"If you want your custom value type to be initializable with","type":"text"},{"text":" ","type":"text"},{"text":"the default initializer and memberwise initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and also with your own custom initializers,"},{"text":" ","type":"text"},{"text":"write your custom initializers in an extension","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"rather than as part of the value type’s original implementation."},{"text":" ","type":"text"},{"type":"text","text":"For more information, see "},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","type":"reference","isActive":true},{"type":"text","text":"."}]}]},{"type":"paragraph","inlineContent":[{"text":"The following example defines a custom ","type":"text"},{"type":"codeVoice","code":"Rect"},{"type":"text","text":" structure to represent a geometric rectangle."},{"text":" ","type":"text"},{"type":"text","text":"The example requires two supporting structures called "},{"code":"Size","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"Point"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"both of which provide default values of ","type":"text"},{"type":"codeVoice","code":"0.0"},{"type":"text","text":" for all of their properties:"}]},{"type":"codeListing","code":["struct Size {","    var width = 0.0, height = 0.0","}","struct Point {","    var x = 0.0, y = 0.0","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"You can initialize the ","type":"text"},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" structure below in one of three ways —"},{"text":" ","type":"text"},{"text":"by using its default zero-initialized ","type":"text"},{"code":"origin","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"size"},{"text":" property values,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"by providing a specific origin point and size,"},{"type":"text","text":" "},{"type":"text","text":"or by providing a specific center point and size."},{"text":" ","type":"text"},{"type":"text","text":"These initialization options are represented by"},{"type":"text","text":" "},{"text":"three custom initializers that are part of the ","type":"text"},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" structure’s definition:"}]},{"code":["struct Rect {","    var origin = Point()","    var size = Size()","    init() {}","    init(origin: Point, size: Size) {","        self.origin = origin","        self.size = size","    }","    init(center: Point, size: Size) {","        let originX = center.x - (size.width \/ 2)","        let originY = center.y - (size.height \/ 2)","        self.init(origin: Point(x: originX, y: originY), size: size)","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The first "},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" initializer, "},{"code":"init()","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"is functionally the same as the default initializer that the structure would have received","type":"text"},{"type":"text","text":" "},{"type":"text","text":"if it didn’t have its own custom initializers."},{"type":"text","text":" "},{"type":"text","text":"This initializer has an empty body,"},{"type":"text","text":" "},{"text":"represented by an empty pair of curly braces ","type":"text"},{"type":"codeVoice","code":"{}"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"Calling this initializer returns a ","type":"text"},{"type":"codeVoice","code":"Rect"},{"type":"text","text":" instance whose"},{"text":" ","type":"text"},{"code":"origin","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"size"},{"text":" properties are both initialized with","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the default values of "},{"type":"codeVoice","code":"Point(x: 0.0, y: 0.0)"},{"type":"text","text":" "},{"text":"and ","type":"text"},{"code":"Size(width: 0.0, height: 0.0)","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"from their property definitions:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let basicRect = Rect()","\/\/ basicRect's origin is (0.0, 0.0) and its size is (0.0, 0.0)"]},{"type":"paragraph","inlineContent":[{"text":"The second ","type":"text"},{"code":"Rect","type":"codeVoice"},{"text":" initializer, ","type":"text"},{"type":"codeVoice","code":"init(origin:size:)"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"is functionally the same as the memberwise initializer that the structure would have received"},{"type":"text","text":" "},{"type":"text","text":"if it didn’t have its own custom initializers."},{"text":" ","type":"text"},{"type":"text","text":"This initializer simply assigns the "},{"code":"origin","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"size"},{"type":"text","text":" argument values to"},{"type":"text","text":" "},{"type":"text","text":"the appropriate stored properties:"}]},{"type":"codeListing","syntax":"swift","code":["let originRect = Rect(origin: Point(x: 2.0, y: 2.0),","    size: Size(width: 5.0, height: 5.0))","\/\/ originRect's origin is (2.0, 2.0) and its size is (5.0, 5.0)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The third "},{"type":"codeVoice","code":"Rect"},{"type":"text","text":" initializer, "},{"code":"init(center:size:)","type":"codeVoice"},{"type":"text","text":", is slightly more complex."},{"text":" ","type":"text"},{"type":"text","text":"It starts by calculating an appropriate origin point based on"},{"type":"text","text":" "},{"type":"text","text":"a "},{"type":"codeVoice","code":"center"},{"type":"text","text":" point and a "},{"type":"codeVoice","code":"size"},{"text":" value.","type":"text"},{"type":"text","text":" "},{"text":"It then calls (or ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"delegates","type":"text"}]},{"text":") to the ","type":"text"},{"code":"init(origin:size:)","type":"codeVoice"},{"type":"text","text":" initializer,"},{"text":" ","type":"text"},{"text":"which stores the new origin and size values in the appropriate properties:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let centerRect = Rect(center: Point(x: 4.0, y: 4.0),","    size: Size(width: 3.0, height: 3.0))","\/\/ centerRect's origin is (2.5, 2.5) and its size is (3.0, 3.0)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"init(center:size:)"},{"type":"text","text":" initializer could have assigned"},{"type":"text","text":" "},{"text":"the new values of ","type":"text"},{"code":"origin","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"size"},{"type":"text","text":" to the appropriate properties itself."},{"type":"text","text":" "},{"type":"text","text":"However, it’s more convenient (and clearer in intent)"},{"text":" ","type":"text"},{"type":"text","text":"for the "},{"code":"init(center:size:)","type":"codeVoice"},{"type":"text","text":" initializer to take advantage of an existing initializer"},{"type":"text","text":" "},{"text":"that already provides exactly that functionality.","type":"text"}]},{"style":"note","content":[{"inlineContent":[{"text":"For an alternative way to write this example without defining","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the "},{"code":"init()","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"init(origin:size:)","type":"codeVoice"},{"type":"text","text":" initializers yourself,"},{"type":"text","text":" "},{"type":"text","text":"see "},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","isActive":true},{"type":"text","text":"."}],"type":"paragraph"}],"name":"Note","type":"aside"},{"anchor":"Herencia-de-clases-e-inicializaci%C3%B3n","type":"heading","level":2,"text":"Herencia de clases e inicialización"},{"inlineContent":[{"type":"text","text":"All of a class’s stored properties —"},{"type":"text","text":" "},{"text":"including any properties the class inherits from its superclass —","type":"text"},{"type":"text","text":" "},{"inlineContent":[{"text":"must","type":"text"}],"type":"emphasis"},{"type":"text","text":" be assigned an initial value during initialization."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift defines two kinds of initializers for class types"},{"type":"text","text":" "},{"type":"text","text":"to help ensure all stored properties receive an initial value."},{"text":" ","type":"text"},{"text":"These are known as designated initializers and convenience initializers.","type":"text"}]},{"type":"heading","text":"Inicializadores designados e inicializadores de conveniencia","level":3,"anchor":"Inicializadores-designados-e-inicializadores-de-conveniencia"},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Designated initializers"}],"type":"emphasis"},{"type":"text","text":" are the primary initializers for a class."},{"type":"text","text":" "},{"text":"A designated initializer fully initializes all properties introduced by that class","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and calls an appropriate superclass initializer"},{"type":"text","text":" "},{"text":"to continue the initialization process up the superclass chain.","type":"text"}]},{"inlineContent":[{"text":"Classes tend to have very few designated initializers,","type":"text"},{"type":"text","text":" "},{"text":"and it’s quite common for a class to have only one.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Designated initializers are “funnel” points through which initialization takes place,"},{"type":"text","text":" "},{"type":"text","text":"and through which the initialization process continues up the superclass chain."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Every class must have at least one designated initializer."},{"text":" ","type":"text"},{"type":"text","text":"In some cases, this requirement is satisfied"},{"text":" ","type":"text"},{"text":"by inheriting one or more designated initializers from a superclass,","type":"text"},{"text":" ","type":"text"},{"text":"as described in ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","isActive":true},{"type":"text","text":" below."}]},{"inlineContent":[{"inlineContent":[{"text":"Convenience initializers","type":"text"}],"type":"emphasis"},{"text":" are secondary, supporting initializers for a class.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You can define a convenience initializer to call a designated initializer"},{"text":" ","type":"text"},{"type":"text","text":"from the same class as the convenience initializer"},{"text":" ","type":"text"},{"type":"text","text":"with some of the designated initializer’s parameters set to default values."},{"type":"text","text":" "},{"type":"text","text":"You can also define a convenience initializer to create"},{"text":" ","type":"text"},{"type":"text","text":"an instance of that class for a specific use case or input value type."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You don’t have to provide convenience initializers if your class doesn’t require them."},{"text":" ","type":"text"},{"type":"text","text":"Create convenience initializers whenever a shortcut to a common initialization pattern"},{"text":" ","type":"text"},{"type":"text","text":"will save time or make initialization of the class clearer in intent."}]},{"level":3,"anchor":"Sintaxis-para-inicializadores-designados-y-de-conveniencia","text":"Sintaxis para inicializadores designados y de conveniencia","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Designated initializers for classes are written in the same way as"},{"text":" ","type":"text"},{"text":"simple initializers for value types:","type":"text"}]},{"syntax":"swift","code":["init(<#parameters#>) {","   <#statements#>","}"],"type":"codeListing"},{"inlineContent":[{"text":"Convenience initializers are written in the same style,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"but with the "},{"type":"codeVoice","code":"convenience"},{"text":" modifier placed before the ","type":"text"},{"type":"codeVoice","code":"init"},{"text":" keyword,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"separated by a space:"}],"type":"paragraph"},{"code":["convenience init(<#parameters#>) {","   <#statements#>","}"],"type":"codeListing","syntax":"swift"},{"text":"Delegación de inicializadores para tipos de clase","anchor":"Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"To simplify the relationships between designated and convenience initializers,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Swift applies the following three rules for delegation calls between initializers:"}]},{"items":[{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Rule 1"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A designated initializer must call a designated initializer from its immediate superclass."}]}]}},{"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"A convenience initializer must call another initializer from the ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"same"}]},{"text":" class.","type":"text"}]}]},"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Rule 2","type":"text"}]}]}},{"definition":{"content":[{"inlineContent":[{"type":"text","text":"A convenience initializer must ultimately call a designated initializer."}],"type":"paragraph"}]},"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Rule 3"}],"type":"strong"}]}}],"type":"termList"},{"inlineContent":[{"type":"text","text":"A simple way to remember this is:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Designated initializers must always delegate "},{"inlineContent":[{"type":"text","text":"up"}],"type":"emphasis"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Convenience initializers must always delegate "},{"type":"emphasis","inlineContent":[{"type":"text","text":"across"}]},{"type":"text","text":"."}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"These rules are illustrated in the figure below:"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"identifier":"initializerDelegation01","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here, the superclass has a single designated initializer and two convenience initializers."},{"text":" ","type":"text"},{"text":"One convenience initializer calls another convenience initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which in turn calls the single designated initializer."},{"text":" ","type":"text"},{"type":"text","text":"This satisfies rules 2 and 3 from above."},{"text":" ","type":"text"},{"type":"text","text":"The superclass doesn’t itself have a further superclass, and so rule 1 doesn’t apply."}]},{"inlineContent":[{"type":"text","text":"The subclass in this figure has two designated initializers and one convenience initializer."},{"text":" ","type":"text"},{"type":"text","text":"The convenience initializer must call one of the two designated initializers,"},{"text":" ","type":"text"},{"text":"because it can only call another initializer from the same class.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This satisfies rules 2 and 3 from above."},{"text":" ","type":"text"},{"type":"text","text":"Both designated initializers must call the single designated initializer"},{"type":"text","text":" "},{"text":"from the superclass, to satisfy rule 1 from above.","type":"text"}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"These rules don’t affect how users of your classes ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"create"}]},{"type":"text","text":" instances of each class."},{"text":" ","type":"text"},{"text":"Any initializer in the diagram above can be used to create","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"a fully initialized instance of the class they belong to."},{"type":"text","text":" "},{"text":"The rules only affect how you write the implementation of the class’s initializers.","type":"text"}]}],"name":"Note","style":"note","type":"aside"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The figure below shows a more complex class hierarchy for four classes."},{"type":"text","text":" "},{"type":"text","text":"It illustrates how the designated initializers in this hierarchy"},{"type":"text","text":" "},{"text":"act as “funnel” points for class initialization,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"simplifying the interrelationships among classes in the chain:"}]},{"type":"paragraph","inlineContent":[{"identifier":"initializerDelegation02","type":"image"}]},{"text":"Inicialización de dos fases","type":"heading","anchor":"Inicializaci%C3%B3n-de-dos-fases","level":3},{"inlineContent":[{"type":"text","text":"Class initialization in Swift is a two-phase process."},{"type":"text","text":" "},{"type":"text","text":"In the first phase, each stored property is assigned an initial value"},{"type":"text","text":" "},{"type":"text","text":"by the class that introduced it."},{"text":" ","type":"text"},{"type":"text","text":"Once the initial state for every stored property has been determined,"},{"type":"text","text":" "},{"type":"text","text":"the second phase begins,"},{"type":"text","text":" "},{"text":"and each class is given the opportunity to customize its stored properties further","type":"text"},{"type":"text","text":" "},{"type":"text","text":"before the new instance is considered ready for use."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The use of a two-phase initialization process makes initialization safe,"},{"text":" ","type":"text"},{"type":"text","text":"while still giving complete flexibility to each class in a class hierarchy."},{"text":" ","type":"text"},{"type":"text","text":"Two-phase initialization prevents property values"},{"text":" ","type":"text"},{"type":"text","text":"from being accessed before they’re initialized,"},{"type":"text","text":" "},{"text":"and prevents property values from being set to a different value","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"by another initializer unexpectedly."}]},{"style":"note","content":[{"inlineContent":[{"type":"text","text":"Swift’s two-phase initialization process is similar to initialization in Objective-C."},{"type":"text","text":" "},{"text":"The main difference is that during phase 1,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Objective-C assigns zero or null values (such as "},{"type":"codeVoice","code":"0"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"nil"},{"type":"text","text":") to every property."},{"type":"text","text":" "},{"text":"Swift’s initialization flow is more flexible","type":"text"},{"text":" ","type":"text"},{"text":"in that it lets you set custom initial values,","type":"text"},{"text":" ","type":"text"},{"text":"and can cope with types for which ","type":"text"},{"type":"codeVoice","code":"0"},{"type":"text","text":" or "},{"type":"codeVoice","code":"nil"},{"text":" isn’t a valid default value.","type":"text"}],"type":"paragraph"}],"name":"Note","type":"aside"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift’s compiler performs four helpful safety-checks to make sure that"},{"type":"text","text":" "},{"text":"two-phase initialization is completed without error:","type":"text"}]},{"items":[{"definition":{"content":[{"inlineContent":[{"text":"A designated initializer must ensure that all of the properties introduced by its class are initialized before it delegates up to a superclass initializer.","type":"text"}],"type":"paragraph"}]},"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Safety check 1"}],"type":"strong"}]}}],"type":"termList"},{"inlineContent":[{"type":"text","text":"As mentioned above,"},{"type":"text","text":" "},{"text":"the memory for an object is only considered fully initialized","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"once the initial state of all of its stored properties is known."},{"text":" ","type":"text"},{"text":"In order for this rule to be satisfied, a designated initializer must make sure that","type":"text"},{"type":"text","text":" "},{"text":"all of its own properties are initialized before it hands off up the chain.","type":"text"}],"type":"paragraph"},{"items":[{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Safety check 2"}]}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"A designated initializer must delegate up to a superclass initializer before assigning a value to an inherited property. If it doesn’t, the new value the designated initializer assigns will be overwritten by the superclass as part of its own initialization.","type":"text"}]}]}},{"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"A convenience initializer must delegate to another initializer before assigning a value to ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"any","type":"text"}]},{"type":"text","text":" property (including properties defined by the same class). If it doesn’t, the new value the convenience initializer assigns will be overwritten by its own class’s designated initializer."}]}]},"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Safety check 3"}],"type":"strong"}]}},{"term":{"inlineContent":[{"inlineContent":[{"text":"Safety check 4","type":"text"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"An initializer can’t call any instance methods, read the values of any instance properties, or refer to "},{"code":"self","type":"codeVoice"},{"type":"text","text":" as a value until after the first phase of initialization is complete."}]}]}}],"type":"termList"},{"inlineContent":[{"text":"The class instance isn’t fully valid until the first phase ends.","type":"text"},{"type":"text","text":" "},{"text":"Properties can only be accessed, and methods can only be called,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"once the class instance is known to be valid at the end of the first phase."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Here’s how two-phase initialization plays out, based on the four safety checks above:","type":"text"}]},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Phase 1"}]}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"A designated or convenience initializer is called on a class."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Memory for a new instance of that class is allocated.","type":"text"},{"type":"text","text":" "},{"text":"The memory isn’t yet initialized.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"A designated initializer for that class confirms that"},{"text":" ","type":"text"},{"text":"all stored properties introduced by that class have a value.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The memory for these stored properties is now initialized."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The designated initializer hands off to a superclass initializer to perform the same task","type":"text"},{"text":" ","type":"text"},{"text":"for its own stored properties.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"This continues up the class inheritance chain until the top of the chain is reached.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Once the top of the chain is reached,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and the final class in the chain has ensured that all of its stored properties have a value,"},{"text":" ","type":"text"},{"type":"text","text":"the instance’s memory is considered to be fully initialized, and phase 1 is complete."}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Phase 2"}]}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Working back down from the top of the chain,"},{"type":"text","text":" "},{"text":"each designated initializer in the chain has the option to customize the instance further.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Initializers are now able to access "},{"type":"codeVoice","code":"self"},{"text":" ","type":"text"},{"text":"and can modify its properties, call its instance methods, and so on.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Finally, any convenience initializers in the chain have the option","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to customize the instance and to work with "},{"type":"codeVoice","code":"self"},{"text":".","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"Here’s how phase 1 looks for an initialization call for a hypothetical subclass and superclass:","type":"text"}]},{"inlineContent":[{"type":"image","identifier":"twoPhaseInitialization01"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"In this example, initialization begins with a call to","type":"text"},{"type":"text","text":" "},{"text":"a convenience initializer on the subclass.","type":"text"},{"type":"text","text":" "},{"text":"This convenience initializer can’t yet modify any properties.","type":"text"},{"text":" ","type":"text"},{"text":"It delegates across to a designated initializer from the same class.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The designated initializer makes sure that all of the subclass’s properties have a value,"},{"text":" ","type":"text"},{"type":"text","text":"as per safety check 1. It then calls a designated initializer on its superclass"},{"type":"text","text":" "},{"type":"text","text":"to continue the initialization up the chain."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The superclass’s designated initializer makes sure that"},{"type":"text","text":" "},{"type":"text","text":"all of the superclass properties have a value."},{"type":"text","text":" "},{"type":"text","text":"There are no further superclasses to initialize,"},{"text":" ","type":"text"},{"text":"and so no further delegation is needed.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"As soon as all properties of the superclass have an initial value,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"its memory is considered fully initialized, and phase 1 is complete."}]},{"type":"paragraph","inlineContent":[{"text":"Here’s how phase 2 looks for the same initialization call:","type":"text"}]},{"inlineContent":[{"type":"image","identifier":"twoPhaseInitialization02"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The superclass’s designated initializer now has an opportunity"},{"text":" ","type":"text"},{"text":"to customize the instance further","type":"text"},{"type":"text","text":" "},{"type":"text","text":"(although it doesn’t have to)."}]},{"inlineContent":[{"type":"text","text":"Once the superclass’s designated initializer is finished,"},{"type":"text","text":" "},{"text":"the subclass’s designated initializer can perform additional customization","type":"text"},{"type":"text","text":" "},{"type":"text","text":"(although again, it doesn’t have to)."}],"type":"paragraph"},{"inlineContent":[{"text":"Finally, once the subclass’s designated initializer is finished,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the convenience initializer that was originally called"},{"text":" ","type":"text"},{"type":"text","text":"can perform additional customization."}],"type":"paragraph"},{"level":3,"text":"Herencia y sustitución de inicializadores","type":"heading","anchor":"Herencia-y-sustituci%C3%B3n-de-inicializadores"},{"inlineContent":[{"type":"text","text":"Unlike subclasses in Objective-C,"},{"type":"text","text":" "},{"text":"Swift subclasses don’t inherit their superclass initializers by default.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Swift’s approach prevents a situation in which a simple initializer from a superclass"},{"text":" ","type":"text"},{"type":"text","text":"is inherited by a more specialized subclass"},{"type":"text","text":" "},{"text":"and is used to create a new instance of the subclass","type":"text"},{"type":"text","text":" "},{"type":"text","text":"that isn’t fully or correctly initialized."}],"type":"paragraph"},{"style":"note","content":[{"inlineContent":[{"text":"Superclass initializers ","type":"text"},{"inlineContent":[{"text":"are","type":"text"}],"type":"emphasis"},{"type":"text","text":" inherited in certain circumstances,"},{"text":" ","type":"text"},{"type":"text","text":"but only when it’s safe and appropriate to do so."},{"type":"text","text":" "},{"type":"text","text":"For more information, see "},{"isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","type":"reference"},{"text":" below.","type":"text"}],"type":"paragraph"}],"type":"aside","name":"Note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want a custom subclass to present"},{"text":" ","type":"text"},{"type":"text","text":"one or more of the same initializers as its superclass,"},{"text":" ","type":"text"},{"text":"you can provide a custom implementation of those initializers within the subclass.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"When you write a subclass initializer that matches a superclass ","type":"text"},{"inlineContent":[{"type":"text","text":"designated"}],"type":"emphasis"},{"text":" initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you are effectively providing an override of that designated initializer."},{"type":"text","text":" "},{"text":"Therefore, you must write the ","type":"text"},{"type":"codeVoice","code":"override"},{"text":" modifier before the subclass’s initializer definition.","type":"text"},{"text":" ","type":"text"},{"text":"This is true even if you are overriding an automatically provided default initializer,","type":"text"},{"type":"text","text":" "},{"text":"as described in ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","isActive":true,"type":"reference"},{"text":".","type":"text"}]},{"inlineContent":[{"type":"text","text":"As with an overridden property, method or subscript,"},{"text":" ","type":"text"},{"text":"the presence of the ","type":"text"},{"type":"codeVoice","code":"override"},{"text":" modifier prompts Swift to check that","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the superclass has a matching designated initializer to be overridden,"},{"type":"text","text":" "},{"text":"and validates that the parameters for your overriding initializer have been specified as intended.","type":"text"}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You always write the "},{"code":"override","type":"codeVoice"},{"text":" modifier when overriding a superclass designated initializer,","type":"text"},{"type":"text","text":" "},{"text":"even if your subclass’s implementation of the initializer is a convenience initializer.","type":"text"}]}],"style":"note","type":"aside","name":"Note"},{"type":"paragraph","inlineContent":[{"text":"Conversely, if you write a subclass initializer that matches a superclass ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"convenience"}]},{"type":"text","text":" initializer,"},{"type":"text","text":" "},{"text":"that superclass convenience initializer can never be called directly by your subclass,","type":"text"},{"type":"text","text":" "},{"text":"as per the rules described above in ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","type":"reference","isActive":true},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Therefore, your subclass is not (strictly speaking) providing an override of the superclass initializer."},{"type":"text","text":" "},{"text":"As a result, you don’t write the ","type":"text"},{"code":"override","type":"codeVoice"},{"text":" modifier when providing","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a matching implementation of a superclass convenience initializer."}]},{"type":"paragraph","inlineContent":[{"text":"The example below defines a base class called ","type":"text"},{"code":"Vehicle","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"This base class declares a stored property called "},{"code":"numberOfWheels","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"with a default "},{"code":"Int","type":"codeVoice"},{"text":" value of ","type":"text"},{"type":"codeVoice","code":"0"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"numberOfWheels"},{"text":" property is used by a computed property called ","type":"text"},{"type":"codeVoice","code":"description"},{"type":"text","text":" "},{"type":"text","text":"to create a "},{"type":"codeVoice","code":"String"},{"text":" description of the vehicle’s characteristics:","type":"text"}]},{"code":["class Vehicle {","    var numberOfWheels = 0","    var description: String {","        return \"\\(numberOfWheels) wheel(s)\"","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"Vehicle","type":"codeVoice"},{"text":" class provides a default value for its only stored property,","type":"text"},{"text":" ","type":"text"},{"text":"and doesn’t provide any custom initializers itself.","type":"text"},{"text":" ","type":"text"},{"text":"As a result, it automatically receives a default initializer,","type":"text"},{"type":"text","text":" "},{"text":"as described in ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","isActive":true},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The default initializer (when available) is always a designated initializer for a class,"},{"type":"text","text":" "},{"text":"and can be used to create a new ","type":"text"},{"type":"codeVoice","code":"Vehicle"},{"text":" instance with a ","type":"text"},{"code":"numberOfWheels","type":"codeVoice"},{"type":"text","text":" of "},{"code":"0","type":"codeVoice"},{"text":":","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let vehicle = Vehicle()","print(\"Vehicle: \\(vehicle.description)\")","\/\/ Vehicle: 0 wheel(s)"]},{"inlineContent":[{"type":"text","text":"The next example defines a subclass of "},{"code":"Vehicle","type":"codeVoice"},{"type":"text","text":" called "},{"type":"codeVoice","code":"Bicycle"},{"text":":","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class Bicycle: Vehicle {","    override init() {","        super.init()","        numberOfWheels = 2","    }","}"]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"Bicycle"},{"text":" subclass defines a custom designated initializer, ","type":"text"},{"code":"init()","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This designated initializer matches a designated initializer from the superclass of "},{"type":"codeVoice","code":"Bicycle"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"and so the ","type":"text"},{"code":"Bicycle","type":"codeVoice"},{"type":"text","text":" version of this initializer is marked with the "},{"type":"codeVoice","code":"override"},{"type":"text","text":" modifier."}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"init()","type":"codeVoice"},{"type":"text","text":" initializer for "},{"type":"codeVoice","code":"Bicycle"},{"text":" starts by calling ","type":"text"},{"code":"super.init()","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"which calls the default initializer for the "},{"code":"Bicycle","type":"codeVoice"},{"type":"text","text":" class’s superclass, "},{"type":"codeVoice","code":"Vehicle"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"This ensures that the ","type":"text"},{"type":"codeVoice","code":"numberOfWheels"},{"text":" inherited property is initialized by ","type":"text"},{"code":"Vehicle","type":"codeVoice"},{"type":"text","text":" "},{"text":"before ","type":"text"},{"code":"Bicycle","type":"codeVoice"},{"type":"text","text":" has the opportunity to modify the property."},{"text":" ","type":"text"},{"text":"After calling ","type":"text"},{"code":"super.init()","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"the original value of "},{"code":"numberOfWheels","type":"codeVoice"},{"text":" is replaced with a new value of ","type":"text"},{"type":"codeVoice","code":"2"},{"text":".","type":"text"}]},{"inlineContent":[{"text":"If you create an instance of ","type":"text"},{"code":"Bicycle","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"you can call its inherited "},{"type":"codeVoice","code":"description"},{"text":" computed property","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to see how its "},{"type":"codeVoice","code":"numberOfWheels"},{"type":"text","text":" property has been updated:"}],"type":"paragraph"},{"code":["let bicycle = Bicycle()","print(\"Bicycle: \\(bicycle.description)\")","\/\/ Bicycle: 2 wheel(s)"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"If a subclass initializer performs no customization","type":"text"},{"type":"text","text":" "},{"text":"in phase 2 of the initialization process,","type":"text"},{"type":"text","text":" "},{"text":"and the superclass has a synchronous, zero-argument designated initializer,","type":"text"},{"type":"text","text":" "},{"text":"you can omit a call to ","type":"text"},{"type":"codeVoice","code":"super.init()"},{"type":"text","text":" "},{"text":"after assigning values to all of the subclass’s stored properties.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If the superclass’s initializer is asynchronous,"},{"text":" ","type":"text"},{"type":"text","text":"you need to write "},{"type":"codeVoice","code":"await super.init()"},{"type":"text","text":" explicitly."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This example defines another subclass of "},{"code":"Vehicle","type":"codeVoice"},{"text":", called ","type":"text"},{"type":"codeVoice","code":"Hoverboard"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"In its initializer, the ","type":"text"},{"type":"codeVoice","code":"Hoverboard"},{"type":"text","text":" class sets only its "},{"type":"codeVoice","code":"color"},{"type":"text","text":" property."},{"type":"text","text":" "},{"text":"Instead of making an explicit call to ","type":"text"},{"type":"codeVoice","code":"super.init()"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"this initializer relies on an implicit call to its superclass’s initializer"},{"type":"text","text":" "},{"text":"to complete the process.","type":"text"}]},{"code":["class Hoverboard: Vehicle {","    var color: String","    init(color: String) {","        self.color = color","        \/\/ super.init() implicitly called here","    }","    override var description: String {","        return \"\\(super.description) in a beautiful \\(color)\"","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"An instance of ","type":"text"},{"code":"Hoverboard","type":"codeVoice"},{"type":"text","text":" uses the default number of wheels"},{"text":" ","type":"text"},{"text":"supplied by the ","type":"text"},{"type":"codeVoice","code":"Vehicle"},{"type":"text","text":" initializer."}],"type":"paragraph"},{"type":"codeListing","code":["let hoverboard = Hoverboard(color: \"silver\")","print(\"Hoverboard: \\(hoverboard.description)\")","\/\/ Hoverboard: 0 wheel(s) in a beautiful silver"],"syntax":"swift"},{"name":"Note","style":"note","content":[{"inlineContent":[{"text":"Subclasses can modify inherited variable properties during initialization,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"but can’t modify inherited constant properties."}],"type":"paragraph"}],"type":"aside"},{"level":3,"type":"heading","anchor":"Herencia-autom%C3%A1tica-de-inicializadores","text":"Herencia automática de inicializadores"},{"type":"paragraph","inlineContent":[{"type":"text","text":"As mentioned above,"},{"type":"text","text":" "},{"text":"subclasses don’t inherit their superclass initializers by default.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"However, superclass initializers "},{"type":"emphasis","inlineContent":[{"type":"text","text":"are"}]},{"type":"text","text":" automatically inherited if certain conditions are met."},{"type":"text","text":" "},{"text":"In practice, this means that","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you don’t need to write initializer overrides in many common scenarios,"},{"text":" ","type":"text"},{"type":"text","text":"and can inherit your superclass initializers with minimal effort whenever it’s safe to do so."}]},{"inlineContent":[{"text":"Assuming that you provide default values for any new properties you introduce in a subclass,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the following two rules apply:"}],"type":"paragraph"},{"type":"termList","items":[{"definition":{"content":[{"inlineContent":[{"text":"If your subclass doesn’t define any designated initializers, it automatically inherits all of its superclass designated initializers.","type":"text"}],"type":"paragraph"}]},"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Rule 1","type":"text"}]}]}},{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Rule 2"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"If your subclass provides an implementation of ","type":"text"},{"inlineContent":[{"type":"text","text":"all"}],"type":"emphasis"},{"type":"text","text":" of its superclass designated initializers — either by inheriting them as per rule 1, or by providing a custom implementation as part of its definition — then it automatically inherits all of the superclass convenience initializers."}]}]}}]},{"inlineContent":[{"type":"text","text":"These rules apply even if your subclass adds further convenience initializers."}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"A subclass can implement a superclass designated initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"as a subclass convenience initializer as part of satisfying rule 2."}]}],"style":"note","name":"Note","type":"aside"},{"type":"heading","level":3,"anchor":"Inicializadores-designados-y-de-conveniencia-en-acci%C3%B3n","text":"Inicializadores designados y de conveniencia en acción"},{"type":"paragraph","inlineContent":[{"text":"The following example shows designated initializers, convenience initializers,","type":"text"},{"text":" ","type":"text"},{"text":"and automatic initializer inheritance in action.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This example defines a hierarchy of three classes called"},{"type":"text","text":" "},{"type":"codeVoice","code":"Food"},{"text":", ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":", and ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"and demonstrates how their initializers interact.","type":"text"}]},{"inlineContent":[{"text":"The base class in the hierarchy is called ","type":"text"},{"type":"codeVoice","code":"Food"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"which is a simple class to encapsulate the name of a foodstuff."},{"text":" ","type":"text"},{"type":"text","text":"The "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" class introduces a single "},{"type":"codeVoice","code":"String"},{"type":"text","text":" property called "},{"code":"name","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"and provides two initializers for creating "},{"type":"codeVoice","code":"Food"},{"text":" instances:","type":"text"}],"type":"paragraph"},{"code":["class Food {","    var name: String","    init(name: String) {","        self.name = name","    }","    convenience init() {","        self.init(name: \"[Unnamed]\")","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The figure below shows the initializer chain for the "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" class:"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"identifier":"initializersExample01","type":"image"}]},{"inlineContent":[{"type":"text","text":"Classes don’t have a default memberwise initializer,"},{"type":"text","text":" "},{"text":"and so the ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":" class provides a designated initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"that takes a single argument called "},{"code":"name","type":"codeVoice"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"This initializer can be used to create a new ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":" instance with a specific name:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let namedMeat = Food(name: \"Bacon\")","\/\/ namedMeat's name is \"Bacon\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":" initializer from the "},{"type":"codeVoice","code":"Food"},{"text":" class","type":"text"},{"type":"text","text":" "},{"text":"is provided as a ","type":"text"},{"inlineContent":[{"type":"text","text":"designated"}],"type":"emphasis"},{"type":"text","text":" initializer,"},{"type":"text","text":" "},{"type":"text","text":"because it ensures that all stored properties of"},{"type":"text","text":" "},{"type":"text","text":"a new "},{"code":"Food","type":"codeVoice"},{"type":"text","text":" instance are fully initialized."},{"text":" ","type":"text"},{"type":"text","text":"The "},{"code":"Food","type":"codeVoice"},{"type":"text","text":" class doesn’t have a superclass,"},{"type":"text","text":" "},{"text":"and so the ","type":"text"},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":" initializer doesn’t need to call "},{"code":"super.init()","type":"codeVoice"},{"type":"text","text":" "},{"text":"to complete its initialization.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"Food","type":"codeVoice"},{"text":" class also provides a ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"convenience"}]},{"type":"text","text":" initializer, "},{"type":"codeVoice","code":"init()"},{"text":", with no arguments.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"type":"codeVoice","code":"init()"},{"text":" initializer provides a default placeholder name for a new food","type":"text"},{"type":"text","text":" "},{"text":"by delegating across to the ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":" class’s ","type":"text"},{"code":"init(name: String)","type":"codeVoice"},{"text":" with","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"a "},{"type":"codeVoice","code":"name"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"[Unnamed]"},{"type":"text","text":":"}]},{"type":"codeListing","code":["let mysteryMeat = Food()","\/\/ mysteryMeat's name is \"[Unnamed]\""],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The second class in the hierarchy is a subclass of "},{"code":"Food","type":"codeVoice"},{"type":"text","text":" called "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" class models an ingredient in a cooking recipe."},{"type":"text","text":" "},{"type":"text","text":"It introduces an "},{"type":"codeVoice","code":"Int"},{"type":"text","text":" property called "},{"code":"quantity","type":"codeVoice"},{"type":"text","text":" "},{"text":"(in addition to the ","type":"text"},{"code":"name","type":"codeVoice"},{"text":" property it inherits from ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":")","type":"text"},{"text":" ","type":"text"},{"text":"and defines two initializers for creating ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" instances:"}]},{"type":"codeListing","syntax":"swift","code":["class RecipeIngredient: Food {","    var quantity: Int","    init(name: String, quantity: Int) {","        self.quantity = quantity","        super.init(name: name)","    }","    override convenience init(name: String) {","        self.init(name: name, quantity: 1)","    }","}"]},{"inlineContent":[{"text":"The figure below shows the initializer chain for the ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" class:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"initializersExample02","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" class has a single designated initializer,","type":"text"},{"type":"text","text":" "},{"code":"init(name: String, quantity: Int)","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which can be used to populate all of the properties of a new "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" instance.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This initializer starts by assigning"},{"type":"text","text":" "},{"text":"the passed ","type":"text"},{"code":"quantity","type":"codeVoice"},{"text":" argument to the ","type":"text"},{"code":"quantity","type":"codeVoice"},{"type":"text","text":" property,"},{"text":" ","type":"text"},{"type":"text","text":"which is the only new property introduced by "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"After doing so, the initializer delegates up to"},{"type":"text","text":" "},{"type":"text","text":"the "},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":" initializer of the "},{"code":"Food","type":"codeVoice"},{"text":" class.","type":"text"},{"text":" ","type":"text"},{"text":"This process satisfies safety check 1","type":"text"},{"text":" ","type":"text"},{"text":"from ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializaci%C3%B3n-de-dos-fases","isActive":true,"type":"reference"},{"text":" above.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" also defines a convenience initializer, "},{"type":"codeVoice","code":"init(name: String)"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which is used to create a "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" instance by name alone.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This convenience initializer assumes a quantity of "},{"code":"1","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"for any "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" instance that’s created without an explicit quantity."},{"text":" ","type":"text"},{"type":"text","text":"The definition of this convenience initializer makes"},{"text":" ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" instances quicker and more convenient to create,","type":"text"},{"type":"text","text":" "},{"text":"and avoids code duplication when creating","type":"text"},{"type":"text","text":" "},{"type":"text","text":"several single-quantity "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" instances.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This convenience initializer simply delegates across to the class’s designated initializer,"},{"type":"text","text":" "},{"type":"text","text":"passing in a "},{"type":"codeVoice","code":"quantity"},{"text":" value of ","type":"text"},{"code":"1","type":"codeVoice"},{"type":"text","text":"."}]},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"init(name: String)"},{"type":"text","text":" convenience initializer provided by "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"takes the same parameters as the "},{"type":"codeVoice","code":"init(name: String)"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"designated"}]},{"text":" initializer from ","type":"text"},{"code":"Food","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"Because this convenience initializer overrides a designated initializer from its superclass,","type":"text"},{"text":" ","type":"text"},{"text":"it must be marked with the ","type":"text"},{"type":"codeVoice","code":"override"},{"text":" modifier","type":"text"},{"type":"text","text":" "},{"text":"(as described in ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores"},{"text":").","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Even though ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" provides","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the "},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":" initializer as a convenience initializer,"},{"text":" ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" has nonetheless provided an implementation of","type":"text"},{"type":"text","text":" "},{"text":"all of its superclass’s designated initializers.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Therefore, "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" automatically inherits"},{"type":"text","text":" "},{"type":"text","text":"all of its superclass’s convenience initializers too."}]},{"type":"paragraph","inlineContent":[{"text":"In this example, the superclass for ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" is "},{"type":"codeVoice","code":"Food"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"which has a single convenience initializer called ","type":"text"},{"type":"codeVoice","code":"init()"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"This initializer is therefore inherited by ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"The inherited version of ","type":"text"},{"code":"init()","type":"codeVoice"},{"type":"text","text":" functions in exactly the same way as the "},{"code":"Food","type":"codeVoice"},{"text":" version,","type":"text"},{"text":" ","type":"text"},{"text":"except that it delegates to the ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" version of ","type":"text"},{"type":"codeVoice","code":"init(name: String)"},{"text":" ","type":"text"},{"type":"text","text":"rather than the "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" version."}]},{"type":"paragraph","inlineContent":[{"text":"All three of these initializers can be used to create new ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" instances:","type":"text"}]},{"syntax":"swift","code":["let oneMysteryItem = RecipeIngredient()","let oneBacon = RecipeIngredient(name: \"Bacon\")","let sixEggs = RecipeIngredient(name: \"Eggs\", quantity: 6)"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"The third and final class in the hierarchy is","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a subclass of "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" called "},{"type":"codeVoice","code":"ShoppingListItem"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" class models a recipe ingredient as it appears in a shopping list."}]},{"inlineContent":[{"type":"text","text":"Every item in the shopping list starts out as “unpurchased”."},{"type":"text","text":" "},{"type":"text","text":"To represent this fact,"},{"type":"text","text":" "},{"code":"ShoppingListItem","type":"codeVoice"},{"text":" introduces a Boolean property called ","type":"text"},{"type":"codeVoice","code":"purchased"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"with a default value of ","type":"text"},{"type":"codeVoice","code":"false"},{"type":"text","text":"."},{"text":" ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" also adds a computed "},{"type":"codeVoice","code":"description"},{"type":"text","text":" property,"},{"type":"text","text":" "},{"text":"which provides a textual description of a ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" instance:"}],"type":"paragraph"},{"type":"codeListing","code":["class ShoppingListItem: RecipeIngredient {","    var purchased = false","    var description: String {","        var output = \"\\(quantity) x \\(name)\"","        output += purchased ? \" ✔\" : \" ✘\"","        return output","    }","}"],"syntax":"swift"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" doesn’t define an initializer to provide"},{"text":" ","type":"text"},{"type":"text","text":"an initial value for "},{"type":"codeVoice","code":"purchased"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"because items in a shopping list (as modeled here) always start out unpurchased.","type":"text"}]}],"style":"note","name":"Note","type":"aside"},{"inlineContent":[{"type":"text","text":"Because it provides a default value for all of the properties it introduces"},{"type":"text","text":" "},{"type":"text","text":"and doesn’t define any initializers itself,"},{"text":" ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" automatically inherits"},{"text":" ","type":"text"},{"inlineContent":[{"type":"text","text":"all"}],"type":"emphasis"},{"text":" of the designated and convenience initializers from its superclass.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The figure below shows the overall initializer chain for all three classes:"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"initializersExample03"}]},{"type":"paragraph","inlineContent":[{"text":"You can use all three of the inherited initializers","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to create a new "},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" instance:"}]},{"syntax":"swift","code":["var breakfastList = [","    ShoppingListItem(),","    ShoppingListItem(name: \"Bacon\"),","    ShoppingListItem(name: \"Eggs\", quantity: 6),","]","breakfastList[0].name = \"Orange juice\"","breakfastList[0].purchased = true","for item in breakfastList {","    print(item.description)","}","\/\/ 1 x Orange juice ✔","\/\/ 1 x Bacon ✘","\/\/ 6 x Eggs ✘"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here, a new array called "},{"code":"breakfastList","type":"codeVoice"},{"text":" is created from","type":"text"},{"type":"text","text":" "},{"type":"text","text":"an array literal containing three new "},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" instances."},{"type":"text","text":" "},{"text":"The type of the array is inferred to be ","type":"text"},{"type":"codeVoice","code":"[ShoppingListItem]"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"After the array is created,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the name of the "},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" at the start of the array"},{"text":" ","type":"text"},{"type":"text","text":"is changed from "},{"type":"codeVoice","code":"\"[Unnamed]\""},{"type":"text","text":" to "},{"type":"codeVoice","code":"\"Orange juice\""},{"text":" ","type":"text"},{"text":"and it’s marked as having been purchased.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Printing the description of each item in the array"},{"text":" ","type":"text"},{"type":"text","text":"shows that their default states have been set as expected."}]},{"type":"heading","level":2,"text":"Inicializadores falibles","anchor":"Inicializadores-falibles"},{"inlineContent":[{"type":"text","text":"It’s sometimes useful to define a class, structure, or enumeration"},{"text":" ","type":"text"},{"text":"for which initialization can fail.","type":"text"},{"type":"text","text":" "},{"text":"This failure might be triggered by invalid initialization parameter values,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the absence of a required external resource,"},{"type":"text","text":" "},{"type":"text","text":"or some other condition that prevents initialization from succeeding."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"To cope with initialization conditions that can fail,"},{"type":"text","text":" "},{"type":"text","text":"define one or more failable initializers as part of"},{"type":"text","text":" "},{"type":"text","text":"a class, structure, or enumeration definition."},{"text":" ","type":"text"},{"text":"You write a failable initializer","type":"text"},{"type":"text","text":" "},{"text":"by placing a question mark after the ","type":"text"},{"type":"codeVoice","code":"init"},{"text":" keyword (","type":"text"},{"type":"codeVoice","code":"init?"},{"text":").","type":"text"}],"type":"paragraph"},{"name":"Note","type":"aside","style":"note","content":[{"inlineContent":[{"type":"text","text":"You can’t define a failable and a nonfailable initializer"},{"type":"text","text":" "},{"type":"text","text":"with the same parameter types and names."}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A failable initializer creates an "},{"type":"emphasis","inlineContent":[{"text":"optional","type":"text"}]},{"type":"text","text":" value of the type it initializes."},{"text":" ","type":"text"},{"type":"text","text":"You write "},{"type":"codeVoice","code":"return nil"},{"type":"text","text":" within a failable initializer"},{"type":"text","text":" "},{"text":"to indicate a point at which initialization failure can be triggered.","type":"text"}]},{"style":"note","type":"aside","name":"Note","content":[{"inlineContent":[{"type":"text","text":"Strictly speaking, initializers don’t return a value."},{"type":"text","text":" "},{"type":"text","text":"Rather, their role is to ensure that "},{"type":"codeVoice","code":"self"},{"type":"text","text":" is fully and correctly initialized"},{"type":"text","text":" "},{"text":"by the time that initialization ends.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Although you write "},{"type":"codeVoice","code":"return nil"},{"type":"text","text":" to trigger an initialization failure,"},{"text":" ","type":"text"},{"type":"text","text":"you don’t use the "},{"type":"codeVoice","code":"return"},{"type":"text","text":" keyword to indicate initialization success."}],"type":"paragraph"}]},{"inlineContent":[{"type":"text","text":"For instance, failable initializers are implemented for numeric type conversions."},{"type":"text","text":" "},{"text":"To ensure conversion between numeric types maintains the value exactly,","type":"text"},{"type":"text","text":" "},{"text":"use the ","type":"text"},{"code":"init(exactly:)","type":"codeVoice"},{"type":"text","text":" initializer."},{"text":" ","type":"text"},{"type":"text","text":"If the type conversion can’t maintain the value,"},{"text":" ","type":"text"},{"type":"text","text":"the initializer fails."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let wholeNumber: Double = 12345.0","let pi = 3.14159","","if let valueMaintained = Int(exactly: wholeNumber) {","    print(\"\\(wholeNumber) conversion to Int maintains value of \\(valueMaintained)\")","}","\/\/ Prints \"12345.0 conversion to Int maintains value of 12345\"","","let valueChanged = Int(exactly: pi)","\/\/ valueChanged is of type Int?, not Int","","if valueChanged == nil {","    print(\"\\(pi) conversion to Int doesn't maintain value\")","}","\/\/ Prints \"3.14159 conversion to Int doesn't maintain value\""]},{"type":"paragraph","inlineContent":[{"text":"The example below defines a structure called ","type":"text"},{"type":"codeVoice","code":"Animal"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"with a constant ","type":"text"},{"type":"codeVoice","code":"String"},{"text":" property called ","type":"text"},{"type":"codeVoice","code":"species"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"The ","type":"text"},{"code":"Animal","type":"codeVoice"},{"text":" structure also defines a failable initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with a single parameter called "},{"code":"species","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"This initializer checks if the ","type":"text"},{"code":"species","type":"codeVoice"},{"type":"text","text":" value passed to the initializer is an empty string."},{"type":"text","text":" "},{"type":"text","text":"If an empty string is found, an initialization failure is triggered."},{"type":"text","text":" "},{"text":"Otherwise, the ","type":"text"},{"type":"codeVoice","code":"species"},{"type":"text","text":" property’s value is set, and initialization succeeds:"}]},{"type":"codeListing","code":["struct Animal {","    let species: String","    init?(species: String) {","        if species.isEmpty { return nil }","        self.species = species","    }","}"],"syntax":"swift"},{"inlineContent":[{"text":"You can use this failable initializer to try to initialize a new ","type":"text"},{"code":"Animal","type":"codeVoice"},{"text":" instance","type":"text"},{"text":" ","type":"text"},{"text":"and to check if initialization succeeded:","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["let someCreature = Animal(species: \"Giraffe\")","\/\/ someCreature is of type Animal?, not Animal","","if let giraffe = someCreature {","    print(\"An animal was initialized with a species of \\(giraffe.species)\")","}","\/\/ Prints \"An animal was initialized with a species of Giraffe\""],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"If you pass an empty string value to the failable initializer’s ","type":"text"},{"type":"codeVoice","code":"species"},{"type":"text","text":" parameter,"},{"type":"text","text":" "},{"type":"text","text":"the initializer triggers an initialization failure:"}]},{"code":["let anonymousCreature = Animal(species: \"\")","\/\/ anonymousCreature is of type Animal?, not Animal","","if anonymousCreature == nil {","    print(\"The anonymous creature couldn't be initialized\")","}","\/\/ Prints \"The anonymous creature couldn't be initialized\""],"syntax":"swift","type":"codeListing"},{"type":"aside","style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Checking for an empty string value (such as "},{"type":"codeVoice","code":"\"\""},{"type":"text","text":" rather than "},{"code":"\"Giraffe\"","type":"codeVoice"},{"type":"text","text":")"},{"type":"text","text":" "},{"type":"text","text":"isn’t the same as checking for "},{"type":"codeVoice","code":"nil"},{"type":"text","text":" to indicate the absence of an "},{"inlineContent":[{"type":"text","text":"optional"}],"type":"emphasis"},{"text":" ","type":"text"},{"code":"String","type":"codeVoice"},{"text":" value.","type":"text"},{"type":"text","text":" "},{"text":"In the example above, an empty string (","type":"text"},{"type":"codeVoice","code":"\"\""},{"text":") is a valid, non-optional ","type":"text"},{"code":"String","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"However, it’s not appropriate for an animal","type":"text"},{"type":"text","text":" "},{"text":"to have an empty string as the value of its ","type":"text"},{"type":"codeVoice","code":"species"},{"type":"text","text":" property."},{"text":" ","type":"text"},{"text":"To model this restriction,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the failable initializer triggers an initialization failure if an empty string is found."}]}]},{"anchor":"Inicializadores-falibles-para-enumeraciones","text":"Inicializadores falibles para enumeraciones","level":3,"type":"heading"},{"inlineContent":[{"text":"You can use a failable initializer to select an appropriate enumeration case","type":"text"},{"type":"text","text":" "},{"text":"based on one or more parameters.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The initializer can then fail if the provided parameters"},{"text":" ","type":"text"},{"type":"text","text":"don’t match an appropriate enumeration case."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The example below defines an enumeration called "},{"code":"TemperatureUnit","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"with three possible states (","type":"text"},{"type":"codeVoice","code":"kelvin"},{"type":"text","text":", "},{"code":"celsius","type":"codeVoice"},{"type":"text","text":", and "},{"code":"fahrenheit","type":"codeVoice"},{"type":"text","text":")."},{"type":"text","text":" "},{"text":"A failable initializer is used to find an appropriate enumeration case","type":"text"},{"type":"text","text":" "},{"text":"for a ","type":"text"},{"type":"codeVoice","code":"Character"},{"type":"text","text":" value representing a temperature symbol:"}]},{"type":"codeListing","code":["enum TemperatureUnit {","    case kelvin, celsius, fahrenheit","    init?(symbol: Character) {","        switch symbol {","        case \"K\":","            self = .kelvin","        case \"C\":","            self = .celsius","        case \"F\":","            self = .fahrenheit","        default:","            return nil","        }","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use this failable initializer to choose"},{"text":" ","type":"text"},{"text":"an appropriate enumeration case for the three possible states","type":"text"},{"text":" ","type":"text"},{"text":"and to cause initialization to fail if the parameter doesn’t match one of these","type":"text"},{"type":"text","text":" "},{"text":"states:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let fahrenheitUnit = TemperatureUnit(symbol: \"F\")","if fahrenheitUnit != nil {","    print(\"This is a defined temperature unit, so initialization succeeded.\")","}","\/\/ Prints \"This is a defined temperature unit, so initialization succeeded.\"","","let unknownUnit = TemperatureUnit(symbol: \"X\")","if unknownUnit == nil {","    print(\"This isn't a defined temperature unit, so initialization failed.\")","}","\/\/ Prints \"This isn't a defined temperature unit, so initialization failed.\""]},{"text":"Inicializadores falibles para enumeraciones con valores brutos","type":"heading","level":3,"anchor":"Inicializadores-falibles-para-enumeraciones-con-valores-brutos"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Enumerations with raw values automatically receive a failable initializer,"},{"type":"text","text":" "},{"type":"codeVoice","code":"init?(rawValue:)"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"that takes a parameter called "},{"type":"codeVoice","code":"rawValue"},{"type":"text","text":" of the appropriate raw-value type"},{"text":" ","type":"text"},{"text":"and selects a matching enumeration case if one is found,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"or triggers an initialization failure if no matching value exists."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can rewrite the "},{"type":"codeVoice","code":"TemperatureUnit"},{"text":" example from above","type":"text"},{"type":"text","text":" "},{"text":"to use raw values of type ","type":"text"},{"code":"Character","type":"codeVoice"},{"text":" ","type":"text"},{"text":"and to take advantage of the ","type":"text"},{"code":"init?(rawValue:)","type":"codeVoice"},{"text":" initializer:","type":"text"}]},{"code":["enum TemperatureUnit: Character {","    case kelvin = \"K\", celsius = \"C\", fahrenheit = \"F\"","}","","let fahrenheitUnit = TemperatureUnit(rawValue: \"F\")","if fahrenheitUnit != nil {","    print(\"This is a defined temperature unit, so initialization succeeded.\")","}","\/\/ Prints \"This is a defined temperature unit, so initialization succeeded.\"","","let unknownUnit = TemperatureUnit(rawValue: \"X\")","if unknownUnit == nil {","    print(\"This isn't a defined temperature unit, so initialization failed.\")","}","\/\/ Prints \"This isn't a defined temperature unit, so initialization failed.\""],"type":"codeListing","syntax":"swift"},{"text":"Propagación de fallas de inicialización","anchor":"Propagaci%C3%B3n-de-fallas-de-inicializaci%C3%B3n","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"A failable initializer of a class, structure, or enumeration","type":"text"},{"type":"text","text":" "},{"text":"can delegate across to another failable initializer from the same class, structure, or enumeration.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Similarly, a subclass failable initializer can delegate up to a superclass failable initializer."}]},{"inlineContent":[{"text":"In either case, if you delegate to another initializer that causes initialization to fail,","type":"text"},{"text":" ","type":"text"},{"text":"the entire initialization process fails immediately,","type":"text"},{"text":" ","type":"text"},{"text":"and no further initialization code is executed.","type":"text"}],"type":"paragraph"},{"style":"note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"A failable initializer can also delegate to a nonfailable initializer.","type":"text"},{"type":"text","text":" "},{"text":"Use this approach if you need to add a potential failure state","type":"text"},{"text":" ","type":"text"},{"text":"to an existing initialization process that doesn’t otherwise fail.","type":"text"}]}],"name":"Note"},{"inlineContent":[{"type":"text","text":"The example below defines a subclass of "},{"code":"Product","type":"codeVoice"},{"type":"text","text":" called "},{"code":"CartItem","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"The ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":" class models an item in an online shopping cart."},{"text":" ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":" introduces a stored constant property called "},{"type":"codeVoice","code":"quantity"},{"type":"text","text":" "},{"type":"text","text":"and ensures that this property always has a value of at least "},{"type":"codeVoice","code":"1"},{"text":":","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class Product {","    let name: String","    init?(name: String) {","        if name.isEmpty { return nil }","        self.name = name","    }","}","","class CartItem: Product {","    let quantity: Int","    init?(name: String, quantity: Int) {","        if quantity < 1 { return nil }","        self.quantity = quantity","        super.init(name: name)","    }","}"]},{"inlineContent":[{"type":"text","text":"The failable initializer for "},{"type":"codeVoice","code":"CartItem"},{"text":" starts by","type":"text"},{"type":"text","text":" "},{"text":"validating that it has received a ","type":"text"},{"type":"codeVoice","code":"quantity"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"1"},{"type":"text","text":" or more."},{"text":" ","type":"text"},{"text":"If the ","type":"text"},{"code":"quantity","type":"codeVoice"},{"type":"text","text":" is invalid,"},{"type":"text","text":" "},{"text":"the entire initialization process fails immediately","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and no further initialization code is executed."},{"type":"text","text":" "},{"type":"text","text":"Likewise, the failable initializer for "},{"code":"Product","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"checks the "},{"code":"name","type":"codeVoice"},{"type":"text","text":" value,"},{"type":"text","text":" "},{"type":"text","text":"and the initializer process fails immediately"},{"text":" ","type":"text"},{"type":"text","text":"if "},{"code":"name","type":"codeVoice"},{"text":" is the empty string.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"If you create a ","type":"text"},{"code":"CartItem","type":"codeVoice"},{"text":" instance with a nonempty name and a quantity of ","type":"text"},{"type":"codeVoice","code":"1"},{"text":" or more,","type":"text"},{"type":"text","text":" "},{"text":"initialization succeeds:","type":"text"}]},{"syntax":"swift","code":["if let twoSocks = CartItem(name: \"sock\", quantity: 2) {","    print(\"Item: \\(twoSocks.name), quantity: \\(twoSocks.quantity)\")","}","\/\/ Prints \"Item: sock, quantity: 2\""],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"If you try to create a "},{"type":"codeVoice","code":"CartItem"},{"text":" instance with a ","type":"text"},{"type":"codeVoice","code":"quantity"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"0"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"the ","type":"text"},{"code":"CartItem","type":"codeVoice"},{"text":" initializer causes initialization to fail:","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["if let zeroShirts = CartItem(name: \"shirt\", quantity: 0) {","    print(\"Item: \\(zeroShirts.name), quantity: \\(zeroShirts.quantity)\")","} else {","    print(\"Unable to initialize zero shirts\")","}","\/\/ Prints \"Unable to initialize zero shirts\""],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"Similarly, if you try to create a "},{"code":"CartItem","type":"codeVoice"},{"text":" instance with an empty ","type":"text"},{"code":"name","type":"codeVoice"},{"text":" value,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the superclass "},{"type":"codeVoice","code":"Product"},{"text":" initializer causes initialization to fail:","type":"text"}],"type":"paragraph"},{"code":["if let oneUnnamed = CartItem(name: \"\", quantity: 1) {","    print(\"Item: \\(oneUnnamed.name), quantity: \\(oneUnnamed.quantity)\")","} else {","    print(\"Unable to initialize one unnamed product\")","}","\/\/ Prints \"Unable to initialize one unnamed product\""],"type":"codeListing","syntax":"swift"},{"text":"Sustitución de un inicializador falible","level":3,"anchor":"Sustituci%C3%B3n-de-un-inicializador-falible","type":"heading"},{"inlineContent":[{"type":"text","text":"You can override a superclass failable initializer in a subclass,"},{"type":"text","text":" "},{"type":"text","text":"just like any other initializer."},{"type":"text","text":" "},{"text":"Alternatively, you can override a superclass failable initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with a subclass "},{"type":"emphasis","inlineContent":[{"type":"text","text":"nonfailable"}]},{"text":" initializer.","type":"text"},{"type":"text","text":" "},{"text":"This enables you to define a subclass for which initialization can’t fail,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"even though initialization of the superclass is allowed to fail."}],"type":"paragraph"},{"inlineContent":[{"text":"Note that if you override a failable superclass initializer with a nonfailable subclass initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the only way to delegate up to the superclass initializer"},{"text":" ","type":"text"},{"text":"is to force-unwrap the result of the failable superclass initializer.","type":"text"}],"type":"paragraph"},{"content":[{"inlineContent":[{"type":"text","text":"You can override a failable initializer with a nonfailable initializer"},{"text":" ","type":"text"},{"type":"text","text":"but not the other way around."}],"type":"paragraph"}],"style":"note","type":"aside","name":"Note"},{"inlineContent":[{"type":"text","text":"The example below defines a class called "},{"code":"Document","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This class models a document that can be initialized with"},{"type":"text","text":" "},{"type":"text","text":"a "},{"type":"codeVoice","code":"name"},{"type":"text","text":" property that’s either a nonempty string value or "},{"code":"nil","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"but can’t be an empty string:"}],"type":"paragraph"},{"code":["class Document {","    var name: String?","    \/\/ this initializer creates a document with a nil name value","    init() {}","    \/\/ this initializer creates a document with a nonempty name value","    init?(name: String) {","        if name.isEmpty { return nil }","        self.name = name","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The next example defines a subclass of ","type":"text"},{"code":"Document","type":"codeVoice"},{"type":"text","text":" called "},{"code":"AutomaticallyNamedDocument","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"The ","type":"text"},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"type":"text","text":" subclass overrides"},{"text":" ","type":"text"},{"text":"both of the designated initializers introduced by ","type":"text"},{"type":"codeVoice","code":"Document"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"These overrides ensure that an ","type":"text"},{"code":"AutomaticallyNamedDocument","type":"codeVoice"},{"type":"text","text":" instance has"},{"type":"text","text":" "},{"text":"an initial ","type":"text"},{"code":"name","type":"codeVoice"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"\"[Untitled]\""},{"type":"text","text":" "},{"type":"text","text":"if the instance is initialized without a name,"},{"type":"text","text":" "},{"type":"text","text":"or if an empty string is passed to the "},{"type":"codeVoice","code":"init(name:)"},{"type":"text","text":" initializer:"}],"type":"paragraph"},{"type":"codeListing","code":["class AutomaticallyNamedDocument: Document {","    override init() {","        super.init()","        self.name = \"[Untitled]\"","    }","    override init(name: String) {","        super.init()","        if name.isEmpty {","            self.name = \"[Untitled]\"","        } else {","            self.name = name","        }","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"AutomaticallyNamedDocument","type":"codeVoice"},{"type":"text","text":" overrides its superclass’s"},{"type":"text","text":" "},{"type":"text","text":"failable "},{"type":"codeVoice","code":"init?(name:)"},{"text":" initializer with a nonfailable ","type":"text"},{"code":"init(name:)","type":"codeVoice"},{"type":"text","text":" initializer."},{"text":" ","type":"text"},{"type":"text","text":"Because "},{"code":"AutomaticallyNamedDocument","type":"codeVoice"},{"type":"text","text":" copes with the empty string case"},{"type":"text","text":" "},{"type":"text","text":"in a different way than its superclass,"},{"type":"text","text":" "},{"text":"its initializer doesn’t need to fail,","type":"text"},{"text":" ","type":"text"},{"text":"and so it provides a nonfailable version of the initializer instead.","type":"text"}]},{"inlineContent":[{"text":"You can use forced unwrapping in an initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to call a failable initializer from the superclass"},{"text":" ","type":"text"},{"text":"as part of the implementation of a subclass’s nonfailable initializer.","type":"text"},{"text":" ","type":"text"},{"text":"For example, the ","type":"text"},{"code":"UntitledDocument","type":"codeVoice"},{"type":"text","text":" subclass below is always named "},{"code":"\"[Untitled]\"","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"and it uses the failable "},{"code":"init(name:)","type":"codeVoice"},{"text":" initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"from its superclass during initialization."}],"type":"paragraph"},{"code":["class UntitledDocument: Document {","    override init() {","        super.init(name: \"[Untitled]\")!","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"In this case, if the ","type":"text"},{"code":"init(name:)","type":"codeVoice"},{"type":"text","text":" initializer of the superclass"},{"type":"text","text":" "},{"text":"were ever called with an empty string as the name,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the forced unwrapping operation would result in a runtime error."},{"type":"text","text":" "},{"text":"However, because it’s called with a string constant,","type":"text"},{"text":" ","type":"text"},{"text":"you can see that the initializer won’t fail,","type":"text"},{"type":"text","text":" "},{"text":"so no runtime error can occur in this case.","type":"text"}],"type":"paragraph"},{"type":"heading","level":3,"anchor":"El-inicializador-falible-init","text":"El inicializador falible init!"},{"type":"paragraph","inlineContent":[{"text":"You typically define a failable initializer","type":"text"},{"type":"text","text":" "},{"text":"that creates an optional instance of the appropriate type","type":"text"},{"type":"text","text":" "},{"type":"text","text":"by placing a question mark after the "},{"type":"codeVoice","code":"init"},{"type":"text","text":" keyword ("},{"code":"init?","type":"codeVoice"},{"text":").","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Alternatively, you can define a failable initializer that creates"},{"text":" ","type":"text"},{"text":"an implicitly unwrapped optional instance of the appropriate type.","type":"text"},{"text":" ","type":"text"},{"text":"Do this by placing an exclamation point after the ","type":"text"},{"code":"init","type":"codeVoice"},{"text":" keyword (","type":"text"},{"type":"codeVoice","code":"init!"},{"type":"text","text":")"},{"text":" ","type":"text"},{"text":"instead of a question mark.","type":"text"}]},{"inlineContent":[{"text":"You can delegate from ","type":"text"},{"code":"init?","type":"codeVoice"},{"text":" to ","type":"text"},{"type":"codeVoice","code":"init!"},{"text":" and vice versa,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and you can override "},{"type":"codeVoice","code":"init?"},{"type":"text","text":" with "},{"code":"init!","type":"codeVoice"},{"type":"text","text":" and vice versa."},{"text":" ","type":"text"},{"type":"text","text":"You can also delegate from "},{"code":"init","type":"codeVoice"},{"text":" to ","type":"text"},{"type":"codeVoice","code":"init!"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"although doing so will trigger an assertion"},{"text":" ","type":"text"},{"type":"text","text":"if the "},{"code":"init!","type":"codeVoice"},{"text":" initializer causes initialization to fail.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Inicializadores obligatorios","type":"heading","anchor":"Inicializadores-obligatorios"},{"inlineContent":[{"text":"Write the ","type":"text"},{"code":"required","type":"codeVoice"},{"type":"text","text":" modifier before the definition of a class initializer"},{"text":" ","type":"text"},{"type":"text","text":"to indicate that every subclass of the class must implement that initializer:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["class SomeClass {","    required init() {","        \/\/ initializer implementation goes here","    }","}"]},{"inlineContent":[{"text":"You must also write the ","type":"text"},{"type":"codeVoice","code":"required"},{"text":" modifier before","type":"text"},{"type":"text","text":" "},{"text":"every subclass implementation of a required initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to indicate that the initializer requirement applies to further subclasses in the chain."},{"text":" ","type":"text"},{"type":"text","text":"You don’t write the "},{"code":"override","type":"codeVoice"},{"type":"text","text":" modifier when overriding a required designated initializer:"}],"type":"paragraph"},{"code":["class SomeSubclass: SomeClass {","    required init() {","        \/\/ subclass implementation of the required initializer goes here","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"You don’t have to provide an explicit implementation of a required initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"if you can satisfy the requirement with an inherited initializer."}]}],"name":"Note"},{"type":"heading","text":"Asignación de un valor predeterminado a una propiedad mediante una clausura o función","level":2,"anchor":"Asignaci%C3%B3n-de-un-valor-predeterminado-a-una-propiedad-mediante-una-clausura-o-funci%C3%B3n"},{"inlineContent":[{"type":"text","text":"If a stored property’s default value requires some customization or setup,"},{"text":" ","type":"text"},{"type":"text","text":"you can use a closure or global function to provide"},{"text":" ","type":"text"},{"type":"text","text":"a customized default value for that property."},{"text":" ","type":"text"},{"type":"text","text":"Whenever a new instance of the type that the property belongs to is initialized,"},{"text":" ","type":"text"},{"type":"text","text":"the closure or function is called,"},{"text":" ","type":"text"},{"text":"and its return value is assigned as the property’s default value.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"These kinds of closures or functions typically create","type":"text"},{"text":" ","type":"text"},{"text":"a temporary value of the same type as the property,","type":"text"},{"type":"text","text":" "},{"text":"tailor that value to represent the desired initial state,","type":"text"},{"type":"text","text":" "},{"text":"and then return that temporary value to be used as the property’s default value.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here’s a skeleton outline of how a closure can be used"},{"type":"text","text":" "},{"type":"text","text":"to provide a default property value:"}]},{"type":"codeListing","syntax":"swift","code":["class SomeClass {","    let someProperty: SomeType = {","        \/\/ create a default value for someProperty inside this closure","        \/\/ someValue must be of the same type as SomeType","        return someValue","    }()","}"]},{"inlineContent":[{"text":"Note that the closure’s end curly brace is followed by an empty pair of parentheses.","type":"text"},{"text":" ","type":"text"},{"text":"This tells Swift to execute the closure immediately.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If you omit these parentheses,"},{"type":"text","text":" "},{"text":"you are trying to assign the closure itself to the property,","type":"text"},{"text":" ","type":"text"},{"text":"and not the return value of the closure.","type":"text"}],"type":"paragraph"},{"type":"aside","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If you use a closure to initialize a property,"},{"text":" ","type":"text"},{"type":"text","text":"remember that the rest of the instance hasn’t yet been initialized"},{"type":"text","text":" "},{"text":"at the point that the closure is executed.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This means that you can’t access any other property values from within your closure,"},{"text":" ","type":"text"},{"type":"text","text":"even if those properties have default values."},{"type":"text","text":" "},{"text":"You also can’t use the implicit ","type":"text"},{"code":"self","type":"codeVoice"},{"type":"text","text":" property,"},{"type":"text","text":" "},{"text":"or call any of the instance’s methods.","type":"text"}]}],"style":"note"},{"type":"paragraph","inlineContent":[{"text":"The example below defines a structure called ","type":"text"},{"code":"Chessboard","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"which models a board for the game of chess.","type":"text"},{"text":" ","type":"text"},{"text":"Chess is played on an 8 x 8 board,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with alternating black and white squares."}]},{"type":"paragraph","inlineContent":[{"identifier":"chessBoard","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"To represent this game board,","type":"text"},{"type":"text","text":" "},{"text":"the ","type":"text"},{"type":"codeVoice","code":"Chessboard"},{"type":"text","text":" structure has a single property called "},{"type":"codeVoice","code":"boardColors"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"which is an array of 64 "},{"type":"codeVoice","code":"Bool"},{"text":" values.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"A value of "},{"type":"codeVoice","code":"true"},{"type":"text","text":" in the array represents a black square"},{"type":"text","text":" "},{"type":"text","text":"and a value of "},{"code":"false","type":"codeVoice"},{"type":"text","text":" represents a white square."},{"text":" ","type":"text"},{"type":"text","text":"The first item in the array represents the top left square on the board"},{"text":" ","type":"text"},{"text":"and the last item in the array represents the bottom right square on the board.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"boardColors"},{"type":"text","text":" array is initialized with a closure to set up its color values:"}]},{"type":"codeListing","code":["struct Chessboard {","    let boardColors: [Bool] = {","        var temporaryBoard: [Bool] = []","        var isBlack = false","        for i in 1...8 {","            for j in 1...8 {","                temporaryBoard.append(isBlack)","                isBlack = !isBlack","            }","            isBlack = !isBlack","        }","        return temporaryBoard","    }()","    func squareIsBlackAt(row: Int, column: Int) -> Bool {","        return boardColors[(row * 8) + column]","    }","}"],"syntax":"swift"},{"inlineContent":[{"text":"Whenever a new ","type":"text"},{"code":"Chessboard","type":"codeVoice"},{"text":" instance is created, the closure is executed,","type":"text"},{"text":" ","type":"text"},{"text":"and the default value of ","type":"text"},{"code":"boardColors","type":"codeVoice"},{"text":" is calculated and returned.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The closure in the example above calculates and sets"},{"text":" ","type":"text"},{"type":"text","text":"the appropriate color for each square on the board"},{"text":" ","type":"text"},{"text":"in a temporary array called ","type":"text"},{"code":"temporaryBoard","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"and returns this temporary array as the closure’s return value","type":"text"},{"text":" ","type":"text"},{"text":"once its setup is complete.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The returned array value is stored in "},{"type":"codeVoice","code":"boardColors"},{"type":"text","text":" "},{"type":"text","text":"and can be queried with the "},{"code":"squareIsBlackAt(row:column:)","type":"codeVoice"},{"type":"text","text":" utility function:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let board = Chessboard()","print(board.squareIsBlackAt(row: 0, column: 1))","\/\/ Prints \"true\"","print(board.squareIsBlackAt(row: 7, column: 7))","\/\/ Prints \"false\""]},{"style":"note","content":[{"inlineContent":[{"type":"text","text":""}],"type":"paragraph"},{"inlineContent":[{"text":"Esta documentación contiene información preliminar sobre una API o tecnología en desarrollo. Esta información está sujeta a cambios, y todo software implementado en conformidad con esta documentación debe ser testeado con el software final del sistema operativo.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Conoce más acerca del uso del ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/es\/support\/beta-software\/","type":"reference"},{"text":".","type":"text"}]}],"name":"Software Beta","type":"aside"}]}],"abstract":[{"type":"text","text":"Set the initial values for a type’s stored properties and perform one-time setup."}],"references":{"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Inicializadores-predeterminados":{"kind":"section","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Inicializadores-predeterminados","title":"Inicializadores predeterminados"},"initializersExample02":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializersExample02@2x.png"},{"url":"\/images\/org.swift.tspl\/initializersExample02~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializersExample02","type":"image"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language":{"role":"collection","kind":"article","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language","url":"\/documentation\/the-swift-programming-language","title":"The Swift Programming Language (6)","abstract":[],"type":"topic"},"initializerDelegation01":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializerDelegation01@2x.png"},{"url":"\/images\/org.swift.tspl\/initializerDelegation01~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializerDelegation01","type":"image"},"chessBoard":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/chessBoard@2x.png"},{"url":"\/images\/org.swift.tspl\/chessBoard~dark@2x.png","traits":["2x","dark"]}],"identifier":"chessBoard","type":"image"},"initializersExample03":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializersExample03@2x.png"},{"url":"\/images\/org.swift.tspl\/initializersExample03~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializersExample03","type":"image"},"initializersExample01":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializersExample01@2x.png"},{"url":"\/images\/org.swift.tspl\/initializersExample01~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializersExample01","type":"image"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Inheritance":{"role":"article","title":"Herencia","kind":"article","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Inheritance","abstract":[{"type":"text","text":"Subclass to add or override functionality."}],"type":"topic","url":"\/documentation\/the-swift-programming-language\/inheritance"},"twoPhaseInitialization01":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization01@2x.png"},{"url":"\/images\/org.swift.tspl\/twoPhaseInitialization01~dark@2x.png","traits":["2x","dark"]}],"identifier":"twoPhaseInitialization01","type":"image"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores":{"kind":"section","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","title":"Herencia y sustitución de inicializadores"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase":{"kind":"section","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","title":"Delegación de inicializadores para tipos de clase"},"https://developer.apple.com/es/support/beta-software/":{"url":"https:\/\/developer.apple.com\/es\/support\/beta-software\/","identifier":"https:\/\/developer.apple.com\/es\/support\/beta-software\/","type":"link","titleInlineContent":[{"type":"text","text":"software beta de Apple"}],"title":"software beta de Apple"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Extensions":{"role":"article","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","url":"\/documentation\/the-swift-programming-language\/extensions","kind":"article","title":"Extensiones","abstract":[{"text":"Add functionality to an existing type.","type":"text"}],"type":"topic"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Inicializaci%C3%B3n-de-dos-fases":{"kind":"section","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializaci%C3%B3n-de-dos-fases","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Inicializaci%C3%B3n-de-dos-fases","title":"Inicialización de dos fases"},"initializerDelegation02":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializerDelegation02@2x.png"},{"url":"\/images\/org.swift.tspl\/initializerDelegation02~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializerDelegation02","type":"image"},"twoPhaseInitialization02":{"alt":null,"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization02@2x.png"},{"url":"\/images\/org.swift.tspl\/twoPhaseInitialization02~dark@2x.png","traits":["2x","dark"]}],"identifier":"twoPhaseInitialization02","type":"image"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Herencia-autom%C3%A1tica-de-inicializadores":{"kind":"section","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Herencia-autom%C3%A1tica-de-inicializadores","title":"Herencia automática de inicializadores"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Deinitialization":{"abstract":[{"type":"text","text":"Release resources that require custom cleanup."}],"kind":"article","type":"topic","title":"Desinicialización","url":"\/documentation\/the-swift-programming-language\/deinitialization","role":"article","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Deinitialization"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n":{"kind":"section","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","title":"Parámetros de inicialización"}}}
||||||| parent of 2fa5d86d (yet one more fix attempt)
{"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language"]]},"identifier":{"url":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization","interfaceLanguage":"swift"},"kind":"article","metadata":{"title":"Inicialización"},"primaryContentSections":[{"kind":"content","content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Initialization"}],"type":"emphasis"},{"type":"text","text":" is the process of preparing an instance of"},{"text":" ","type":"text"},{"type":"text","text":"a class, structure, or enumeration for use."},{"type":"text","text":" "},{"type":"text","text":"This process involves setting an initial value for each stored property on that instance"},{"type":"text","text":" "},{"type":"text","text":"and performing any other setup or initialization that’s required"},{"type":"text","text":" "},{"type":"text","text":"before the new instance is ready for use."}]},{"type":"paragraph","inlineContent":[{"text":"You implement this initialization process by defining ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"initializers","type":"text"}]},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"which are like special methods that can be called"},{"type":"text","text":" "},{"text":"to create a new instance of a particular type.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Unlike Objective-C initializers, Swift initializers don’t return a value."},{"type":"text","text":" "},{"type":"text","text":"Their primary role is to ensure that new instances of a type"},{"type":"text","text":" "},{"type":"text","text":"are correctly initialized before they’re used for the first time."}]},{"inlineContent":[{"type":"text","text":"Instances of class types can also implement a "},{"inlineContent":[{"type":"text","text":"deinitializer"}],"type":"emphasis"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which performs any custom cleanup just before an instance of that class is deallocated."},{"text":" ","type":"text"},{"text":"For more information about deinitializers, see ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Deinitialization","type":"reference","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"text":"Asignación de valores iniciales para propiedades almacenadas","type":"heading","level":2,"anchor":"Asignaci%C3%B3n-de-valores-iniciales-para-propiedades-almacenadas"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Classes and structures "},{"type":"emphasis","inlineContent":[{"type":"text","text":"must"}]},{"type":"text","text":" set all of their stored properties"},{"text":" ","type":"text"},{"text":"to an appropriate initial value by the time","type":"text"},{"text":" ","type":"text"},{"text":"an instance of that class or structure is created.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Stored properties can’t be left in an indeterminate state."}]},{"inlineContent":[{"type":"text","text":"You can set an initial value for a stored property within an initializer,"},{"type":"text","text":" "},{"text":"or by assigning a default property value as part of the property’s definition.","type":"text"},{"type":"text","text":" "},{"text":"These actions are described in the following sections.","type":"text"}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"When you assign a default value to a stored property,"},{"text":" ","type":"text"},{"type":"text","text":"or set its initial value within an initializer,"},{"type":"text","text":" "},{"type":"text","text":"the value of that property is set directly,"},{"text":" ","type":"text"},{"text":"without calling any property observers.","type":"text"}]}],"style":"note","type":"aside","name":"Note"},{"text":"Inicializadores","level":3,"anchor":"Inicializadores","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"Initializers"}]},{"type":"text","text":" are called to create a new instance of a particular type."},{"text":" ","type":"text"},{"type":"text","text":"In its simplest form, an initializer is like an instance method with no parameters,"},{"type":"text","text":" "},{"type":"text","text":"written using the "},{"code":"init","type":"codeVoice"},{"text":" keyword:","type":"text"}]},{"code":["init() {","    \/\/ perform some initialization here","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The example below defines a new structure called ","type":"text"},{"code":"Fahrenheit","type":"codeVoice"},{"type":"text","text":" "},{"text":"to store temperatures expressed in the Fahrenheit scale.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"type":"codeVoice","code":"Fahrenheit"},{"type":"text","text":" structure has one stored property,"},{"type":"text","text":" "},{"type":"codeVoice","code":"temperature"},{"type":"text","text":", which is of type "},{"code":"Double","type":"codeVoice"},{"text":":","type":"text"}]},{"code":["struct Fahrenheit {","    var temperature: Double","    init() {","        temperature = 32.0","    }","}","var f = Fahrenheit()","print(\"The default temperature is \\(f.temperature)° Fahrenheit\")","\/\/ Prints \"The default temperature is 32.0° Fahrenheit\""],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The structure defines a single initializer, "},{"code":"init","type":"codeVoice"},{"text":", with no parameters,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which initializes the stored temperature with a value of "},{"code":"32.0","type":"codeVoice"},{"text":" ","type":"text"},{"text":"(the freezing point of water in degrees Fahrenheit).","type":"text"}],"type":"paragraph"},{"type":"heading","text":"Valores predeterminados de propiedades","anchor":"Valores-predeterminados-de-propiedades","level":3},{"inlineContent":[{"text":"You can set the initial value of a stored property from within an initializer,","type":"text"},{"text":" ","type":"text"},{"text":"as shown above.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Alternatively, specify a "},{"inlineContent":[{"type":"text","text":"default property value"}],"type":"emphasis"},{"type":"text","text":" "},{"text":"as part of the property’s declaration.","type":"text"},{"text":" ","type":"text"},{"text":"You specify a default property value by assigning an initial value to the property","type":"text"},{"type":"text","text":" "},{"text":"when it’s defined.","type":"text"}],"type":"paragraph"},{"content":[{"inlineContent":[{"type":"text","text":"If a property always takes the same initial value,"},{"type":"text","text":" "},{"type":"text","text":"provide a default value rather than setting a value within an initializer."},{"text":" ","type":"text"},{"type":"text","text":"The end result is the same,"},{"text":" ","type":"text"},{"text":"but the default value ties the property’s initialization more closely to its declaration.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"It makes for shorter, clearer initializers"},{"text":" ","type":"text"},{"type":"text","text":"and enables you to infer the type of the property from its default value."},{"type":"text","text":" "},{"type":"text","text":"The default value also makes it easier for you to take advantage of"},{"type":"text","text":" "},{"text":"default initializers and initializer inheritance,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as described later in this chapter."}],"type":"paragraph"}],"type":"aside","style":"note","name":"Note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can write the "},{"code":"Fahrenheit","type":"codeVoice"},{"text":" structure from above in a simpler form","type":"text"},{"type":"text","text":" "},{"type":"text","text":"by providing a default value for its "},{"code":"temperature","type":"codeVoice"},{"text":" property","type":"text"},{"type":"text","text":" "},{"text":"at the point that the property is declared:","type":"text"}]},{"type":"codeListing","code":["struct Fahrenheit {","    var temperature = 32.0","}"],"syntax":"swift"},{"type":"heading","level":2,"anchor":"Personalizaci%C3%B3n-de-la-inicializaci%C3%B3n","text":"Personalización de la inicialización"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can customize the initialization process"},{"type":"text","text":" "},{"type":"text","text":"with input parameters and optional property types,"},{"type":"text","text":" "},{"text":"or by assigning constant properties during initialization,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as described in the following sections."}]},{"anchor":"Par%C3%A1metros-de-inicializaci%C3%B3n","type":"heading","text":"Parámetros de inicialización","level":3},{"type":"paragraph","inlineContent":[{"text":"You can provide ","type":"text"},{"inlineContent":[{"type":"text","text":"initialization parameters"}],"type":"emphasis"},{"type":"text","text":" as part of an initializer’s definition,"},{"text":" ","type":"text"},{"type":"text","text":"to define the types and names of values that customize the initialization process."},{"text":" ","type":"text"},{"type":"text","text":"Initialization parameters have the same capabilities and syntax"},{"text":" ","type":"text"},{"type":"text","text":"as function and method parameters."}]},{"inlineContent":[{"type":"text","text":"The following example defines a structure called "},{"type":"codeVoice","code":"Celsius"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"which stores temperatures expressed in degrees Celsius."},{"type":"text","text":" "},{"type":"text","text":"The "},{"code":"Celsius","type":"codeVoice"},{"type":"text","text":" structure implements two custom initializers called"},{"type":"text","text":" "},{"type":"codeVoice","code":"init(fromFahrenheit:)"},{"text":" and ","type":"text"},{"code":"init(fromKelvin:)","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which initialize a new instance of the structure"},{"type":"text","text":" "},{"type":"text","text":"with a value from a different temperature scale:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["struct Celsius {","    var temperatureInCelsius: Double","    init(fromFahrenheit fahrenheit: Double) {","        temperatureInCelsius = (fahrenheit - 32.0) \/ 1.8","    }","    init(fromKelvin kelvin: Double) {","        temperatureInCelsius = kelvin - 273.15","    }","}","let boilingPointOfWater = Celsius(fromFahrenheit: 212.0)","\/\/ boilingPointOfWater.temperatureInCelsius is 100.0","let freezingPointOfWater = Celsius(fromKelvin: 273.15)","\/\/ freezingPointOfWater.temperatureInCelsius is 0.0"]},{"type":"paragraph","inlineContent":[{"text":"The first initializer has a single initialization parameter","type":"text"},{"type":"text","text":" "},{"text":"with an argument label of ","type":"text"},{"code":"fromFahrenheit","type":"codeVoice"},{"type":"text","text":" and a parameter name of "},{"code":"fahrenheit","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"The second initializer has a single initialization parameter","type":"text"},{"text":" ","type":"text"},{"text":"with an argument label of ","type":"text"},{"code":"fromKelvin","type":"codeVoice"},{"text":" and a parameter name of ","type":"text"},{"type":"codeVoice","code":"kelvin"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"Both initializers convert their single argument into"},{"type":"text","text":" "},{"type":"text","text":"the corresponding Celsius value"},{"type":"text","text":" "},{"type":"text","text":"and store this value in a property called "},{"type":"codeVoice","code":"temperatureInCelsius"},{"type":"text","text":"."}]},{"level":3,"type":"heading","text":"Nombres de parámetros y etiquetas de argumentos","anchor":"Nombres-de-par%C3%A1metros-y-etiquetas-de-argumentos"},{"type":"paragraph","inlineContent":[{"type":"text","text":"As with function and method parameters,"},{"text":" ","type":"text"},{"text":"initialization parameters can have both a parameter name","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for use within the initializer’s body"},{"type":"text","text":" "},{"text":"and an argument label for use when calling the initializer.","type":"text"}]},{"inlineContent":[{"type":"text","text":"However, initializers don’t have an identifying function name before their parentheses"},{"text":" ","type":"text"},{"text":"in the way that functions and methods do.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Therefore, the names and types of an initializer’s parameters"},{"type":"text","text":" "},{"type":"text","text":"play a particularly important role in identifying which initializer should be called."},{"type":"text","text":" "},{"type":"text","text":"Because of this, Swift provides an automatic argument label"},{"text":" ","type":"text"},{"type":"text","text":"for "},{"inlineContent":[{"text":"every","type":"text"}],"type":"emphasis"},{"type":"text","text":" parameter in an initializer if you don’t provide one."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example defines a structure called "},{"type":"codeVoice","code":"Color"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with three constant properties called "},{"type":"codeVoice","code":"red"},{"text":", ","type":"text"},{"type":"codeVoice","code":"green"},{"type":"text","text":", and "},{"code":"blue","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"These properties store a value between ","type":"text"},{"type":"codeVoice","code":"0.0"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"1.0"},{"type":"text","text":" "},{"type":"text","text":"to indicate the amount of red, green, and blue in the color."}]},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Color"},{"type":"text","text":" provides an initializer with"},{"text":" ","type":"text"},{"text":"three appropriately named parameters of type ","type":"text"},{"type":"codeVoice","code":"Double"},{"type":"text","text":" "},{"text":"for its red, green, and blue components.","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"Color"},{"type":"text","text":" also provides a second initializer with a single "},{"type":"codeVoice","code":"white"},{"type":"text","text":" parameter,"},{"text":" ","type":"text"},{"text":"which is used to provide the same value for all three color components.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["struct Color {","    let red, green, blue: Double","    init(red: Double, green: Double, blue: Double) {","        self.red   = red","        self.green = green","        self.blue  = blue","    }","    init(white: Double) {","        red   = white","        green = white","        blue  = white","    }","}"]},{"inlineContent":[{"type":"text","text":"Both initializers can be used to create a new "},{"code":"Color","type":"codeVoice"},{"text":" instance,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"by providing named values for each initializer parameter:"}],"type":"paragraph"},{"type":"codeListing","code":["let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)","let halfGray = Color(white: 0.5)"],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"Note that it isn’t possible to call these initializers"},{"text":" ","type":"text"},{"text":"without using argument labels.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Argument labels must always be used in an initializer if they’re defined,"},{"text":" ","type":"text"},{"text":"and omitting them is a compile-time error:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let veryGreen = Color(0.0, 1.0, 0.0)","\/\/ this reports a compile-time error - argument labels are required"],"type":"codeListing"},{"text":"Parámetros de inicialización sin etiquetas de argumentos","type":"heading","level":3,"anchor":"Par%C3%A1metros-de-inicializaci%C3%B3n-sin-etiquetas-de-argumentos"},{"type":"paragraph","inlineContent":[{"text":"If you don’t want to use an argument label for an initializer parameter,","type":"text"},{"text":" ","type":"text"},{"text":"write an underscore (","type":"text"},{"code":"_","type":"codeVoice"},{"type":"text","text":") instead of an explicit argument label for that parameter"},{"text":" ","type":"text"},{"type":"text","text":"to override the default behavior."}]},{"inlineContent":[{"text":"Here’s an expanded version of the ","type":"text"},{"type":"codeVoice","code":"Celsius"},{"text":" example","type":"text"},{"type":"text","text":" "},{"type":"text","text":"from "},{"isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","type":"reference"},{"type":"text","text":" above,"},{"type":"text","text":" "},{"text":"with an additional initializer to create a new ","type":"text"},{"code":"Celsius","type":"codeVoice"},{"type":"text","text":" instance"},{"text":" ","type":"text"},{"text":"from a ","type":"text"},{"type":"codeVoice","code":"Double"},{"type":"text","text":" value that’s already in the Celsius scale:"}],"type":"paragraph"},{"code":["struct Celsius {","    var temperatureInCelsius: Double","    init(fromFahrenheit fahrenheit: Double) {","        temperatureInCelsius = (fahrenheit - 32.0) \/ 1.8","    }","    init(fromKelvin kelvin: Double) {","        temperatureInCelsius = kelvin - 273.15","    }","    init(_ celsius: Double) {","        temperatureInCelsius = celsius","    }","}","let bodyTemperature = Celsius(37.0)","\/\/ bodyTemperature.temperatureInCelsius is 37.0"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The initializer call "},{"code":"Celsius(37.0)","type":"codeVoice"},{"type":"text","text":" is clear in its intent"},{"type":"text","text":" "},{"type":"text","text":"without the need for an argument label."},{"text":" ","type":"text"},{"type":"text","text":"It’s therefore appropriate to write this initializer as "},{"code":"init(_ celsius: Double)","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"so that it can be called by providing an unnamed "},{"type":"codeVoice","code":"Double"},{"type":"text","text":" value."}],"type":"paragraph"},{"level":3,"type":"heading","text":"Tipos de propiedades opcionales","anchor":"Tipos-de-propiedades-opcionales"},{"type":"paragraph","inlineContent":[{"text":"If your custom type has a stored property that’s logically allowed to have “no value” —","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"perhaps because its value can’t be set during initialization,"},{"type":"text","text":" "},{"text":"or because it’s allowed to have “no value” at some later point —","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"declare the property with an "},{"type":"emphasis","inlineContent":[{"text":"optional","type":"text"}]},{"text":" type.","type":"text"},{"text":" ","type":"text"},{"text":"Properties of optional type are automatically initialized with a value of ","type":"text"},{"code":"nil","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"indicating that the property is deliberately intended to have “no value yet”","type":"text"},{"text":" ","type":"text"},{"text":"during initialization.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example defines a class called "},{"type":"codeVoice","code":"SurveyQuestion"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"with an optional ","type":"text"},{"code":"String","type":"codeVoice"},{"text":" property called ","type":"text"},{"type":"codeVoice","code":"response"},{"text":":","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["class SurveyQuestion {","    var text: String","    var response: String?","    init(text: String) {","        self.text = text","    }","    func ask() {","        print(text)","    }","}","let cheeseQuestion = SurveyQuestion(text: \"Do you like cheese?\")","cheeseQuestion.ask()","\/\/ Prints \"Do you like cheese?\"","cheeseQuestion.response = \"Yes, I do like cheese.\""]},{"inlineContent":[{"type":"text","text":"The response to a survey question can’t be known until it’s asked,"},{"text":" ","type":"text"},{"type":"text","text":"and so the "},{"type":"codeVoice","code":"response"},{"type":"text","text":" property is declared with a type of "},{"type":"codeVoice","code":"String?"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"or “optional "},{"type":"codeVoice","code":"String"},{"type":"text","text":"”."},{"type":"text","text":" "},{"type":"text","text":"It’s automatically assigned a default value of "},{"code":"nil","type":"codeVoice"},{"type":"text","text":", meaning “no string yet”,"},{"type":"text","text":" "},{"text":"when a new instance of ","type":"text"},{"code":"SurveyQuestion","type":"codeVoice"},{"text":" is initialized.","type":"text"}],"type":"paragraph"},{"type":"heading","text":"Asignación de propiedades constantes durante la inicialización","anchor":"Asignaci%C3%B3n-de-propiedades-constantes-durante-la-inicializaci%C3%B3n","level":3},{"type":"paragraph","inlineContent":[{"text":"You can assign a value to a constant property","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"at any point during initialization,"},{"text":" ","type":"text"},{"text":"as long as it’s set to a definite value by the time initialization finishes.","type":"text"},{"text":" ","type":"text"},{"text":"Once a constant property is assigned a value,","type":"text"},{"type":"text","text":" "},{"text":"it can’t be further modified.","type":"text"}]},{"style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"For class instances,","type":"text"},{"type":"text","text":" "},{"text":"a constant property can be modified during initialization","type":"text"},{"type":"text","text":" "},{"text":"only by the class that introduces it.","type":"text"},{"type":"text","text":" "},{"text":"It can’t be modified by a subclass.","type":"text"}]}],"type":"aside"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can revise the "},{"type":"codeVoice","code":"SurveyQuestion"},{"text":" example from above to use","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a constant property rather than a variable property for the "},{"type":"codeVoice","code":"text"},{"text":" property of the question,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to indicate that the question doesn’t change once an instance of "},{"code":"SurveyQuestion","type":"codeVoice"},{"type":"text","text":" is created."},{"text":" ","type":"text"},{"type":"text","text":"Even though the "},{"type":"codeVoice","code":"text"},{"text":" property is now a constant,","type":"text"},{"type":"text","text":" "},{"text":"it can still be set within the class’s initializer:","type":"text"}]},{"syntax":"swift","code":["class SurveyQuestion {","    let text: String","    var response: String?","    init(text: String) {","        self.text = text","    }","    func ask() {","        print(text)","    }","}","let beetsQuestion = SurveyQuestion(text: \"How about beets?\")","beetsQuestion.ask()","\/\/ Prints \"How about beets?\"","beetsQuestion.response = \"I also like beets. (But not with cheese.)\""],"type":"codeListing"},{"text":"Inicializadores predeterminados","anchor":"Inicializadores-predeterminados","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift provides a "},{"inlineContent":[{"text":"default initializer","type":"text"}],"type":"emphasis"},{"type":"text","text":" "},{"type":"text","text":"for any structure or class"},{"type":"text","text":" "},{"text":"that provides default values for all of its properties","type":"text"},{"type":"text","text":" "},{"text":"and doesn’t provide at least one initializer itself.","type":"text"},{"type":"text","text":" "},{"text":"The default initializer simply creates a new instance","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with all of its properties set to their default values."}]},{"type":"paragraph","inlineContent":[{"text":"This example defines a class called ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which encapsulates the name, quantity, and purchase state"},{"text":" ","type":"text"},{"text":"of an item in a shopping list:","type":"text"}]},{"code":["class ShoppingListItem {","    var name: String?","    var quantity = 1","    var purchased = false","}","var item = ShoppingListItem()"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Because all properties of the "},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" class have default values,"},{"type":"text","text":" "},{"type":"text","text":"and because it’s a base class with no superclass,"},{"text":" ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"text":" automatically gains a default initializer implementation","type":"text"},{"type":"text","text":" "},{"text":"that creates a new instance with all of its properties set to their default values.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"(The "},{"type":"codeVoice","code":"name"},{"text":" property is an optional ","type":"text"},{"code":"String","type":"codeVoice"},{"text":" property,","type":"text"},{"type":"text","text":" "},{"text":"and so it automatically receives a default value of ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"even though this value isn’t written in the code.)","type":"text"},{"text":" ","type":"text"},{"text":"The example above uses the default initializer for the ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"text":" class","type":"text"},{"text":" ","type":"text"},{"text":"to create a new instance of the class with initializer syntax,","type":"text"},{"type":"text","text":" "},{"text":"written as ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem()"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"and assigns this new instance to a variable called "},{"code":"item","type":"codeVoice"},{"text":".","type":"text"}]},{"anchor":"Inicializadores-a-nivel-de-miembro-para-tipos-de-estructura","type":"heading","level":3,"text":"Inicializadores a nivel de miembro para tipos de estructura"},{"inlineContent":[{"type":"text","text":"Structure types automatically receive a "},{"type":"emphasis","inlineContent":[{"text":"memberwise initializer","type":"text"}]},{"text":" ","type":"text"},{"text":"if they don’t define any of their own custom initializers.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Unlike a default initializer,"},{"type":"text","text":" "},{"type":"text","text":"the structure receives a memberwise initializer"},{"text":" ","type":"text"},{"type":"text","text":"even if it has stored properties that don’t have default values."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The memberwise initializer is a shorthand way"},{"type":"text","text":" "},{"type":"text","text":"to initialize the member properties of new structure instances."},{"type":"text","text":" "},{"text":"Initial values for the properties of the new instance","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can be passed to the memberwise initializer by name."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The example below defines a structure called "},{"type":"codeVoice","code":"Size"},{"text":" ","type":"text"},{"type":"text","text":"with two properties called "},{"code":"width","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"height","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"Both properties are inferred to be of type ","type":"text"},{"code":"Double","type":"codeVoice"},{"text":" ","type":"text"},{"text":"by assigning a default value of ","type":"text"},{"type":"codeVoice","code":"0.0"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"Size"},{"text":" structure automatically receives an ","type":"text"},{"code":"init(width:height:)","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"memberwise initializer,"},{"text":" ","type":"text"},{"text":"which you can use to initialize a new ","type":"text"},{"type":"codeVoice","code":"Size"},{"text":" instance:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["struct Size {","    var width = 0.0, height = 0.0","}","let twoByTwo = Size(width: 2.0, height: 2.0)"]},{"type":"paragraph","inlineContent":[{"text":"When you call a memberwise initializer,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"you can omit values for any properties"},{"type":"text","text":" "},{"text":"that have default values.","type":"text"},{"type":"text","text":" "},{"text":"In the example above,","type":"text"},{"text":" ","type":"text"},{"text":"the ","type":"text"},{"type":"codeVoice","code":"Size"},{"type":"text","text":" structure has a default value"},{"type":"text","text":" "},{"type":"text","text":"for both its "},{"code":"height","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"width"},{"text":" properties.","type":"text"},{"type":"text","text":" "},{"text":"You can omit either property or both properties,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the initializer uses the default value for anything you omit."},{"text":" ","type":"text"},{"text":"For example:","type":"text"}]},{"code":["let zeroByTwo = Size(height: 2.0)","print(zeroByTwo.width, zeroByTwo.height)","\/\/ Prints \"0.0 2.0\"","","let zeroByZero = Size()","print(zeroByZero.width, zeroByZero.height)","\/\/ Prints \"0.0 0.0\""],"type":"codeListing","syntax":"swift"},{"anchor":"Delegaci%C3%B3n-de-inicializadores-para-tipos-de-valor","type":"heading","level":2,"text":"Delegación de inicializadores para tipos de valor"},{"type":"paragraph","inlineContent":[{"text":"Initializers can call other initializers to perform part of an instance’s initialization.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This process, known as "},{"type":"emphasis","inlineContent":[{"text":"initializer delegation","type":"text"}]},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"avoids duplicating code across multiple initializers.","type":"text"}]},{"inlineContent":[{"type":"text","text":"The rules for how initializer delegation works,"},{"text":" ","type":"text"},{"text":"and for what forms of delegation are allowed,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"are different for value types and class types."},{"text":" ","type":"text"},{"text":"Value types (structures and enumerations) don’t support inheritance,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and so their initializer delegation process is relatively simple,"},{"text":" ","type":"text"},{"type":"text","text":"because they can only delegate to another initializer that they provide themselves."},{"text":" ","type":"text"},{"text":"Classes, however, can inherit from other classes,","type":"text"},{"type":"text","text":" "},{"text":"as described in ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Inheritance"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"This means that classes have additional responsibilities for ensuring that","type":"text"},{"type":"text","text":" "},{"text":"all stored properties they inherit are assigned a suitable value during initialization.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"These responsibilities are described in"},{"type":"text","text":" "},{"type":"text","text":"doc:Initialization#Herencide-de-clases-e-inicialización"},{"text":" below.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"For value types, you use ","type":"text"},{"code":"self.init","type":"codeVoice"},{"type":"text","text":" to refer to other initializers"},{"type":"text","text":" "},{"type":"text","text":"from the same value type when writing your own custom initializers."},{"type":"text","text":" "},{"text":"You can call ","type":"text"},{"type":"codeVoice","code":"self.init"},{"text":" only from within an initializer.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Note that if you define a custom initializer for a value type,"},{"text":" ","type":"text"},{"text":"you will no longer have access to the default initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"(or the memberwise initializer, if it’s a structure) for that type."},{"type":"text","text":" "},{"type":"text","text":"This constraint prevents a situation in which additional essential setup"},{"text":" ","type":"text"},{"text":"provided in a more complex initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"is accidentally circumvented by someone using one of the automatic initializers."}],"type":"paragraph"},{"style":"note","name":"Note","content":[{"inlineContent":[{"text":"If you want your custom value type to be initializable with","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the default initializer and memberwise initializer,"},{"type":"text","text":" "},{"text":"and also with your own custom initializers,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"write your custom initializers in an extension"},{"text":" ","type":"text"},{"type":"text","text":"rather than as part of the value type’s original implementation."},{"text":" ","type":"text"},{"type":"text","text":"For more information, see "},{"isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","type":"reference"},{"text":".","type":"text"}],"type":"paragraph"}],"type":"aside"},{"inlineContent":[{"type":"text","text":"The following example defines a custom "},{"type":"codeVoice","code":"Rect"},{"type":"text","text":" structure to represent a geometric rectangle."},{"text":" ","type":"text"},{"text":"The example requires two supporting structures called ","type":"text"},{"type":"codeVoice","code":"Size"},{"type":"text","text":" and "},{"code":"Point","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"both of which provide default values of "},{"code":"0.0","type":"codeVoice"},{"type":"text","text":" for all of their properties:"}],"type":"paragraph"},{"code":["struct Size {","    var width = 0.0, height = 0.0","}","struct Point {","    var x = 0.0, y = 0.0","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can initialize the "},{"code":"Rect","type":"codeVoice"},{"text":" structure below in one of three ways —","type":"text"},{"type":"text","text":" "},{"text":"by using its default zero-initialized ","type":"text"},{"type":"codeVoice","code":"origin"},{"text":" and ","type":"text"},{"code":"size","type":"codeVoice"},{"text":" property values,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"by providing a specific origin point and size,"},{"type":"text","text":" "},{"type":"text","text":"or by providing a specific center point and size."},{"type":"text","text":" "},{"type":"text","text":"These initialization options are represented by"},{"type":"text","text":" "},{"text":"three custom initializers that are part of the ","type":"text"},{"code":"Rect","type":"codeVoice"},{"text":" structure’s definition:","type":"text"}]},{"syntax":"swift","code":["struct Rect {","    var origin = Point()","    var size = Size()","    init() {}","    init(origin: Point, size: Size) {","        self.origin = origin","        self.size = size","    }","    init(center: Point, size: Size) {","        let originX = center.x - (size.width \/ 2)","        let originY = center.y - (size.height \/ 2)","        self.init(origin: Point(x: originX, y: originY), size: size)","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"The first ","type":"text"},{"type":"codeVoice","code":"Rect"},{"type":"text","text":" initializer, "},{"type":"codeVoice","code":"init()"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"is functionally the same as the default initializer that the structure would have received"},{"text":" ","type":"text"},{"text":"if it didn’t have its own custom initializers.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This initializer has an empty body,"},{"type":"text","text":" "},{"type":"text","text":"represented by an empty pair of curly braces "},{"type":"codeVoice","code":"{}"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Calling this initializer returns a "},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" instance whose"},{"text":" ","type":"text"},{"code":"origin","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"size"},{"type":"text","text":" properties are both initialized with"},{"type":"text","text":" "},{"text":"the default values of ","type":"text"},{"type":"codeVoice","code":"Point(x: 0.0, y: 0.0)"},{"type":"text","text":" "},{"text":"and ","type":"text"},{"type":"codeVoice","code":"Size(width: 0.0, height: 0.0)"},{"type":"text","text":" "},{"type":"text","text":"from their property definitions:"}]},{"code":["let basicRect = Rect()","\/\/ basicRect's origin is (0.0, 0.0) and its size is (0.0, 0.0)"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The second ","type":"text"},{"type":"codeVoice","code":"Rect"},{"text":" initializer, ","type":"text"},{"type":"codeVoice","code":"init(origin:size:)"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"is functionally the same as the memberwise initializer that the structure would have received"},{"text":" ","type":"text"},{"type":"text","text":"if it didn’t have its own custom initializers."},{"type":"text","text":" "},{"text":"This initializer simply assigns the ","type":"text"},{"code":"origin","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"size"},{"type":"text","text":" argument values to"},{"text":" ","type":"text"},{"type":"text","text":"the appropriate stored properties:"}]},{"code":["let originRect = Rect(origin: Point(x: 2.0, y: 2.0),","    size: Size(width: 5.0, height: 5.0))","\/\/ originRect's origin is (2.0, 2.0) and its size is (5.0, 5.0)"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"The third ","type":"text"},{"code":"Rect","type":"codeVoice"},{"text":" initializer, ","type":"text"},{"type":"codeVoice","code":"init(center:size:)"},{"type":"text","text":", is slightly more complex."},{"type":"text","text":" "},{"type":"text","text":"It starts by calculating an appropriate origin point based on"},{"text":" ","type":"text"},{"text":"a ","type":"text"},{"type":"codeVoice","code":"center"},{"type":"text","text":" point and a "},{"code":"size","type":"codeVoice"},{"text":" value.","type":"text"},{"text":" ","type":"text"},{"text":"It then calls (or ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"delegates"}]},{"text":") to the ","type":"text"},{"code":"init(origin:size:)","type":"codeVoice"},{"type":"text","text":" initializer,"},{"type":"text","text":" "},{"type":"text","text":"which stores the new origin and size values in the appropriate properties:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let centerRect = Rect(center: Point(x: 4.0, y: 4.0),","    size: Size(width: 3.0, height: 3.0))","\/\/ centerRect's origin is (2.5, 2.5) and its size is (3.0, 3.0)"]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"init(center:size:)","type":"codeVoice"},{"text":" initializer could have assigned","type":"text"},{"type":"text","text":" "},{"text":"the new values of ","type":"text"},{"type":"codeVoice","code":"origin"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"size"},{"text":" to the appropriate properties itself.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"However, it’s more convenient (and clearer in intent)"},{"type":"text","text":" "},{"text":"for the ","type":"text"},{"type":"codeVoice","code":"init(center:size:)"},{"type":"text","text":" initializer to take advantage of an existing initializer"},{"text":" ","type":"text"},{"text":"that already provides exactly that functionality.","type":"text"}]},{"name":"Note","style":"note","content":[{"inlineContent":[{"type":"text","text":"For an alternative way to write this example without defining"},{"type":"text","text":" "},{"type":"text","text":"the "},{"code":"init()","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"init(origin:size:)","type":"codeVoice"},{"type":"text","text":" initializers yourself,"},{"type":"text","text":" "},{"type":"text","text":"see "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions"},{"text":".","type":"text"}],"type":"paragraph"}],"type":"aside"},{"level":2,"text":"Herencia de clases e inicialización","type":"heading","anchor":"Herencia-de-clases-e-inicializaci%C3%B3n"},{"type":"paragraph","inlineContent":[{"text":"All of a class’s stored properties —","type":"text"},{"type":"text","text":" "},{"type":"text","text":"including any properties the class inherits from its superclass —"},{"text":" ","type":"text"},{"inlineContent":[{"type":"text","text":"must"}],"type":"emphasis"},{"type":"text","text":" be assigned an initial value during initialization."}]},{"type":"paragraph","inlineContent":[{"text":"Swift defines two kinds of initializers for class types","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to help ensure all stored properties receive an initial value."},{"text":" ","type":"text"},{"text":"These are known as designated initializers and convenience initializers.","type":"text"}]},{"text":"Inicializadores designados e inicializadores de conveniencia","level":3,"anchor":"Inicializadores-designados-e-inicializadores-de-conveniencia","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"Designated initializers"}]},{"type":"text","text":" are the primary initializers for a class."},{"text":" ","type":"text"},{"text":"A designated initializer fully initializes all properties introduced by that class","type":"text"},{"text":" ","type":"text"},{"text":"and calls an appropriate superclass initializer","type":"text"},{"type":"text","text":" "},{"text":"to continue the initialization process up the superclass chain.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Classes tend to have very few designated initializers,"},{"text":" ","type":"text"},{"text":"and it’s quite common for a class to have only one.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Designated initializers are “funnel” points through which initialization takes place,"},{"type":"text","text":" "},{"type":"text","text":"and through which the initialization process continues up the superclass chain."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Every class must have at least one designated initializer."},{"type":"text","text":" "},{"type":"text","text":"In some cases, this requirement is satisfied"},{"text":" ","type":"text"},{"type":"text","text":"by inheriting one or more designated initializers from a superclass,"},{"type":"text","text":" "},{"type":"text","text":"as described in "},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","isActive":true},{"type":"text","text":" below."}]},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Convenience initializers"}],"type":"emphasis"},{"text":" are secondary, supporting initializers for a class.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"You can define a convenience initializer to call a designated initializer"},{"type":"text","text":" "},{"text":"from the same class as the convenience initializer","type":"text"},{"type":"text","text":" "},{"text":"with some of the designated initializer’s parameters set to default values.","type":"text"},{"text":" ","type":"text"},{"text":"You can also define a convenience initializer to create","type":"text"},{"type":"text","text":" "},{"text":"an instance of that class for a specific use case or input value type.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You don’t have to provide convenience initializers if your class doesn’t require them."},{"type":"text","text":" "},{"type":"text","text":"Create convenience initializers whenever a shortcut to a common initialization pattern"},{"type":"text","text":" "},{"type":"text","text":"will save time or make initialization of the class clearer in intent."}]},{"level":3,"type":"heading","text":"Sintaxis para inicializadores designados y de conveniencia","anchor":"Sintaxis-para-inicializadores-designados-y-de-conveniencia"},{"type":"paragraph","inlineContent":[{"text":"Designated initializers for classes are written in the same way as","type":"text"},{"text":" ","type":"text"},{"text":"simple initializers for value types:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["init(<#parameters#>) {","   <#statements#>","}"]},{"type":"paragraph","inlineContent":[{"text":"Convenience initializers are written in the same style,","type":"text"},{"type":"text","text":" "},{"text":"but with the ","type":"text"},{"type":"codeVoice","code":"convenience"},{"type":"text","text":" modifier placed before the "},{"code":"init","type":"codeVoice"},{"type":"text","text":" keyword,"},{"type":"text","text":" "},{"type":"text","text":"separated by a space:"}]},{"type":"codeListing","syntax":"swift","code":["convenience init(<#parameters#>) {","   <#statements#>","}"]},{"text":"Delegación de inicializadores para tipos de clase","anchor":"Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"To simplify the relationships between designated and convenience initializers,"},{"text":" ","type":"text"},{"type":"text","text":"Swift applies the following three rules for delegation calls between initializers:"}]},{"items":[{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Rule 1"}]}]},"definition":{"content":[{"inlineContent":[{"type":"text","text":"A designated initializer must call a designated initializer from its immediate superclass."}],"type":"paragraph"}]}},{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Rule 2","type":"text"}]}]},"definition":{"content":[{"inlineContent":[{"type":"text","text":"A convenience initializer must call another initializer from the "},{"inlineContent":[{"type":"text","text":"same"}],"type":"emphasis"},{"text":" class.","type":"text"}],"type":"paragraph"}]}},{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Rule 3"}],"type":"strong"}]},"definition":{"content":[{"inlineContent":[{"text":"A convenience initializer must ultimately call a designated initializer.","type":"text"}],"type":"paragraph"}]}}],"type":"termList"},{"inlineContent":[{"type":"text","text":"A simple way to remember this is:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Designated initializers must always delegate ","type":"text"},{"inlineContent":[{"text":"up","type":"text"}],"type":"emphasis"},{"type":"text","text":"."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Convenience initializers must always delegate "},{"inlineContent":[{"text":"across","type":"text"}],"type":"emphasis"},{"type":"text","text":"."}]}]}],"type":"unorderedList"},{"inlineContent":[{"text":"These rules are illustrated in the figure below:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"initializerDelegation01"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Here, the superclass has a single designated initializer and two convenience initializers."},{"text":" ","type":"text"},{"text":"One convenience initializer calls another convenience initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which in turn calls the single designated initializer."},{"type":"text","text":" "},{"type":"text","text":"This satisfies rules 2 and 3 from above."},{"text":" ","type":"text"},{"type":"text","text":"The superclass doesn’t itself have a further superclass, and so rule 1 doesn’t apply."}],"type":"paragraph"},{"inlineContent":[{"text":"The subclass in this figure has two designated initializers and one convenience initializer.","type":"text"},{"type":"text","text":" "},{"text":"The convenience initializer must call one of the two designated initializers,","type":"text"},{"type":"text","text":" "},{"text":"because it can only call another initializer from the same class.","type":"text"},{"type":"text","text":" "},{"text":"This satisfies rules 2 and 3 from above.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Both designated initializers must call the single designated initializer"},{"text":" ","type":"text"},{"text":"from the superclass, to satisfy rule 1 from above.","type":"text"}],"type":"paragraph"},{"name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"These rules don’t affect how users of your classes ","type":"text"},{"inlineContent":[{"text":"create","type":"text"}],"type":"emphasis"},{"type":"text","text":" instances of each class."},{"text":" ","type":"text"},{"text":"Any initializer in the diagram above can be used to create","type":"text"},{"text":" ","type":"text"},{"text":"a fully initialized instance of the class they belong to.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The rules only affect how you write the implementation of the class’s initializers."}]}],"style":"note","type":"aside"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The figure below shows a more complex class hierarchy for four classes."},{"type":"text","text":" "},{"type":"text","text":"It illustrates how the designated initializers in this hierarchy"},{"text":" ","type":"text"},{"text":"act as “funnel” points for class initialization,","type":"text"},{"text":" ","type":"text"},{"text":"simplifying the interrelationships among classes in the chain:","type":"text"}]},{"inlineContent":[{"identifier":"initializerDelegation02","type":"image"}],"type":"paragraph"},{"level":3,"type":"heading","text":"Inicialización de dos fases","anchor":"Inicializaci%C3%B3n-de-dos-fases"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Class initialization in Swift is a two-phase process."},{"type":"text","text":" "},{"type":"text","text":"In the first phase, each stored property is assigned an initial value"},{"type":"text","text":" "},{"type":"text","text":"by the class that introduced it."},{"text":" ","type":"text"},{"type":"text","text":"Once the initial state for every stored property has been determined,"},{"type":"text","text":" "},{"type":"text","text":"the second phase begins,"},{"type":"text","text":" "},{"text":"and each class is given the opportunity to customize its stored properties further","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"before the new instance is considered ready for use."}]},{"inlineContent":[{"text":"The use of a two-phase initialization process makes initialization safe,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"while still giving complete flexibility to each class in a class hierarchy."},{"type":"text","text":" "},{"type":"text","text":"Two-phase initialization prevents property values"},{"text":" ","type":"text"},{"text":"from being accessed before they’re initialized,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and prevents property values from being set to a different value"},{"type":"text","text":" "},{"type":"text","text":"by another initializer unexpectedly."}],"type":"paragraph"},{"type":"aside","style":"note","name":"Note","content":[{"inlineContent":[{"type":"text","text":"Swift’s two-phase initialization process is similar to initialization in Objective-C."},{"type":"text","text":" "},{"type":"text","text":"The main difference is that during phase 1,"},{"text":" ","type":"text"},{"text":"Objective-C assigns zero or null values (such as ","type":"text"},{"code":"0","type":"codeVoice"},{"type":"text","text":" or "},{"type":"codeVoice","code":"nil"},{"text":") to every property.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Swift’s initialization flow is more flexible"},{"text":" ","type":"text"},{"text":"in that it lets you set custom initial values,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and can cope with types for which "},{"type":"codeVoice","code":"0"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"nil"},{"type":"text","text":" isn’t a valid default value."}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"text":"Swift’s compiler performs four helpful safety-checks to make sure that","type":"text"},{"type":"text","text":" "},{"type":"text","text":"two-phase initialization is completed without error:"}]},{"items":[{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Safety check 1"}]}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"A designated initializer must ensure that all of the properties introduced by its class are initialized before it delegates up to a superclass initializer.","type":"text"}]}]}}],"type":"termList"},{"type":"paragraph","inlineContent":[{"text":"As mentioned above,","type":"text"},{"type":"text","text":" "},{"text":"the memory for an object is only considered fully initialized","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"once the initial state of all of its stored properties is known."},{"text":" ","type":"text"},{"text":"In order for this rule to be satisfied, a designated initializer must make sure that","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"all of its own properties are initialized before it hands off up the chain."}]},{"type":"termList","items":[{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Safety check 2"}],"type":"strong"}]},"definition":{"content":[{"inlineContent":[{"text":"A designated initializer must delegate up to a superclass initializer before assigning a value to an inherited property. If it doesn’t, the new value the designated initializer assigns will be overwritten by the superclass as part of its own initialization.","type":"text"}],"type":"paragraph"}]}},{"term":{"inlineContent":[{"inlineContent":[{"text":"Safety check 3","type":"text"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"A convenience initializer must delegate to another initializer before assigning a value to ","type":"text"},{"inlineContent":[{"text":"any","type":"text"}],"type":"emphasis"},{"type":"text","text":" property (including properties defined by the same class). If it doesn’t, the new value the convenience initializer assigns will be overwritten by its own class’s designated initializer."}]}]}},{"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"An initializer can’t call any instance methods, read the values of any instance properties, or refer to ","type":"text"},{"code":"self","type":"codeVoice"},{"text":" as a value until after the first phase of initialization is complete.","type":"text"}]}]},"term":{"inlineContent":[{"inlineContent":[{"text":"Safety check 4","type":"text"}],"type":"strong"}]}}]},{"inlineContent":[{"type":"text","text":"The class instance isn’t fully valid until the first phase ends."},{"text":" ","type":"text"},{"type":"text","text":"Properties can only be accessed, and methods can only be called,"},{"type":"text","text":" "},{"type":"text","text":"once the class instance is known to be valid at the end of the first phase."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Here’s how two-phase initialization plays out, based on the four safety checks above:"}],"type":"paragraph"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Phase 1"}],"type":"strong"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"A designated or convenience initializer is called on a class."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Memory for a new instance of that class is allocated.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The memory isn’t yet initialized."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A designated initializer for that class confirms that"},{"type":"text","text":" "},{"type":"text","text":"all stored properties introduced by that class have a value."},{"type":"text","text":" "},{"type":"text","text":"The memory for these stored properties is now initialized."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The designated initializer hands off to a superclass initializer to perform the same task"},{"type":"text","text":" "},{"type":"text","text":"for its own stored properties."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"This continues up the class inheritance chain until the top of the chain is reached."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Once the top of the chain is reached,","type":"text"},{"text":" ","type":"text"},{"text":"and the final class in the chain has ensured that all of its stored properties have a value,","type":"text"},{"text":" ","type":"text"},{"text":"the instance’s memory is considered to be fully initialized, and phase 1 is complete.","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Phase 2","type":"text"}],"type":"strong"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Working back down from the top of the chain,"},{"type":"text","text":" "},{"type":"text","text":"each designated initializer in the chain has the option to customize the instance further."},{"text":" ","type":"text"},{"type":"text","text":"Initializers are now able to access "},{"code":"self","type":"codeVoice"},{"type":"text","text":" "},{"text":"and can modify its properties, call its instance methods, and so on.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Finally, any convenience initializers in the chain have the option"},{"text":" ","type":"text"},{"text":"to customize the instance and to work with ","type":"text"},{"code":"self","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Here’s how phase 1 looks for an initialization call for a hypothetical subclass and superclass:","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"twoPhaseInitialization01"}]},{"type":"paragraph","inlineContent":[{"text":"In this example, initialization begins with a call to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a convenience initializer on the subclass."},{"text":" ","type":"text"},{"text":"This convenience initializer can’t yet modify any properties.","type":"text"},{"text":" ","type":"text"},{"text":"It delegates across to a designated initializer from the same class.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The designated initializer makes sure that all of the subclass’s properties have a value,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as per safety check 1. It then calls a designated initializer on its superclass"},{"text":" ","type":"text"},{"text":"to continue the initialization up the chain.","type":"text"}]},{"inlineContent":[{"type":"text","text":"The superclass’s designated initializer makes sure that"},{"type":"text","text":" "},{"text":"all of the superclass properties have a value.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"There are no further superclasses to initialize,"},{"type":"text","text":" "},{"text":"and so no further delegation is needed.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"As soon as all properties of the superclass have an initial value,"},{"type":"text","text":" "},{"text":"its memory is considered fully initialized, and phase 1 is complete.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Here’s how phase 2 looks for the same initialization call:","type":"text"}]},{"inlineContent":[{"type":"image","identifier":"twoPhaseInitialization02"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The superclass’s designated initializer now has an opportunity","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to customize the instance further"},{"text":" ","type":"text"},{"text":"(although it doesn’t have to).","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Once the superclass’s designated initializer is finished,","type":"text"},{"type":"text","text":" "},{"text":"the subclass’s designated initializer can perform additional customization","type":"text"},{"text":" ","type":"text"},{"text":"(although again, it doesn’t have to).","type":"text"}]},{"inlineContent":[{"type":"text","text":"Finally, once the subclass’s designated initializer is finished,"},{"type":"text","text":" "},{"text":"the convenience initializer that was originally called","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can perform additional customization."}],"type":"paragraph"},{"anchor":"Herencia-y-sustituci%C3%B3n-de-inicializadores","type":"heading","text":"Herencia y sustitución de inicializadores","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Unlike subclasses in Objective-C,"},{"type":"text","text":" "},{"type":"text","text":"Swift subclasses don’t inherit their superclass initializers by default."},{"type":"text","text":" "},{"text":"Swift’s approach prevents a situation in which a simple initializer from a superclass","type":"text"},{"type":"text","text":" "},{"type":"text","text":"is inherited by a more specialized subclass"},{"text":" ","type":"text"},{"type":"text","text":"and is used to create a new instance of the subclass"},{"text":" ","type":"text"},{"type":"text","text":"that isn’t fully or correctly initialized."}]},{"type":"aside","style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Superclass initializers "},{"type":"emphasis","inlineContent":[{"text":"are","type":"text"}]},{"type":"text","text":" inherited in certain circumstances,"},{"type":"text","text":" "},{"type":"text","text":"but only when it’s safe and appropriate to do so."},{"type":"text","text":" "},{"text":"For more information, see ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","isActive":true,"type":"reference"},{"type":"text","text":" below."}]}]},{"type":"paragraph","inlineContent":[{"text":"If you want a custom subclass to present","type":"text"},{"type":"text","text":" "},{"text":"one or more of the same initializers as its superclass,","type":"text"},{"text":" ","type":"text"},{"text":"you can provide a custom implementation of those initializers within the subclass.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you write a subclass initializer that matches a superclass "},{"inlineContent":[{"type":"text","text":"designated"}],"type":"emphasis"},{"type":"text","text":" initializer,"},{"text":" ","type":"text"},{"text":"you are effectively providing an override of that designated initializer.","type":"text"},{"type":"text","text":" "},{"text":"Therefore, you must write the ","type":"text"},{"code":"override","type":"codeVoice"},{"text":" modifier before the subclass’s initializer definition.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This is true even if you are overriding an automatically provided default initializer,"},{"type":"text","text":" "},{"type":"text","text":"as described in "},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","isActive":true},{"type":"text","text":"."}]},{"inlineContent":[{"type":"text","text":"As with an overridden property, method or subscript,"},{"type":"text","text":" "},{"text":"the presence of the ","type":"text"},{"type":"codeVoice","code":"override"},{"text":" modifier prompts Swift to check that","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the superclass has a matching designated initializer to be overridden,"},{"text":" ","type":"text"},{"text":"and validates that the parameters for your overriding initializer have been specified as intended.","type":"text"}],"type":"paragraph"},{"name":"Note","style":"note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You always write the "},{"code":"override","type":"codeVoice"},{"type":"text","text":" modifier when overriding a superclass designated initializer,"},{"text":" ","type":"text"},{"text":"even if your subclass’s implementation of the initializer is a convenience initializer.","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Conversely, if you write a subclass initializer that matches a superclass "},{"type":"emphasis","inlineContent":[{"type":"text","text":"convenience"}]},{"text":" initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that superclass convenience initializer can never be called directly by your subclass,"},{"text":" ","type":"text"},{"text":"as per the rules described above in ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","isActive":true},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"Therefore, your subclass is not (strictly speaking) providing an override of the superclass initializer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"As a result, you don’t write the "},{"type":"codeVoice","code":"override"},{"type":"text","text":" modifier when providing"},{"text":" ","type":"text"},{"text":"a matching implementation of a superclass convenience initializer.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The example below defines a base class called "},{"type":"codeVoice","code":"Vehicle"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"This base class declares a stored property called "},{"code":"numberOfWheels","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"with a default ","type":"text"},{"type":"codeVoice","code":"Int"},{"text":" value of ","type":"text"},{"code":"0","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"code":"numberOfWheels","type":"codeVoice"},{"type":"text","text":" property is used by a computed property called "},{"type":"codeVoice","code":"description"},{"type":"text","text":" "},{"type":"text","text":"to create a "},{"type":"codeVoice","code":"String"},{"text":" description of the vehicle’s characteristics:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["class Vehicle {","    var numberOfWheels = 0","    var description: String {","        return \"\\(numberOfWheels) wheel(s)\"","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"Vehicle","type":"codeVoice"},{"text":" class provides a default value for its only stored property,","type":"text"},{"text":" ","type":"text"},{"text":"and doesn’t provide any custom initializers itself.","type":"text"},{"type":"text","text":" "},{"text":"As a result, it automatically receives a default initializer,","type":"text"},{"text":" ","type":"text"},{"text":"as described in ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","isActive":true,"type":"reference"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"The default initializer (when available) is always a designated initializer for a class,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and can be used to create a new "},{"type":"codeVoice","code":"Vehicle"},{"type":"text","text":" instance with a "},{"type":"codeVoice","code":"numberOfWheels"},{"text":" of ","type":"text"},{"code":"0","type":"codeVoice"},{"text":":","type":"text"}]},{"syntax":"swift","code":["let vehicle = Vehicle()","print(\"Vehicle: \\(vehicle.description)\")","\/\/ Vehicle: 0 wheel(s)"],"type":"codeListing"},{"inlineContent":[{"text":"The next example defines a subclass of ","type":"text"},{"type":"codeVoice","code":"Vehicle"},{"type":"text","text":" called "},{"type":"codeVoice","code":"Bicycle"},{"type":"text","text":":"}],"type":"paragraph"},{"syntax":"swift","code":["class Bicycle: Vehicle {","    override init() {","        super.init()","        numberOfWheels = 2","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Bicycle"},{"type":"text","text":" subclass defines a custom designated initializer, "},{"code":"init()","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This designated initializer matches a designated initializer from the superclass of "},{"code":"Bicycle","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"and so the ","type":"text"},{"code":"Bicycle","type":"codeVoice"},{"text":" version of this initializer is marked with the ","type":"text"},{"code":"override","type":"codeVoice"},{"text":" modifier.","type":"text"}]},{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"init()"},{"text":" initializer for ","type":"text"},{"type":"codeVoice","code":"Bicycle"},{"text":" starts by calling ","type":"text"},{"type":"codeVoice","code":"super.init()"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"which calls the default initializer for the "},{"type":"codeVoice","code":"Bicycle"},{"type":"text","text":" class’s superclass, "},{"code":"Vehicle","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This ensures that the "},{"code":"numberOfWheels","type":"codeVoice"},{"type":"text","text":" inherited property is initialized by "},{"code":"Vehicle","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"before "},{"type":"codeVoice","code":"Bicycle"},{"type":"text","text":" has the opportunity to modify the property."},{"text":" ","type":"text"},{"type":"text","text":"After calling "},{"code":"super.init()","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"the original value of ","type":"text"},{"type":"codeVoice","code":"numberOfWheels"},{"type":"text","text":" is replaced with a new value of "},{"type":"codeVoice","code":"2"},{"type":"text","text":"."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"If you create an instance of ","type":"text"},{"type":"codeVoice","code":"Bicycle"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"you can call its inherited ","type":"text"},{"type":"codeVoice","code":"description"},{"type":"text","text":" computed property"},{"text":" ","type":"text"},{"type":"text","text":"to see how its "},{"code":"numberOfWheels","type":"codeVoice"},{"type":"text","text":" property has been updated:"}]},{"type":"codeListing","code":["let bicycle = Bicycle()","print(\"Bicycle: \\(bicycle.description)\")","\/\/ Bicycle: 2 wheel(s)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a subclass initializer performs no customization"},{"type":"text","text":" "},{"type":"text","text":"in phase 2 of the initialization process,"},{"type":"text","text":" "},{"type":"text","text":"and the superclass has a synchronous, zero-argument designated initializer,"},{"type":"text","text":" "},{"type":"text","text":"you can omit a call to "},{"code":"super.init()","type":"codeVoice"},{"type":"text","text":" "},{"text":"after assigning values to all of the subclass’s stored properties.","type":"text"},{"type":"text","text":" "},{"text":"If the superclass’s initializer is asynchronous,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"you need to write "},{"code":"await super.init()","type":"codeVoice"},{"text":" explicitly.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This example defines another subclass of "},{"type":"codeVoice","code":"Vehicle"},{"text":", called ","type":"text"},{"type":"codeVoice","code":"Hoverboard"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"In its initializer, the "},{"type":"codeVoice","code":"Hoverboard"},{"text":" class sets only its ","type":"text"},{"type":"codeVoice","code":"color"},{"type":"text","text":" property."},{"text":" ","type":"text"},{"text":"Instead of making an explicit call to ","type":"text"},{"code":"super.init()","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"this initializer relies on an implicit call to its superclass’s initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to complete the process."}]},{"syntax":"swift","code":["class Hoverboard: Vehicle {","    var color: String","    init(color: String) {","        self.color = color","        \/\/ super.init() implicitly called here","    }","    override var description: String {","        return \"\\(super.description) in a beautiful \\(color)\"","    }","}"],"type":"codeListing"},{"inlineContent":[{"text":"An instance of ","type":"text"},{"code":"Hoverboard","type":"codeVoice"},{"type":"text","text":" uses the default number of wheels"},{"text":" ","type":"text"},{"text":"supplied by the ","type":"text"},{"type":"codeVoice","code":"Vehicle"},{"text":" initializer.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let hoverboard = Hoverboard(color: \"silver\")","print(\"Hoverboard: \\(hoverboard.description)\")","\/\/ Hoverboard: 0 wheel(s) in a beautiful silver"]},{"name":"Note","style":"note","content":[{"inlineContent":[{"type":"text","text":"Subclasses can modify inherited variable properties during initialization,"},{"type":"text","text":" "},{"type":"text","text":"but can’t modify inherited constant properties."}],"type":"paragraph"}],"type":"aside"},{"type":"heading","text":"Herencia automática de inicializadores","anchor":"Herencia-autom%C3%A1tica-de-inicializadores","level":3},{"inlineContent":[{"type":"text","text":"As mentioned above,"},{"type":"text","text":" "},{"text":"subclasses don’t inherit their superclass initializers by default.","type":"text"},{"type":"text","text":" "},{"text":"However, superclass initializers ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"are","type":"text"}]},{"type":"text","text":" automatically inherited if certain conditions are met."},{"text":" ","type":"text"},{"type":"text","text":"In practice, this means that"},{"text":" ","type":"text"},{"type":"text","text":"you don’t need to write initializer overrides in many common scenarios,"},{"text":" ","type":"text"},{"text":"and can inherit your superclass initializers with minimal effort whenever it’s safe to do so.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Assuming that you provide default values for any new properties you introduce in a subclass,"},{"text":" ","type":"text"},{"type":"text","text":"the following two rules apply:"}],"type":"paragraph"},{"type":"termList","items":[{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Rule 1","type":"text"}]}]},"definition":{"content":[{"inlineContent":[{"type":"text","text":"If your subclass doesn’t define any designated initializers, it automatically inherits all of its superclass designated initializers."}],"type":"paragraph"}]}},{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Rule 2","type":"text"}]}]},"definition":{"content":[{"inlineContent":[{"type":"text","text":"If your subclass provides an implementation of "},{"type":"emphasis","inlineContent":[{"type":"text","text":"all"}]},{"type":"text","text":" of its superclass designated initializers — either by inheriting them as per rule 1, or by providing a custom implementation as part of its definition — then it automatically inherits all of the superclass convenience initializers."}],"type":"paragraph"}]}}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"These rules apply even if your subclass adds further convenience initializers."}]},{"style":"note","type":"aside","name":"Note","content":[{"inlineContent":[{"type":"text","text":"A subclass can implement a superclass designated initializer"},{"text":" ","type":"text"},{"type":"text","text":"as a subclass convenience initializer as part of satisfying rule 2."}],"type":"paragraph"}]},{"type":"heading","text":"Inicializadores designados y de conveniencia en acción","anchor":"Inicializadores-designados-y-de-conveniencia-en-acci%C3%B3n","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example shows designated initializers, convenience initializers,"},{"type":"text","text":" "},{"type":"text","text":"and automatic initializer inheritance in action."},{"type":"text","text":" "},{"type":"text","text":"This example defines a hierarchy of three classes called"},{"type":"text","text":" "},{"type":"codeVoice","code":"Food"},{"text":", ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":", and "},{"type":"codeVoice","code":"ShoppingListItem"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and demonstrates how their initializers interact."}]},{"inlineContent":[{"type":"text","text":"The base class in the hierarchy is called "},{"type":"codeVoice","code":"Food"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"which is a simple class to encapsulate the name of a foodstuff.","type":"text"},{"type":"text","text":" "},{"text":"The ","type":"text"},{"type":"codeVoice","code":"Food"},{"type":"text","text":" class introduces a single "},{"type":"codeVoice","code":"String"},{"text":" property called ","type":"text"},{"type":"codeVoice","code":"name"},{"type":"text","text":" "},{"type":"text","text":"and provides two initializers for creating "},{"type":"codeVoice","code":"Food"},{"text":" instances:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["class Food {","    var name: String","    init(name: String) {","        self.name = name","    }","    convenience init() {","        self.init(name: \"[Unnamed]\")","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The figure below shows the initializer chain for the "},{"code":"Food","type":"codeVoice"},{"text":" class:","type":"text"}]},{"inlineContent":[{"type":"image","identifier":"initializersExample01"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Classes don’t have a default memberwise initializer,","type":"text"},{"type":"text","text":" "},{"text":"and so the ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":" class provides a designated initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that takes a single argument called "},{"code":"name","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"This initializer can be used to create a new ","type":"text"},{"type":"codeVoice","code":"Food"},{"type":"text","text":" instance with a specific name:"}]},{"type":"codeListing","syntax":"swift","code":["let namedMeat = Food(name: \"Bacon\")","\/\/ namedMeat's name is \"Bacon\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"init(name: String)","type":"codeVoice"},{"text":" initializer from the ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":" class","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"is provided as a "},{"type":"emphasis","inlineContent":[{"text":"designated","type":"text"}]},{"type":"text","text":" initializer,"},{"text":" ","type":"text"},{"type":"text","text":"because it ensures that all stored properties of"},{"type":"text","text":" "},{"type":"text","text":"a new "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" instance are fully initialized."},{"text":" ","type":"text"},{"type":"text","text":"The "},{"code":"Food","type":"codeVoice"},{"type":"text","text":" class doesn’t have a superclass,"},{"text":" ","type":"text"},{"text":"and so the ","type":"text"},{"type":"codeVoice","code":"init(name: String)"},{"text":" initializer doesn’t need to call ","type":"text"},{"type":"codeVoice","code":"super.init()"},{"type":"text","text":" "},{"type":"text","text":"to complete its initialization."}]},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Food"},{"text":" class also provides a ","type":"text"},{"inlineContent":[{"type":"text","text":"convenience"}],"type":"emphasis"},{"type":"text","text":" initializer, "},{"type":"codeVoice","code":"init()"},{"type":"text","text":", with no arguments."},{"type":"text","text":" "},{"text":"The ","type":"text"},{"type":"codeVoice","code":"init()"},{"type":"text","text":" initializer provides a default placeholder name for a new food"},{"type":"text","text":" "},{"type":"text","text":"by delegating across to the "},{"code":"Food","type":"codeVoice"},{"type":"text","text":" class’s "},{"type":"codeVoice","code":"init(name: String)"},{"text":" with","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"a "},{"type":"codeVoice","code":"name"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"[Unnamed]"},{"text":":","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let mysteryMeat = Food()","\/\/ mysteryMeat's name is \"[Unnamed]\""]},{"type":"paragraph","inlineContent":[{"text":"The second class in the hierarchy is a subclass of ","type":"text"},{"code":"Food","type":"codeVoice"},{"type":"text","text":" called "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" class models an ingredient in a cooking recipe.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It introduces an "},{"type":"codeVoice","code":"Int"},{"text":" property called ","type":"text"},{"type":"codeVoice","code":"quantity"},{"text":" ","type":"text"},{"type":"text","text":"(in addition to the "},{"type":"codeVoice","code":"name"},{"text":" property it inherits from ","type":"text"},{"type":"codeVoice","code":"Food"},{"text":")","type":"text"},{"type":"text","text":" "},{"text":"and defines two initializers for creating ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" instances:","type":"text"}]},{"syntax":"swift","code":["class RecipeIngredient: Food {","    var quantity: Int","    init(name: String, quantity: Int) {","        self.quantity = quantity","        super.init(name: name)","    }","    override convenience init(name: String) {","        self.init(name: name, quantity: 1)","    }","}"],"type":"codeListing"},{"inlineContent":[{"text":"The figure below shows the initializer chain for the ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" class:","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"initializersExample02"}]},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" class has a single designated initializer,","type":"text"},{"text":" ","type":"text"},{"code":"init(name: String, quantity: Int)","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"which can be used to populate all of the properties of a new ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" instance."},{"type":"text","text":" "},{"type":"text","text":"This initializer starts by assigning"},{"type":"text","text":" "},{"type":"text","text":"the passed "},{"code":"quantity","type":"codeVoice"},{"text":" argument to the ","type":"text"},{"code":"quantity","type":"codeVoice"},{"type":"text","text":" property,"},{"type":"text","text":" "},{"type":"text","text":"which is the only new property introduced by "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"After doing so, the initializer delegates up to"},{"type":"text","text":" "},{"type":"text","text":"the "},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":" initializer of the "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" class."},{"type":"text","text":" "},{"type":"text","text":"This process satisfies safety check 1"},{"text":" ","type":"text"},{"text":"from ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializaci%C3%B3n-de-dos-fases"},{"type":"text","text":" above."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" also defines a convenience initializer, "},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"which is used to create a ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" instance by name alone."},{"text":" ","type":"text"},{"type":"text","text":"This convenience initializer assumes a quantity of "},{"type":"codeVoice","code":"1"},{"text":" ","type":"text"},{"type":"text","text":"for any "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" instance that’s created without an explicit quantity.","type":"text"},{"type":"text","text":" "},{"text":"The definition of this convenience initializer makes","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" instances quicker and more convenient to create,"},{"type":"text","text":" "},{"type":"text","text":"and avoids code duplication when creating"},{"type":"text","text":" "},{"type":"text","text":"several single-quantity "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" instances.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This convenience initializer simply delegates across to the class’s designated initializer,"},{"type":"text","text":" "},{"text":"passing in a ","type":"text"},{"code":"quantity","type":"codeVoice"},{"text":" value of ","type":"text"},{"code":"1","type":"codeVoice"},{"type":"text","text":"."}]},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"init(name: String)"},{"text":" convenience initializer provided by ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" ","type":"text"},{"text":"takes the same parameters as the ","type":"text"},{"type":"codeVoice","code":"init(name: String)"},{"text":" ","type":"text"},{"inlineContent":[{"text":"designated","type":"text"}],"type":"emphasis"},{"type":"text","text":" initializer from "},{"type":"codeVoice","code":"Food"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Because this convenience initializer overrides a designated initializer from its superclass,"},{"text":" ","type":"text"},{"type":"text","text":"it must be marked with the "},{"type":"codeVoice","code":"override"},{"text":" modifier","type":"text"},{"type":"text","text":" "},{"type":"text","text":"(as described in "},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","isActive":true,"type":"reference"},{"text":").","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Even though ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" provides"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"init(name: String)"},{"text":" initializer as a convenience initializer,","type":"text"},{"text":" ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" has nonetheless provided an implementation of","type":"text"},{"type":"text","text":" "},{"text":"all of its superclass’s designated initializers.","type":"text"},{"type":"text","text":" "},{"text":"Therefore, ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" automatically inherits","type":"text"},{"type":"text","text":" "},{"type":"text","text":"all of its superclass’s convenience initializers too."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this example, the superclass for "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" is ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which has a single convenience initializer called "},{"type":"codeVoice","code":"init()"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"This initializer is therefore inherited by ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The inherited version of "},{"type":"codeVoice","code":"init()"},{"type":"text","text":" functions in exactly the same way as the "},{"code":"Food","type":"codeVoice"},{"type":"text","text":" version,"},{"type":"text","text":" "},{"type":"text","text":"except that it delegates to the "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" version of "},{"type":"codeVoice","code":"init(name: String)"},{"text":" ","type":"text"},{"text":"rather than the ","type":"text"},{"type":"codeVoice","code":"Food"},{"type":"text","text":" version."}]},{"type":"paragraph","inlineContent":[{"text":"All three of these initializers can be used to create new ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" instances:"}]},{"syntax":"swift","type":"codeListing","code":["let oneMysteryItem = RecipeIngredient()","let oneBacon = RecipeIngredient(name: \"Bacon\")","let sixEggs = RecipeIngredient(name: \"Eggs\", quantity: 6)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The third and final class in the hierarchy is"},{"type":"text","text":" "},{"type":"text","text":"a subclass of "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" called ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"ShoppingListItem"},{"text":" class models a recipe ingredient as it appears in a shopping list.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Every item in the shopping list starts out as “unpurchased”.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"To represent this fact,"},{"type":"text","text":" "},{"code":"ShoppingListItem","type":"codeVoice"},{"text":" introduces a Boolean property called ","type":"text"},{"type":"codeVoice","code":"purchased"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with a default value of "},{"type":"codeVoice","code":"false"},{"text":".","type":"text"},{"text":" ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" also adds a computed "},{"code":"description","type":"codeVoice"},{"text":" property,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which provides a textual description of a "},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" instance:"}]},{"code":["class ShoppingListItem: RecipeIngredient {","    var purchased = false","    var description: String {","        var output = \"\\(quantity) x \\(name)\"","        output += purchased ? \" ✔\" : \" ✘\"","        return output","    }","}"],"type":"codeListing","syntax":"swift"},{"name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"text":" doesn’t define an initializer to provide","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"an initial value for "},{"type":"codeVoice","code":"purchased"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"because items in a shopping list (as modeled here) always start out unpurchased.","type":"text"}]}],"style":"note","type":"aside"},{"type":"paragraph","inlineContent":[{"text":"Because it provides a default value for all of the properties it introduces","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and doesn’t define any initializers itself,"},{"type":"text","text":" "},{"code":"ShoppingListItem","type":"codeVoice"},{"text":" automatically inherits","type":"text"},{"type":"text","text":" "},{"inlineContent":[{"type":"text","text":"all"}],"type":"emphasis"},{"text":" of the designated and convenience initializers from its superclass.","type":"text"}]},{"inlineContent":[{"text":"The figure below shows the overall initializer chain for all three classes:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"initializersExample03"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can use all three of the inherited initializers"},{"type":"text","text":" "},{"type":"text","text":"to create a new "},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" instance:"}],"type":"paragraph"},{"code":["var breakfastList = [","    ShoppingListItem(),","    ShoppingListItem(name: \"Bacon\"),","    ShoppingListItem(name: \"Eggs\", quantity: 6),","]","breakfastList[0].name = \"Orange juice\"","breakfastList[0].purchased = true","for item in breakfastList {","    print(item.description)","}","\/\/ 1 x Orange juice ✔","\/\/ 1 x Bacon ✘","\/\/ 6 x Eggs ✘"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Here, a new array called ","type":"text"},{"type":"codeVoice","code":"breakfastList"},{"type":"text","text":" is created from"},{"type":"text","text":" "},{"text":"an array literal containing three new ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"text":" instances.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The type of the array is inferred to be "},{"type":"codeVoice","code":"[ShoppingListItem]"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"After the array is created,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the name of the "},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" at the start of the array"},{"type":"text","text":" "},{"type":"text","text":"is changed from "},{"type":"codeVoice","code":"\"[Unnamed]\""},{"text":" to ","type":"text"},{"code":"\"Orange juice\"","type":"codeVoice"},{"text":" ","type":"text"},{"text":"and it’s marked as having been purchased.","type":"text"},{"type":"text","text":" "},{"text":"Printing the description of each item in the array","type":"text"},{"type":"text","text":" "},{"text":"shows that their default states have been set as expected.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Inicializadores falibles","anchor":"Inicializadores-falibles","type":"heading"},{"inlineContent":[{"type":"text","text":"It’s sometimes useful to define a class, structure, or enumeration"},{"text":" ","type":"text"},{"type":"text","text":"for which initialization can fail."},{"type":"text","text":" "},{"text":"This failure might be triggered by invalid initialization parameter values,","type":"text"},{"text":" ","type":"text"},{"text":"the absence of a required external resource,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"or some other condition that prevents initialization from succeeding."}],"type":"paragraph"},{"inlineContent":[{"text":"To cope with initialization conditions that can fail,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"define one or more failable initializers as part of"},{"type":"text","text":" "},{"text":"a class, structure, or enumeration definition.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"You write a failable initializer"},{"type":"text","text":" "},{"text":"by placing a question mark after the ","type":"text"},{"type":"codeVoice","code":"init"},{"type":"text","text":" keyword ("},{"code":"init?","type":"codeVoice"},{"text":").","type":"text"}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can’t define a failable and a nonfailable initializer"},{"type":"text","text":" "},{"type":"text","text":"with the same parameter types and names."}]}],"type":"aside","style":"note","name":"Note"},{"inlineContent":[{"type":"text","text":"A failable initializer creates an "},{"type":"emphasis","inlineContent":[{"type":"text","text":"optional"}]},{"text":" value of the type it initializes.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"You write "},{"code":"return nil","type":"codeVoice"},{"type":"text","text":" within a failable initializer"},{"text":" ","type":"text"},{"type":"text","text":"to indicate a point at which initialization failure can be triggered."}],"type":"paragraph"},{"content":[{"inlineContent":[{"text":"Strictly speaking, initializers don’t return a value.","type":"text"},{"type":"text","text":" "},{"text":"Rather, their role is to ensure that ","type":"text"},{"code":"self","type":"codeVoice"},{"type":"text","text":" is fully and correctly initialized"},{"type":"text","text":" "},{"type":"text","text":"by the time that initialization ends."},{"type":"text","text":" "},{"text":"Although you write ","type":"text"},{"type":"codeVoice","code":"return nil"},{"type":"text","text":" to trigger an initialization failure,"},{"type":"text","text":" "},{"text":"you don’t use the ","type":"text"},{"code":"return","type":"codeVoice"},{"type":"text","text":" keyword to indicate initialization success."}],"type":"paragraph"}],"name":"Note","type":"aside","style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For instance, failable initializers are implemented for numeric type conversions."},{"type":"text","text":" "},{"type":"text","text":"To ensure conversion between numeric types maintains the value exactly,"},{"type":"text","text":" "},{"type":"text","text":"use the "},{"code":"init(exactly:)","type":"codeVoice"},{"text":" initializer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If the type conversion can’t maintain the value,"},{"type":"text","text":" "},{"text":"the initializer fails.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let wholeNumber: Double = 12345.0","let pi = 3.14159","","if let valueMaintained = Int(exactly: wholeNumber) {","    print(\"\\(wholeNumber) conversion to Int maintains value of \\(valueMaintained)\")","}","\/\/ Prints \"12345.0 conversion to Int maintains value of 12345\"","","let valueChanged = Int(exactly: pi)","\/\/ valueChanged is of type Int?, not Int","","if valueChanged == nil {","    print(\"\\(pi) conversion to Int doesn't maintain value\")","}","\/\/ Prints \"3.14159 conversion to Int doesn't maintain value\""]},{"type":"paragraph","inlineContent":[{"text":"The example below defines a structure called ","type":"text"},{"type":"codeVoice","code":"Animal"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"with a constant ","type":"text"},{"type":"codeVoice","code":"String"},{"text":" property called ","type":"text"},{"code":"species","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"code":"Animal","type":"codeVoice"},{"text":" structure also defines a failable initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with a single parameter called "},{"type":"codeVoice","code":"species"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"This initializer checks if the ","type":"text"},{"type":"codeVoice","code":"species"},{"text":" value passed to the initializer is an empty string.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If an empty string is found, an initialization failure is triggered."},{"type":"text","text":" "},{"text":"Otherwise, the ","type":"text"},{"type":"codeVoice","code":"species"},{"type":"text","text":" property’s value is set, and initialization succeeds:"}]},{"syntax":"swift","type":"codeListing","code":["struct Animal {","    let species: String","    init?(species: String) {","        if species.isEmpty { return nil }","        self.species = species","    }","}"]},{"inlineContent":[{"text":"You can use this failable initializer to try to initialize a new ","type":"text"},{"type":"codeVoice","code":"Animal"},{"text":" instance","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and to check if initialization succeeded:"}],"type":"paragraph"},{"syntax":"swift","code":["let someCreature = Animal(species: \"Giraffe\")","\/\/ someCreature is of type Animal?, not Animal","","if let giraffe = someCreature {","    print(\"An animal was initialized with a species of \\(giraffe.species)\")","}","\/\/ Prints \"An animal was initialized with a species of Giraffe\""],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"If you pass an empty string value to the failable initializer’s ","type":"text"},{"type":"codeVoice","code":"species"},{"text":" parameter,","type":"text"},{"type":"text","text":" "},{"text":"the initializer triggers an initialization failure:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let anonymousCreature = Animal(species: \"\")","\/\/ anonymousCreature is of type Animal?, not Animal","","if anonymousCreature == nil {","    print(\"The anonymous creature couldn't be initialized\")","}","\/\/ Prints \"The anonymous creature couldn't be initialized\""]},{"style":"note","content":[{"inlineContent":[{"type":"text","text":"Checking for an empty string value (such as "},{"type":"codeVoice","code":"\"\""},{"type":"text","text":" rather than "},{"code":"\"Giraffe\"","type":"codeVoice"},{"text":")","type":"text"},{"type":"text","text":" "},{"type":"text","text":"isn’t the same as checking for "},{"code":"nil","type":"codeVoice"},{"type":"text","text":" to indicate the absence of an "},{"inlineContent":[{"type":"text","text":"optional"}],"type":"emphasis"},{"type":"text","text":" "},{"code":"String","type":"codeVoice"},{"text":" value.","type":"text"},{"text":" ","type":"text"},{"text":"In the example above, an empty string (","type":"text"},{"code":"\"\"","type":"codeVoice"},{"type":"text","text":") is a valid, non-optional "},{"code":"String","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"However, it’s not appropriate for an animal","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to have an empty string as the value of its "},{"code":"species","type":"codeVoice"},{"text":" property.","type":"text"},{"text":" ","type":"text"},{"text":"To model this restriction,","type":"text"},{"text":" ","type":"text"},{"text":"the failable initializer triggers an initialization failure if an empty string is found.","type":"text"}],"type":"paragraph"}],"type":"aside","name":"Note"},{"type":"heading","level":3,"anchor":"Inicializadores-falibles-para-enumeraciones","text":"Inicializadores falibles para enumeraciones"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use a failable initializer to select an appropriate enumeration case"},{"text":" ","type":"text"},{"type":"text","text":"based on one or more parameters."},{"type":"text","text":" "},{"type":"text","text":"The initializer can then fail if the provided parameters"},{"text":" ","type":"text"},{"text":"don’t match an appropriate enumeration case.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The example below defines an enumeration called ","type":"text"},{"code":"TemperatureUnit","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"with three possible states ("},{"type":"codeVoice","code":"kelvin"},{"text":", ","type":"text"},{"type":"codeVoice","code":"celsius"},{"type":"text","text":", and "},{"code":"fahrenheit","type":"codeVoice"},{"text":").","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"A failable initializer is used to find an appropriate enumeration case"},{"type":"text","text":" "},{"type":"text","text":"for a "},{"code":"Character","type":"codeVoice"},{"text":" value representing a temperature symbol:","type":"text"}]},{"code":["enum TemperatureUnit {","    case kelvin, celsius, fahrenheit","    init?(symbol: Character) {","        switch symbol {","        case \"K\":","            self = .kelvin","        case \"C\":","            self = .celsius","        case \"F\":","            self = .fahrenheit","        default:","            return nil","        }","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"You can use this failable initializer to choose"},{"type":"text","text":" "},{"type":"text","text":"an appropriate enumeration case for the three possible states"},{"type":"text","text":" "},{"text":"and to cause initialization to fail if the parameter doesn’t match one of these","type":"text"},{"text":" ","type":"text"},{"text":"states:","type":"text"}],"type":"paragraph"},{"code":["let fahrenheitUnit = TemperatureUnit(symbol: \"F\")","if fahrenheitUnit != nil {","    print(\"This is a defined temperature unit, so initialization succeeded.\")","}","\/\/ Prints \"This is a defined temperature unit, so initialization succeeded.\"","","let unknownUnit = TemperatureUnit(symbol: \"X\")","if unknownUnit == nil {","    print(\"This isn't a defined temperature unit, so initialization failed.\")","}","\/\/ Prints \"This isn't a defined temperature unit, so initialization failed.\""],"syntax":"swift","type":"codeListing"},{"level":3,"anchor":"Inicializadores-falibles-para-enumeraciones-con-valores-brutos","text":"Inicializadores falibles para enumeraciones con valores brutos","type":"heading"},{"inlineContent":[{"text":"Enumerations with raw values automatically receive a failable initializer,","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"init?(rawValue:)"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"that takes a parameter called "},{"code":"rawValue","type":"codeVoice"},{"text":" of the appropriate raw-value type","type":"text"},{"type":"text","text":" "},{"text":"and selects a matching enumeration case if one is found,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or triggers an initialization failure if no matching value exists."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can rewrite the "},{"type":"codeVoice","code":"TemperatureUnit"},{"type":"text","text":" example from above"},{"type":"text","text":" "},{"type":"text","text":"to use raw values of type "},{"code":"Character","type":"codeVoice"},{"type":"text","text":" "},{"text":"and to take advantage of the ","type":"text"},{"type":"codeVoice","code":"init?(rawValue:)"},{"type":"text","text":" initializer:"}],"type":"paragraph"},{"syntax":"swift","code":["enum TemperatureUnit: Character {","    case kelvin = \"K\", celsius = \"C\", fahrenheit = \"F\"","}","","let fahrenheitUnit = TemperatureUnit(rawValue: \"F\")","if fahrenheitUnit != nil {","    print(\"This is a defined temperature unit, so initialization succeeded.\")","}","\/\/ Prints \"This is a defined temperature unit, so initialization succeeded.\"","","let unknownUnit = TemperatureUnit(rawValue: \"X\")","if unknownUnit == nil {","    print(\"This isn't a defined temperature unit, so initialization failed.\")","}","\/\/ Prints \"This isn't a defined temperature unit, so initialization failed.\""],"type":"codeListing"},{"anchor":"Propagaci%C3%B3n-de-fallas-de-inicializaci%C3%B3n","level":3,"text":"Propagación de fallas de inicialización","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"A failable initializer of a class, structure, or enumeration","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can delegate across to another failable initializer from the same class, structure, or enumeration."},{"type":"text","text":" "},{"text":"Similarly, a subclass failable initializer can delegate up to a superclass failable initializer.","type":"text"}]},{"inlineContent":[{"type":"text","text":"In either case, if you delegate to another initializer that causes initialization to fail,"},{"text":" ","type":"text"},{"type":"text","text":"the entire initialization process fails immediately,"},{"text":" ","type":"text"},{"text":"and no further initialization code is executed.","type":"text"}],"type":"paragraph"},{"style":"note","type":"aside","name":"Note","content":[{"inlineContent":[{"type":"text","text":"A failable initializer can also delegate to a nonfailable initializer."},{"text":" ","type":"text"},{"text":"Use this approach if you need to add a potential failure state","type":"text"},{"text":" ","type":"text"},{"text":"to an existing initialization process that doesn’t otherwise fail.","type":"text"}],"type":"paragraph"}]},{"inlineContent":[{"type":"text","text":"The example below defines a subclass of "},{"type":"codeVoice","code":"Product"},{"text":" called ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"The ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"text":" class models an item in an online shopping cart.","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":" introduces a stored constant property called "},{"code":"quantity","type":"codeVoice"},{"text":" ","type":"text"},{"text":"and ensures that this property always has a value of at least ","type":"text"},{"code":"1","type":"codeVoice"},{"text":":","type":"text"}],"type":"paragraph"},{"code":["class Product {","    let name: String","    init?(name: String) {","        if name.isEmpty { return nil }","        self.name = name","    }","}","","class CartItem: Product {","    let quantity: Int","    init?(name: String, quantity: Int) {","        if quantity < 1 { return nil }","        self.quantity = quantity","        super.init(name: name)","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The failable initializer for "},{"code":"CartItem","type":"codeVoice"},{"type":"text","text":" starts by"},{"text":" ","type":"text"},{"type":"text","text":"validating that it has received a "},{"type":"codeVoice","code":"quantity"},{"text":" value of ","type":"text"},{"type":"codeVoice","code":"1"},{"text":" or more.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If the "},{"type":"codeVoice","code":"quantity"},{"text":" is invalid,","type":"text"},{"type":"text","text":" "},{"text":"the entire initialization process fails immediately","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and no further initialization code is executed."},{"type":"text","text":" "},{"type":"text","text":"Likewise, the failable initializer for "},{"type":"codeVoice","code":"Product"},{"type":"text","text":" "},{"type":"text","text":"checks the "},{"type":"codeVoice","code":"name"},{"type":"text","text":" value,"},{"text":" ","type":"text"},{"type":"text","text":"and the initializer process fails immediately"},{"type":"text","text":" "},{"type":"text","text":"if "},{"code":"name","type":"codeVoice"},{"text":" is the empty string.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"If you create a ","type":"text"},{"code":"CartItem","type":"codeVoice"},{"type":"text","text":" instance with a nonempty name and a quantity of "},{"code":"1","type":"codeVoice"},{"text":" or more,","type":"text"},{"type":"text","text":" "},{"text":"initialization succeeds:","type":"text"}]},{"syntax":"swift","code":["if let twoSocks = CartItem(name: \"sock\", quantity: 2) {","    print(\"Item: \\(twoSocks.name), quantity: \\(twoSocks.quantity)\")","}","\/\/ Prints \"Item: sock, quantity: 2\""],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"If you try to create a ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":" instance with a "},{"type":"codeVoice","code":"quantity"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"0"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the "},{"code":"CartItem","type":"codeVoice"},{"type":"text","text":" initializer causes initialization to fail:"}]},{"syntax":"swift","type":"codeListing","code":["if let zeroShirts = CartItem(name: \"shirt\", quantity: 0) {","    print(\"Item: \\(zeroShirts.name), quantity: \\(zeroShirts.quantity)\")","} else {","    print(\"Unable to initialize zero shirts\")","}","\/\/ Prints \"Unable to initialize zero shirts\""]},{"type":"paragraph","inlineContent":[{"text":"Similarly, if you try to create a ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"text":" instance with an empty ","type":"text"},{"type":"codeVoice","code":"name"},{"type":"text","text":" value,"},{"text":" ","type":"text"},{"type":"text","text":"the superclass "},{"code":"Product","type":"codeVoice"},{"text":" initializer causes initialization to fail:","type":"text"}]},{"type":"codeListing","code":["if let oneUnnamed = CartItem(name: \"\", quantity: 1) {","    print(\"Item: \\(oneUnnamed.name), quantity: \\(oneUnnamed.quantity)\")","} else {","    print(\"Unable to initialize one unnamed product\")","}","\/\/ Prints \"Unable to initialize one unnamed product\""],"syntax":"swift"},{"level":3,"anchor":"Sustituci%C3%B3n-de-un-inicializador-falible","text":"Sustitución de un inicializador falible","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can override a superclass failable initializer in a subclass,"},{"text":" ","type":"text"},{"text":"just like any other initializer.","type":"text"},{"type":"text","text":" "},{"text":"Alternatively, you can override a superclass failable initializer","type":"text"},{"text":" ","type":"text"},{"text":"with a subclass ","type":"text"},{"inlineContent":[{"type":"text","text":"nonfailable"}],"type":"emphasis"},{"text":" initializer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This enables you to define a subclass for which initialization can’t fail,"},{"type":"text","text":" "},{"text":"even though initialization of the superclass is allowed to fail.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Note that if you override a failable superclass initializer with a nonfailable subclass initializer,"},{"text":" ","type":"text"},{"type":"text","text":"the only way to delegate up to the superclass initializer"},{"text":" ","type":"text"},{"type":"text","text":"is to force-unwrap the result of the failable superclass initializer."}],"type":"paragraph"},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can override a failable initializer with a nonfailable initializer"},{"type":"text","text":" "},{"text":"but not the other way around.","type":"text"}]}],"name":"Note","style":"note"},{"type":"paragraph","inlineContent":[{"text":"The example below defines a class called ","type":"text"},{"code":"Document","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"This class models a document that can be initialized with","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"a "},{"code":"name","type":"codeVoice"},{"text":" property that’s either a nonempty string value or ","type":"text"},{"code":"nil","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"but can’t be an empty string:"}]},{"code":["class Document {","    var name: String?","    \/\/ this initializer creates a document with a nil name value","    init() {}","    \/\/ this initializer creates a document with a nonempty name value","    init?(name: String) {","        if name.isEmpty { return nil }","        self.name = name","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The next example defines a subclass of "},{"code":"Document","type":"codeVoice"},{"type":"text","text":" called "},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"type":"text","text":" subclass overrides"},{"text":" ","type":"text"},{"type":"text","text":"both of the designated initializers introduced by "},{"code":"Document","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"These overrides ensure that an ","type":"text"},{"code":"AutomaticallyNamedDocument","type":"codeVoice"},{"type":"text","text":" instance has"},{"type":"text","text":" "},{"text":"an initial ","type":"text"},{"code":"name","type":"codeVoice"},{"text":" value of ","type":"text"},{"type":"codeVoice","code":"\"[Untitled]\""},{"text":" ","type":"text"},{"type":"text","text":"if the instance is initialized without a name,"},{"type":"text","text":" "},{"text":"or if an empty string is passed to the ","type":"text"},{"code":"init(name:)","type":"codeVoice"},{"type":"text","text":" initializer:"}]},{"type":"codeListing","syntax":"swift","code":["class AutomaticallyNamedDocument: Document {","    override init() {","        super.init()","        self.name = \"[Untitled]\"","    }","    override init(name: String) {","        super.init()","        if name.isEmpty {","            self.name = \"[Untitled]\"","        } else {","            self.name = name","        }","    }","}"]},{"inlineContent":[{"type":"text","text":"The "},{"code":"AutomaticallyNamedDocument","type":"codeVoice"},{"type":"text","text":" overrides its superclass’s"},{"type":"text","text":" "},{"type":"text","text":"failable "},{"code":"init?(name:)","type":"codeVoice"},{"type":"text","text":" initializer with a nonfailable "},{"type":"codeVoice","code":"init(name:)"},{"type":"text","text":" initializer."},{"type":"text","text":" "},{"text":"Because ","type":"text"},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"type":"text","text":" copes with the empty string case"},{"type":"text","text":" "},{"text":"in a different way than its superclass,","type":"text"},{"text":" ","type":"text"},{"text":"its initializer doesn’t need to fail,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and so it provides a nonfailable version of the initializer instead."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use forced unwrapping in an initializer"},{"text":" ","type":"text"},{"text":"to call a failable initializer from the superclass","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as part of the implementation of a subclass’s nonfailable initializer."},{"type":"text","text":" "},{"type":"text","text":"For example, the "},{"type":"codeVoice","code":"UntitledDocument"},{"type":"text","text":" subclass below is always named "},{"type":"codeVoice","code":"\"[Untitled]\""},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and it uses the failable "},{"code":"init(name:)","type":"codeVoice"},{"type":"text","text":" initializer"},{"text":" ","type":"text"},{"text":"from its superclass during initialization.","type":"text"}]},{"type":"codeListing","code":["class UntitledDocument: Document {","    override init() {","        super.init(name: \"[Untitled]\")!","    }","}"],"syntax":"swift"},{"inlineContent":[{"text":"In this case, if the ","type":"text"},{"type":"codeVoice","code":"init(name:)"},{"text":" initializer of the superclass","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"were ever called with an empty string as the name,"},{"text":" ","type":"text"},{"type":"text","text":"the forced unwrapping operation would result in a runtime error."},{"text":" ","type":"text"},{"type":"text","text":"However, because it’s called with a string constant,"},{"text":" ","type":"text"},{"type":"text","text":"you can see that the initializer won’t fail,"},{"text":" ","type":"text"},{"type":"text","text":"so no runtime error can occur in this case."}],"type":"paragraph"},{"level":3,"type":"heading","text":"El inicializador falible init!","anchor":"El-inicializador-falible-init"},{"type":"paragraph","inlineContent":[{"text":"You typically define a failable initializer","type":"text"},{"type":"text","text":" "},{"text":"that creates an optional instance of the appropriate type","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"by placing a question mark after the "},{"type":"codeVoice","code":"init"},{"type":"text","text":" keyword ("},{"type":"codeVoice","code":"init?"},{"type":"text","text":")."},{"type":"text","text":" "},{"type":"text","text":"Alternatively, you can define a failable initializer that creates"},{"text":" ","type":"text"},{"type":"text","text":"an implicitly unwrapped optional instance of the appropriate type."},{"type":"text","text":" "},{"type":"text","text":"Do this by placing an exclamation point after the "},{"type":"codeVoice","code":"init"},{"type":"text","text":" keyword ("},{"code":"init!","type":"codeVoice"},{"text":")","type":"text"},{"type":"text","text":" "},{"text":"instead of a question mark.","type":"text"}]},{"inlineContent":[{"type":"text","text":"You can delegate from "},{"type":"codeVoice","code":"init?"},{"text":" to ","type":"text"},{"code":"init!","type":"codeVoice"},{"text":" and vice versa,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and you can override "},{"code":"init?","type":"codeVoice"},{"text":" with ","type":"text"},{"type":"codeVoice","code":"init!"},{"type":"text","text":" and vice versa."},{"type":"text","text":" "},{"text":"You can also delegate from ","type":"text"},{"code":"init","type":"codeVoice"},{"type":"text","text":" to "},{"type":"codeVoice","code":"init!"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"although doing so will trigger an assertion"},{"text":" ","type":"text"},{"type":"text","text":"if the "},{"type":"codeVoice","code":"init!"},{"text":" initializer causes initialization to fail.","type":"text"}],"type":"paragraph"},{"text":"Inicializadores obligatorios","type":"heading","anchor":"Inicializadores-obligatorios","level":2},{"type":"paragraph","inlineContent":[{"text":"Write the ","type":"text"},{"type":"codeVoice","code":"required"},{"text":" modifier before the definition of a class initializer","type":"text"},{"type":"text","text":" "},{"text":"to indicate that every subclass of the class must implement that initializer:","type":"text"}]},{"syntax":"swift","code":["class SomeClass {","    required init() {","        \/\/ initializer implementation goes here","    }","}"],"type":"codeListing"},{"inlineContent":[{"text":"You must also write the ","type":"text"},{"code":"required","type":"codeVoice"},{"text":" modifier before","type":"text"},{"type":"text","text":" "},{"type":"text","text":"every subclass implementation of a required initializer,"},{"text":" ","type":"text"},{"text":"to indicate that the initializer requirement applies to further subclasses in the chain.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You don’t write the "},{"code":"override","type":"codeVoice"},{"text":" modifier when overriding a required designated initializer:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["class SomeSubclass: SomeClass {","    required init() {","        \/\/ subclass implementation of the required initializer goes here","    }","}"]},{"name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"You don’t have to provide an explicit implementation of a required initializer","type":"text"},{"type":"text","text":" "},{"text":"if you can satisfy the requirement with an inherited initializer.","type":"text"}]}],"style":"note"},{"level":2,"anchor":"Asignaci%C3%B3n-de-un-valor-predeterminado-a-una-propiedad-mediante-una-clausura-o-funci%C3%B3n","type":"heading","text":"Asignación de un valor predeterminado a una propiedad mediante una clausura o función"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a stored property’s default value requires some customization or setup,"},{"type":"text","text":" "},{"type":"text","text":"you can use a closure or global function to provide"},{"type":"text","text":" "},{"type":"text","text":"a customized default value for that property."},{"text":" ","type":"text"},{"text":"Whenever a new instance of the type that the property belongs to is initialized,","type":"text"},{"type":"text","text":" "},{"text":"the closure or function is called,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and its return value is assigned as the property’s default value."}]},{"type":"paragraph","inlineContent":[{"text":"These kinds of closures or functions typically create","type":"text"},{"type":"text","text":" "},{"text":"a temporary value of the same type as the property,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"tailor that value to represent the desired initial state,"},{"text":" ","type":"text"},{"type":"text","text":"and then return that temporary value to be used as the property’s default value."}]},{"inlineContent":[{"type":"text","text":"Here’s a skeleton outline of how a closure can be used"},{"type":"text","text":" "},{"type":"text","text":"to provide a default property value:"}],"type":"paragraph"},{"syntax":"swift","code":["class SomeClass {","    let someProperty: SomeType = {","        \/\/ create a default value for someProperty inside this closure","        \/\/ someValue must be of the same type as SomeType","        return someValue","    }()","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that the closure’s end curly brace is followed by an empty pair of parentheses."},{"type":"text","text":" "},{"text":"This tells Swift to execute the closure immediately.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If you omit these parentheses,"},{"text":" ","type":"text"},{"type":"text","text":"you are trying to assign the closure itself to the property,"},{"type":"text","text":" "},{"text":"and not the return value of the closure.","type":"text"}]},{"type":"aside","content":[{"inlineContent":[{"type":"text","text":"If you use a closure to initialize a property,"},{"text":" ","type":"text"},{"type":"text","text":"remember that the rest of the instance hasn’t yet been initialized"},{"type":"text","text":" "},{"type":"text","text":"at the point that the closure is executed."},{"text":" ","type":"text"},{"text":"This means that you can’t access any other property values from within your closure,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"even if those properties have default values."},{"type":"text","text":" "},{"text":"You also can’t use the implicit ","type":"text"},{"code":"self","type":"codeVoice"},{"type":"text","text":" property,"},{"type":"text","text":" "},{"text":"or call any of the instance’s methods.","type":"text"}],"type":"paragraph"}],"name":"Note","style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The example below defines a structure called "},{"type":"codeVoice","code":"Chessboard"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"which models a board for the game of chess.","type":"text"},{"type":"text","text":" "},{"text":"Chess is played on an 8 x 8 board,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with alternating black and white squares."}]},{"inlineContent":[{"identifier":"chessBoard","type":"image"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To represent this game board,"},{"type":"text","text":" "},{"text":"the ","type":"text"},{"type":"codeVoice","code":"Chessboard"},{"type":"text","text":" structure has a single property called "},{"type":"codeVoice","code":"boardColors"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"which is an array of 64 ","type":"text"},{"code":"Bool","type":"codeVoice"},{"text":" values.","type":"text"},{"type":"text","text":" "},{"text":"A value of ","type":"text"},{"type":"codeVoice","code":"true"},{"type":"text","text":" in the array represents a black square"},{"type":"text","text":" "},{"type":"text","text":"and a value of "},{"type":"codeVoice","code":"false"},{"text":" represents a white square.","type":"text"},{"type":"text","text":" "},{"text":"The first item in the array represents the top left square on the board","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the last item in the array represents the bottom right square on the board."}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"boardColors","type":"codeVoice"},{"type":"text","text":" array is initialized with a closure to set up its color values:"}]},{"syntax":"swift","code":["struct Chessboard {","    let boardColors: [Bool] = {","        var temporaryBoard: [Bool] = []","        var isBlack = false","        for i in 1...8 {","            for j in 1...8 {","                temporaryBoard.append(isBlack)","                isBlack = !isBlack","            }","            isBlack = !isBlack","        }","        return temporaryBoard","    }()","    func squareIsBlackAt(row: Int, column: Int) -> Bool {","        return boardColors[(row * 8) + column]","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"Whenever a new ","type":"text"},{"code":"Chessboard","type":"codeVoice"},{"type":"text","text":" instance is created, the closure is executed,"},{"text":" ","type":"text"},{"type":"text","text":"and the default value of "},{"type":"codeVoice","code":"boardColors"},{"text":" is calculated and returned.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The closure in the example above calculates and sets"},{"text":" ","type":"text"},{"type":"text","text":"the appropriate color for each square on the board"},{"type":"text","text":" "},{"text":"in a temporary array called ","type":"text"},{"type":"codeVoice","code":"temporaryBoard"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"and returns this temporary array as the closure’s return value"},{"type":"text","text":" "},{"type":"text","text":"once its setup is complete."},{"type":"text","text":" "},{"type":"text","text":"The returned array value is stored in "},{"type":"codeVoice","code":"boardColors"},{"type":"text","text":" "},{"type":"text","text":"and can be queried with the "},{"type":"codeVoice","code":"squareIsBlackAt(row:column:)"},{"type":"text","text":" utility function:"}]},{"syntax":"swift","code":["let board = Chessboard()","print(board.squareIsBlackAt(row: 0, column: 1))","\/\/ Prints \"true\"","print(board.squareIsBlackAt(row: 7, column: 7))","\/\/ Prints \"false\""],"type":"codeListing"},{"type":"aside","style":"note","content":[{"inlineContent":[{"type":"text","text":""}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Esta documentación contiene información preliminar sobre una API o tecnología en desarrollo. Esta información está sujeta a cambios, y todo software implementado en conformidad con esta documentación debe ser testeado con el software final del sistema operativo.","type":"text"}]},{"inlineContent":[{"text":"Conoce más acerca del uso del ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/es\/support\/beta-software\/","type":"reference","isActive":true},{"type":"text","text":"."}],"type":"paragraph"}],"name":"Software Beta"}]}],"sections":[],"abstract":[{"type":"text","text":"Set the initial values for a type’s stored properties and perform one-time setup."}],"references":{"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores":{"kind":"section","title":"Herencia y sustitución de inicializadores","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","abstract":[]},"twoPhaseInitialization02":{"alt":null,"type":"image","identifier":"twoPhaseInitialization02","variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization02@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization02~dark@2x.png"}]},"https://developer.apple.com/es/support/beta-software/":{"title":"software beta de Apple","url":"https:\/\/developer.apple.com\/es\/support\/beta-software\/","titleInlineContent":[{"text":"software beta de Apple","type":"text"}],"type":"link","identifier":"https:\/\/developer.apple.com\/es\/support\/beta-software\/"},"twoPhaseInitialization01":{"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization01@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization01~dark@2x.png"}],"alt":null,"type":"image","identifier":"twoPhaseInitialization01"},"initializersExample02":{"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializersExample02@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/initializersExample02~dark@2x.png"}],"alt":null,"type":"image","identifier":"initializersExample02"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language":{"kind":"article","role":"collection","url":"\/documentation\/the-swift-programming-language","abstract":[],"title":"The Swift Programming Language (6)","type":"topic","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Extensions":{"kind":"article","role":"article","type":"topic","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","title":"Extensiones","url":"\/documentation\/the-swift-programming-language\/extensions","abstract":[{"type":"text","text":"Add functionality to an existing type."}]},"initializersExample01":{"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializersExample01@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/initializersExample01~dark@2x.png"}],"alt":null,"type":"image","identifier":"initializersExample01"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Inheritance":{"url":"\/documentation\/the-swift-programming-language\/inheritance","kind":"article","role":"article","type":"topic","abstract":[{"text":"Subclass to add or override functionality.","type":"text"}],"title":"Herencia","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Inheritance"},"chessBoard":{"variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/chessBoard@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/chessBoard~dark@2x.png"}],"alt":null,"type":"image","identifier":"chessBoard"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Deinitialization":{"kind":"article","role":"article","title":"Desinicialización","type":"topic","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Deinitialization","abstract":[{"text":"Release resources that require custom cleanup.","type":"text"}],"url":"\/documentation\/the-swift-programming-language\/deinitialization"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Inicializadores-predeterminados":{"kind":"section","title":"Inicializadores predeterminados","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Inicializadores-predeterminados","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","abstract":[]},"initializerDelegation01":{"alt":null,"type":"image","identifier":"initializerDelegation01","variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializerDelegation01@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/initializerDelegation01~dark@2x.png"}]},"initializersExample03":{"alt":null,"type":"image","identifier":"initializersExample03","variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializersExample03@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/initializersExample03~dark@2x.png"}]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase":{"kind":"section","title":"Delegación de inicializadores para tipos de clase","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","abstract":[]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n":{"kind":"section","title":"Parámetros de inicialización","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","abstract":[]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Herencia-autom%C3%A1tica-de-inicializadores":{"kind":"section","title":"Herencia automática de inicializadores","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Herencia-autom%C3%A1tica-de-inicializadores","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","abstract":[]},"initializerDelegation02":{"alt":null,"type":"image","identifier":"initializerDelegation02","variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializerDelegation02@2x.png"},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/initializerDelegation02~dark@2x.png"}]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Inicializaci%C3%B3n-de-dos-fases":{"kind":"section","title":"Inicialización de dos fases","type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Inicializaci%C3%B3n-de-dos-fases","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializaci%C3%B3n-de-dos-fases","abstract":[]}}}
=======
{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization"},"hierarchy":{"paths":[["doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language"]]},"primaryContentSections":[{"content":[{"inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"Initialization"}]},{"type":"text","text":" is the process of preparing an instance of"},{"type":"text","text":" "},{"type":"text","text":"a class, structure, or enumeration for use."},{"type":"text","text":" "},{"type":"text","text":"This process involves setting an initial value for each stored property on that instance"},{"text":" ","type":"text"},{"text":"and performing any other setup or initialization that’s required","type":"text"},{"text":" ","type":"text"},{"text":"before the new instance is ready for use.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"You implement this initialization process by defining ","type":"text"},{"inlineContent":[{"type":"text","text":"initializers"}],"type":"emphasis"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which are like special methods that can be called"},{"type":"text","text":" "},{"text":"to create a new instance of a particular type.","type":"text"},{"type":"text","text":" "},{"text":"Unlike Objective-C initializers, Swift initializers don’t return a value.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Their primary role is to ensure that new instances of a type"},{"type":"text","text":" "},{"text":"are correctly initialized before they’re used for the first time.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Instances of class types can also implement a "},{"type":"emphasis","inlineContent":[{"text":"deinitializer","type":"text"}]},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"which performs any custom cleanup just before an instance of that class is deallocated."},{"text":" ","type":"text"},{"type":"text","text":"For more information about deinitializers, see "},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Deinitialization","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"paragraph"},{"anchor":"Asignaci%C3%B3n-de-valores-iniciales-para-propiedades-almacenadas","text":"Asignación de valores iniciales para propiedades almacenadas","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"Classes and structures ","type":"text"},{"inlineContent":[{"text":"must","type":"text"}],"type":"emphasis"},{"text":" set all of their stored properties","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to an appropriate initial value by the time"},{"text":" ","type":"text"},{"text":"an instance of that class or structure is created.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Stored properties can’t be left in an indeterminate state."}]},{"inlineContent":[{"type":"text","text":"You can set an initial value for a stored property within an initializer,"},{"type":"text","text":" "},{"text":"or by assigning a default property value as part of the property’s definition.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"These actions are described in the following sections."}],"type":"paragraph"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"When you assign a default value to a stored property,"},{"text":" ","type":"text"},{"type":"text","text":"or set its initial value within an initializer,"},{"text":" ","type":"text"},{"type":"text","text":"the value of that property is set directly,"},{"type":"text","text":" "},{"type":"text","text":"without calling any property observers."}],"type":"paragraph"}],"style":"note"},{"type":"heading","level":3,"anchor":"Inicializadores","text":"Inicializadores"},{"inlineContent":[{"inlineContent":[{"text":"Initializers","type":"text"}],"type":"emphasis"},{"text":" are called to create a new instance of a particular type.","type":"text"},{"type":"text","text":" "},{"text":"In its simplest form, an initializer is like an instance method with no parameters,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"written using the "},{"code":"init","type":"codeVoice"},{"text":" keyword:","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["init() {","    \/\/ perform some initialization here","}"],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"The example below defines a new structure called "},{"code":"Fahrenheit","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"to store temperatures expressed in the Fahrenheit scale."},{"text":" ","type":"text"},{"type":"text","text":"The "},{"code":"Fahrenheit","type":"codeVoice"},{"type":"text","text":" structure has one stored property,"},{"text":" ","type":"text"},{"type":"codeVoice","code":"temperature"},{"type":"text","text":", which is of type "},{"code":"Double","type":"codeVoice"},{"type":"text","text":":"}],"type":"paragraph"},{"code":["struct Fahrenheit {","    var temperature: Double","    init() {","        temperature = 32.0","    }","}","var f = Fahrenheit()","print(\"The default temperature is \\(f.temperature)° Fahrenheit\")","\/\/ Prints \"The default temperature is 32.0° Fahrenheit\""],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"The structure defines a single initializer, ","type":"text"},{"type":"codeVoice","code":"init"},{"text":", with no parameters,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which initializes the stored temperature with a value of "},{"type":"codeVoice","code":"32.0"},{"type":"text","text":" "},{"type":"text","text":"(the freezing point of water in degrees Fahrenheit)."}]},{"level":3,"text":"Valores predeterminados de propiedades","type":"heading","anchor":"Valores-predeterminados-de-propiedades"},{"type":"paragraph","inlineContent":[{"text":"You can set the initial value of a stored property from within an initializer,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as shown above."},{"text":" ","type":"text"},{"text":"Alternatively, specify a ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"default property value","type":"text"}]},{"text":" ","type":"text"},{"type":"text","text":"as part of the property’s declaration."},{"type":"text","text":" "},{"type":"text","text":"You specify a default property value by assigning an initial value to the property"},{"type":"text","text":" "},{"text":"when it’s defined.","type":"text"}]},{"content":[{"inlineContent":[{"text":"If a property always takes the same initial value,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"provide a default value rather than setting a value within an initializer."},{"type":"text","text":" "},{"type":"text","text":"The end result is the same,"},{"type":"text","text":" "},{"type":"text","text":"but the default value ties the property’s initialization more closely to its declaration."},{"type":"text","text":" "},{"text":"It makes for shorter, clearer initializers","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and enables you to infer the type of the property from its default value."},{"type":"text","text":" "},{"text":"The default value also makes it easier for you to take advantage of","type":"text"},{"type":"text","text":" "},{"type":"text","text":"default initializers and initializer inheritance,"},{"text":" ","type":"text"},{"text":"as described later in this chapter.","type":"text"}],"type":"paragraph"}],"type":"aside","name":"Note","style":"note"},{"type":"paragraph","inlineContent":[{"text":"You can write the ","type":"text"},{"type":"codeVoice","code":"Fahrenheit"},{"type":"text","text":" structure from above in a simpler form"},{"text":" ","type":"text"},{"type":"text","text":"by providing a default value for its "},{"type":"codeVoice","code":"temperature"},{"text":" property","type":"text"},{"type":"text","text":" "},{"type":"text","text":"at the point that the property is declared:"}]},{"type":"codeListing","syntax":"swift","code":["struct Fahrenheit {","    var temperature = 32.0","}"]},{"text":"Personalización de la inicialización","level":2,"type":"heading","anchor":"Personalizaci%C3%B3n-de-la-inicializaci%C3%B3n"},{"inlineContent":[{"type":"text","text":"You can customize the initialization process"},{"type":"text","text":" "},{"text":"with input parameters and optional property types,","type":"text"},{"type":"text","text":" "},{"text":"or by assigning constant properties during initialization,","type":"text"},{"type":"text","text":" "},{"text":"as described in the following sections.","type":"text"}],"type":"paragraph"},{"type":"heading","level":3,"text":"Parámetros de inicialización","anchor":"Par%C3%A1metros-de-inicializaci%C3%B3n"},{"type":"paragraph","inlineContent":[{"text":"You can provide ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"initialization parameters"}]},{"type":"text","text":" as part of an initializer’s definition,"},{"text":" ","type":"text"},{"type":"text","text":"to define the types and names of values that customize the initialization process."},{"text":" ","type":"text"},{"type":"text","text":"Initialization parameters have the same capabilities and syntax"},{"type":"text","text":" "},{"text":"as function and method parameters.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example defines a structure called "},{"code":"Celsius","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"which stores temperatures expressed in degrees Celsius."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"Celsius"},{"type":"text","text":" structure implements two custom initializers called"},{"text":" ","type":"text"},{"code":"init(fromFahrenheit:)","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"init(fromKelvin:)","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"which initialize a new instance of the structure","type":"text"},{"text":" ","type":"text"},{"text":"with a value from a different temperature scale:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["struct Celsius {","    var temperatureInCelsius: Double","    init(fromFahrenheit fahrenheit: Double) {","        temperatureInCelsius = (fahrenheit - 32.0) \/ 1.8","    }","    init(fromKelvin kelvin: Double) {","        temperatureInCelsius = kelvin - 273.15","    }","}","let boilingPointOfWater = Celsius(fromFahrenheit: 212.0)","\/\/ boilingPointOfWater.temperatureInCelsius is 100.0","let freezingPointOfWater = Celsius(fromKelvin: 273.15)","\/\/ freezingPointOfWater.temperatureInCelsius is 0.0"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The first initializer has a single initialization parameter"},{"type":"text","text":" "},{"type":"text","text":"with an argument label of "},{"code":"fromFahrenheit","type":"codeVoice"},{"type":"text","text":" and a parameter name of "},{"code":"fahrenheit","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"The second initializer has a single initialization parameter","type":"text"},{"type":"text","text":" "},{"text":"with an argument label of ","type":"text"},{"type":"codeVoice","code":"fromKelvin"},{"type":"text","text":" and a parameter name of "},{"type":"codeVoice","code":"kelvin"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Both initializers convert their single argument into"},{"type":"text","text":" "},{"text":"the corresponding Celsius value","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and store this value in a property called "},{"code":"temperatureInCelsius","type":"codeVoice"},{"type":"text","text":"."}]},{"level":3,"anchor":"Nombres-de-par%C3%A1metros-y-etiquetas-de-argumentos","type":"heading","text":"Nombres de parámetros y etiquetas de argumentos"},{"type":"paragraph","inlineContent":[{"type":"text","text":"As with function and method parameters,"},{"text":" ","type":"text"},{"type":"text","text":"initialization parameters can have both a parameter name"},{"text":" ","type":"text"},{"text":"for use within the initializer’s body","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and an argument label for use when calling the initializer."}]},{"inlineContent":[{"text":"However, initializers don’t have an identifying function name before their parentheses","type":"text"},{"type":"text","text":" "},{"text":"in the way that functions and methods do.","type":"text"},{"text":" ","type":"text"},{"text":"Therefore, the names and types of an initializer’s parameters","type":"text"},{"type":"text","text":" "},{"type":"text","text":"play a particularly important role in identifying which initializer should be called."},{"text":" ","type":"text"},{"type":"text","text":"Because of this, Swift provides an automatic argument label"},{"text":" ","type":"text"},{"text":"for ","type":"text"},{"inlineContent":[{"text":"every","type":"text"}],"type":"emphasis"},{"text":" parameter in an initializer if you don’t provide one.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example defines a structure called "},{"type":"codeVoice","code":"Color"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"with three constant properties called ","type":"text"},{"type":"codeVoice","code":"red"},{"text":", ","type":"text"},{"code":"green","type":"codeVoice"},{"type":"text","text":", and "},{"type":"codeVoice","code":"blue"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"These properties store a value between "},{"type":"codeVoice","code":"0.0"},{"type":"text","text":" and "},{"code":"1.0","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"to indicate the amount of red, green, and blue in the color."}]},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Color"},{"type":"text","text":" provides an initializer with"},{"type":"text","text":" "},{"type":"text","text":"three appropriately named parameters of type "},{"type":"codeVoice","code":"Double"},{"type":"text","text":" "},{"type":"text","text":"for its red, green, and blue components."},{"type":"text","text":" "},{"type":"codeVoice","code":"Color"},{"text":" also provides a second initializer with a single ","type":"text"},{"type":"codeVoice","code":"white"},{"text":" parameter,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which is used to provide the same value for all three color components."}]},{"type":"codeListing","code":["struct Color {","    let red, green, blue: Double","    init(red: Double, green: Double, blue: Double) {","        self.red   = red","        self.green = green","        self.blue  = blue","    }","    init(white: Double) {","        red   = white","        green = white","        blue  = white","    }","}"],"syntax":"swift"},{"inlineContent":[{"text":"Both initializers can be used to create a new ","type":"text"},{"code":"Color","type":"codeVoice"},{"type":"text","text":" instance,"},{"type":"text","text":" "},{"type":"text","text":"by providing named values for each initializer parameter:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)","let halfGray = Color(white: 0.5)"]},{"inlineContent":[{"type":"text","text":"Note that it isn’t possible to call these initializers"},{"type":"text","text":" "},{"type":"text","text":"without using argument labels."},{"text":" ","type":"text"},{"type":"text","text":"Argument labels must always be used in an initializer if they’re defined,"},{"type":"text","text":" "},{"type":"text","text":"and omitting them is a compile-time error:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let veryGreen = Color(0.0, 1.0, 0.0)","\/\/ this reports a compile-time error - argument labels are required"]},{"type":"heading","level":3,"text":"Parámetros de inicialización sin etiquetas de argumentos","anchor":"Par%C3%A1metros-de-inicializaci%C3%B3n-sin-etiquetas-de-argumentos"},{"inlineContent":[{"type":"text","text":"If you don’t want to use an argument label for an initializer parameter,"},{"type":"text","text":" "},{"text":"write an underscore (","type":"text"},{"code":"_","type":"codeVoice"},{"type":"text","text":") instead of an explicit argument label for that parameter"},{"text":" ","type":"text"},{"text":"to override the default behavior.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Here’s an expanded version of the "},{"code":"Celsius","type":"codeVoice"},{"text":" example","type":"text"},{"type":"text","text":" "},{"type":"text","text":"from "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n"},{"text":" above,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with an additional initializer to create a new "},{"code":"Celsius","type":"codeVoice"},{"text":" instance","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"from a "},{"code":"Double","type":"codeVoice"},{"type":"text","text":" value that’s already in the Celsius scale:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["struct Celsius {","    var temperatureInCelsius: Double","    init(fromFahrenheit fahrenheit: Double) {","        temperatureInCelsius = (fahrenheit - 32.0) \/ 1.8","    }","    init(fromKelvin kelvin: Double) {","        temperatureInCelsius = kelvin - 273.15","    }","    init(_ celsius: Double) {","        temperatureInCelsius = celsius","    }","}","let bodyTemperature = Celsius(37.0)","\/\/ bodyTemperature.temperatureInCelsius is 37.0"]},{"type":"paragraph","inlineContent":[{"text":"The initializer call ","type":"text"},{"type":"codeVoice","code":"Celsius(37.0)"},{"text":" is clear in its intent","type":"text"},{"type":"text","text":" "},{"text":"without the need for an argument label.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It’s therefore appropriate to write this initializer as "},{"type":"codeVoice","code":"init(_ celsius: Double)"},{"type":"text","text":" "},{"text":"so that it can be called by providing an unnamed ","type":"text"},{"code":"Double","type":"codeVoice"},{"text":" value.","type":"text"}]},{"level":3,"type":"heading","anchor":"Tipos-de-propiedades-opcionales","text":"Tipos de propiedades opcionales"},{"inlineContent":[{"text":"If your custom type has a stored property that’s logically allowed to have “no value” —","type":"text"},{"type":"text","text":" "},{"type":"text","text":"perhaps because its value can’t be set during initialization,"},{"text":" ","type":"text"},{"type":"text","text":"or because it’s allowed to have “no value” at some later point —"},{"type":"text","text":" "},{"type":"text","text":"declare the property with an "},{"inlineContent":[{"text":"optional","type":"text"}],"type":"emphasis"},{"text":" type.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Properties of optional type are automatically initialized with a value of "},{"code":"nil","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"indicating that the property is deliberately intended to have “no value yet”","type":"text"},{"type":"text","text":" "},{"text":"during initialization.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The following example defines a class called ","type":"text"},{"type":"codeVoice","code":"SurveyQuestion"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"with an optional "},{"code":"String","type":"codeVoice"},{"type":"text","text":" property called "},{"type":"codeVoice","code":"response"},{"type":"text","text":":"}]},{"code":["class SurveyQuestion {","    var text: String","    var response: String?","    init(text: String) {","        self.text = text","    }","    func ask() {","        print(text)","    }","}","let cheeseQuestion = SurveyQuestion(text: \"Do you like cheese?\")","cheeseQuestion.ask()","\/\/ Prints \"Do you like cheese?\"","cheeseQuestion.response = \"Yes, I do like cheese.\""],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The response to a survey question can’t be known until it’s asked,","type":"text"},{"text":" ","type":"text"},{"text":"and so the ","type":"text"},{"code":"response","type":"codeVoice"},{"text":" property is declared with a type of ","type":"text"},{"type":"codeVoice","code":"String?"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"or “optional ","type":"text"},{"code":"String","type":"codeVoice"},{"type":"text","text":"”."},{"type":"text","text":" "},{"text":"It’s automatically assigned a default value of ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":", meaning “no string yet”,","type":"text"},{"type":"text","text":" "},{"text":"when a new instance of ","type":"text"},{"type":"codeVoice","code":"SurveyQuestion"},{"type":"text","text":" is initialized."}],"type":"paragraph"},{"text":"Asignación de propiedades constantes durante la inicialización","level":3,"type":"heading","anchor":"Asignaci%C3%B3n-de-propiedades-constantes-durante-la-inicializaci%C3%B3n"},{"type":"paragraph","inlineContent":[{"text":"You can assign a value to a constant property","type":"text"},{"type":"text","text":" "},{"type":"text","text":"at any point during initialization,"},{"type":"text","text":" "},{"text":"as long as it’s set to a definite value by the time initialization finishes.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Once a constant property is assigned a value,"},{"text":" ","type":"text"},{"text":"it can’t be further modified.","type":"text"}]},{"name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"For class instances,"},{"text":" ","type":"text"},{"text":"a constant property can be modified during initialization","type":"text"},{"type":"text","text":" "},{"type":"text","text":"only by the class that introduces it."},{"type":"text","text":" "},{"type":"text","text":"It can’t be modified by a subclass."}]}],"type":"aside"},{"inlineContent":[{"type":"text","text":"You can revise the "},{"code":"SurveyQuestion","type":"codeVoice"},{"text":" example from above to use","type":"text"},{"type":"text","text":" "},{"text":"a constant property rather than a variable property for the ","type":"text"},{"code":"text","type":"codeVoice"},{"type":"text","text":" property of the question,"},{"text":" ","type":"text"},{"type":"text","text":"to indicate that the question doesn’t change once an instance of "},{"code":"SurveyQuestion","type":"codeVoice"},{"type":"text","text":" is created."},{"text":" ","type":"text"},{"text":"Even though the ","type":"text"},{"type":"codeVoice","code":"text"},{"text":" property is now a constant,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"it can still be set within the class’s initializer:"}],"type":"paragraph"},{"code":["class SurveyQuestion {","    let text: String","    var response: String?","    init(text: String) {","        self.text = text","    }","    func ask() {","        print(text)","    }","}","let beetsQuestion = SurveyQuestion(text: \"How about beets?\")","beetsQuestion.ask()","\/\/ Prints \"How about beets?\"","beetsQuestion.response = \"I also like beets. (But not with cheese.)\""],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"Inicializadores predeterminados","level":2,"anchor":"Inicializadores-predeterminados"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift provides a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"default initializer"}]},{"type":"text","text":" "},{"type":"text","text":"for any structure or class"},{"type":"text","text":" "},{"text":"that provides default values for all of its properties","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and doesn’t provide at least one initializer itself."},{"text":" ","type":"text"},{"text":"The default initializer simply creates a new instance","type":"text"},{"type":"text","text":" "},{"text":"with all of its properties set to their default values.","type":"text"}]},{"inlineContent":[{"text":"This example defines a class called ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which encapsulates the name, quantity, and purchase state"},{"type":"text","text":" "},{"type":"text","text":"of an item in a shopping list:"}],"type":"paragraph"},{"code":["class ShoppingListItem {","    var name: String?","    var quantity = 1","    var purchased = false","}","var item = ShoppingListItem()"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Because all properties of the ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" class have default values,"},{"type":"text","text":" "},{"type":"text","text":"and because it’s a base class with no superclass,"},{"text":" ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" automatically gains a default initializer implementation"},{"text":" ","type":"text"},{"type":"text","text":"that creates a new instance with all of its properties set to their default values."},{"type":"text","text":" "},{"type":"text","text":"(The "},{"type":"codeVoice","code":"name"},{"type":"text","text":" property is an optional "},{"code":"String","type":"codeVoice"},{"text":" property,","type":"text"},{"type":"text","text":" "},{"text":"and so it automatically receives a default value of ","type":"text"},{"code":"nil","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"even though this value isn’t written in the code.)"},{"type":"text","text":" "},{"type":"text","text":"The example above uses the default initializer for the "},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" class"},{"type":"text","text":" "},{"type":"text","text":"to create a new instance of the class with initializer syntax,"},{"type":"text","text":" "},{"text":"written as ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem()"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"and assigns this new instance to a variable called "},{"type":"codeVoice","code":"item"},{"text":".","type":"text"}],"type":"paragraph"},{"type":"heading","level":3,"anchor":"Inicializadores-a-nivel-de-miembro-para-tipos-de-estructura","text":"Inicializadores a nivel de miembro para tipos de estructura"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Structure types automatically receive a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"memberwise initializer"}]},{"text":" ","type":"text"},{"text":"if they don’t define any of their own custom initializers.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Unlike a default initializer,"},{"type":"text","text":" "},{"type":"text","text":"the structure receives a memberwise initializer"},{"text":" ","type":"text"},{"type":"text","text":"even if it has stored properties that don’t have default values."}]},{"inlineContent":[{"type":"text","text":"The memberwise initializer is a shorthand way"},{"text":" ","type":"text"},{"text":"to initialize the member properties of new structure instances.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Initial values for the properties of the new instance"},{"type":"text","text":" "},{"type":"text","text":"can be passed to the memberwise initializer by name."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The example below defines a structure called ","type":"text"},{"type":"codeVoice","code":"Size"},{"text":" ","type":"text"},{"type":"text","text":"with two properties called "},{"type":"codeVoice","code":"width"},{"type":"text","text":" and "},{"code":"height","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"Both properties are inferred to be of type ","type":"text"},{"code":"Double","type":"codeVoice"},{"type":"text","text":" "},{"text":"by assigning a default value of ","type":"text"},{"type":"codeVoice","code":"0.0"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"Size"},{"type":"text","text":" structure automatically receives an "},{"type":"codeVoice","code":"init(width:height:)"},{"text":" ","type":"text"},{"text":"memberwise initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which you can use to initialize a new "},{"type":"codeVoice","code":"Size"},{"text":" instance:","type":"text"}]},{"type":"codeListing","code":["struct Size {","    var width = 0.0, height = 0.0","}","let twoByTwo = Size(width: 2.0, height: 2.0)"],"syntax":"swift"},{"inlineContent":[{"text":"When you call a memberwise initializer,","type":"text"},{"type":"text","text":" "},{"text":"you can omit values for any properties","type":"text"},{"type":"text","text":" "},{"text":"that have default values.","type":"text"},{"type":"text","text":" "},{"text":"In the example above,","type":"text"},{"text":" ","type":"text"},{"text":"the ","type":"text"},{"code":"Size","type":"codeVoice"},{"type":"text","text":" structure has a default value"},{"text":" ","type":"text"},{"type":"text","text":"for both its "},{"code":"height","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"width"},{"type":"text","text":" properties."},{"type":"text","text":" "},{"type":"text","text":"You can omit either property or both properties,"},{"text":" ","type":"text"},{"type":"text","text":"and the initializer uses the default value for anything you omit."},{"type":"text","text":" "},{"text":"For example:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let zeroByTwo = Size(height: 2.0)","print(zeroByTwo.width, zeroByTwo.height)","\/\/ Prints \"0.0 2.0\"","","let zeroByZero = Size()","print(zeroByZero.width, zeroByZero.height)","\/\/ Prints \"0.0 0.0\""]},{"level":2,"anchor":"Delegaci%C3%B3n-de-inicializadores-para-tipos-de-valor","text":"Delegación de inicializadores para tipos de valor","type":"heading"},{"inlineContent":[{"text":"Initializers can call other initializers to perform part of an instance’s initialization.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This process, known as "},{"inlineContent":[{"type":"text","text":"initializer delegation"}],"type":"emphasis"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"avoids duplicating code across multiple initializers.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The rules for how initializer delegation works,"},{"text":" ","type":"text"},{"text":"and for what forms of delegation are allowed,","type":"text"},{"type":"text","text":" "},{"text":"are different for value types and class types.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Value types (structures and enumerations) don’t support inheritance,"},{"type":"text","text":" "},{"type":"text","text":"and so their initializer delegation process is relatively simple,"},{"type":"text","text":" "},{"type":"text","text":"because they can only delegate to another initializer that they provide themselves."},{"type":"text","text":" "},{"type":"text","text":"Classes, however, can inherit from other classes,"},{"type":"text","text":" "},{"type":"text","text":"as described in "},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Inheritance","isActive":true},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This means that classes have additional responsibilities for ensuring that"},{"type":"text","text":" "},{"type":"text","text":"all stored properties they inherit are assigned a suitable value during initialization."},{"type":"text","text":" "},{"type":"text","text":"These responsibilities are described in"},{"type":"text","text":" "},{"text":"doc:Initialization#Herencide-de-clases-e-inicialización","type":"text"},{"type":"text","text":" below."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For value types, you use "},{"code":"self.init","type":"codeVoice"},{"text":" to refer to other initializers","type":"text"},{"text":" ","type":"text"},{"text":"from the same value type when writing your own custom initializers.","type":"text"},{"text":" ","type":"text"},{"text":"You can call ","type":"text"},{"type":"codeVoice","code":"self.init"},{"type":"text","text":" only from within an initializer."}]},{"type":"paragraph","inlineContent":[{"text":"Note that if you define a custom initializer for a value type,","type":"text"},{"type":"text","text":" "},{"text":"you will no longer have access to the default initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"(or the memberwise initializer, if it’s a structure) for that type."},{"text":" ","type":"text"},{"type":"text","text":"This constraint prevents a situation in which additional essential setup"},{"type":"text","text":" "},{"type":"text","text":"provided in a more complex initializer"},{"text":" ","type":"text"},{"type":"text","text":"is accidentally circumvented by someone using one of the automatic initializers."}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want your custom value type to be initializable with"},{"type":"text","text":" "},{"type":"text","text":"the default initializer and memberwise initializer,"},{"type":"text","text":" "},{"text":"and also with your own custom initializers,","type":"text"},{"text":" ","type":"text"},{"text":"write your custom initializers in an extension","type":"text"},{"type":"text","text":" "},{"text":"rather than as part of the value type’s original implementation.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"For more information, see "},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","isActive":true},{"text":".","type":"text"}]}],"name":"Note","type":"aside","style":"note"},{"type":"paragraph","inlineContent":[{"text":"The following example defines a custom ","type":"text"},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" structure to represent a geometric rectangle."},{"type":"text","text":" "},{"type":"text","text":"The example requires two supporting structures called "},{"code":"Size","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"Point"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"both of which provide default values of ","type":"text"},{"code":"0.0","type":"codeVoice"},{"text":" for all of their properties:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["struct Size {","    var width = 0.0, height = 0.0","}","struct Point {","    var x = 0.0, y = 0.0","}"]},{"type":"paragraph","inlineContent":[{"text":"You can initialize the ","type":"text"},{"type":"codeVoice","code":"Rect"},{"type":"text","text":" structure below in one of three ways —"},{"text":" ","type":"text"},{"type":"text","text":"by using its default zero-initialized "},{"code":"origin","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"size"},{"text":" property values,","type":"text"},{"text":" ","type":"text"},{"text":"by providing a specific origin point and size,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or by providing a specific center point and size."},{"text":" ","type":"text"},{"text":"These initialization options are represented by","type":"text"},{"text":" ","type":"text"},{"text":"three custom initializers that are part of the ","type":"text"},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" structure’s definition:"}]},{"code":["struct Rect {","    var origin = Point()","    var size = Size()","    init() {}","    init(origin: Point, size: Size) {","        self.origin = origin","        self.size = size","    }","    init(center: Point, size: Size) {","        let originX = center.x - (size.width \/ 2)","        let originY = center.y - (size.height \/ 2)","        self.init(origin: Point(x: originX, y: originY), size: size)","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The first "},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" initializer, "},{"type":"codeVoice","code":"init()"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"is functionally the same as the default initializer that the structure would have received","type":"text"},{"type":"text","text":" "},{"type":"text","text":"if it didn’t have its own custom initializers."},{"type":"text","text":" "},{"text":"This initializer has an empty body,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"represented by an empty pair of curly braces "},{"code":"{}","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"Calling this initializer returns a ","type":"text"},{"code":"Rect","type":"codeVoice"},{"type":"text","text":" instance whose"},{"type":"text","text":" "},{"code":"origin","type":"codeVoice"},{"type":"text","text":" and "},{"code":"size","type":"codeVoice"},{"text":" properties are both initialized with","type":"text"},{"type":"text","text":" "},{"text":"the default values of ","type":"text"},{"code":"Point(x: 0.0, y: 0.0)","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"and "},{"code":"Size(width: 0.0, height: 0.0)","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"from their property definitions:"}]},{"type":"codeListing","syntax":"swift","code":["let basicRect = Rect()","\/\/ basicRect's origin is (0.0, 0.0) and its size is (0.0, 0.0)"]},{"type":"paragraph","inlineContent":[{"text":"The second ","type":"text"},{"code":"Rect","type":"codeVoice"},{"text":" initializer, ","type":"text"},{"code":"init(origin:size:)","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"is functionally the same as the memberwise initializer that the structure would have received"},{"text":" ","type":"text"},{"text":"if it didn’t have its own custom initializers.","type":"text"},{"text":" ","type":"text"},{"text":"This initializer simply assigns the ","type":"text"},{"type":"codeVoice","code":"origin"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"size"},{"type":"text","text":" argument values to"},{"text":" ","type":"text"},{"text":"the appropriate stored properties:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let originRect = Rect(origin: Point(x: 2.0, y: 2.0),","    size: Size(width: 5.0, height: 5.0))","\/\/ originRect's origin is (2.0, 2.0) and its size is (5.0, 5.0)"]},{"inlineContent":[{"text":"The third ","type":"text"},{"type":"codeVoice","code":"Rect"},{"type":"text","text":" initializer, "},{"type":"codeVoice","code":"init(center:size:)"},{"text":", is slightly more complex.","type":"text"},{"text":" ","type":"text"},{"text":"It starts by calculating an appropriate origin point based on","type":"text"},{"text":" ","type":"text"},{"text":"a ","type":"text"},{"code":"center","type":"codeVoice"},{"type":"text","text":" point and a "},{"type":"codeVoice","code":"size"},{"text":" value.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"It then calls (or "},{"type":"emphasis","inlineContent":[{"text":"delegates","type":"text"}]},{"text":") to the ","type":"text"},{"type":"codeVoice","code":"init(origin:size:)"},{"text":" initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which stores the new origin and size values in the appropriate properties:"}],"type":"paragraph"},{"syntax":"swift","code":["let centerRect = Rect(center: Point(x: 4.0, y: 4.0),","    size: Size(width: 3.0, height: 3.0))","\/\/ centerRect's origin is (2.5, 2.5) and its size is (3.0, 3.0)"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"The "},{"code":"init(center:size:)","type":"codeVoice"},{"type":"text","text":" initializer could have assigned"},{"type":"text","text":" "},{"type":"text","text":"the new values of "},{"type":"codeVoice","code":"origin"},{"type":"text","text":" and "},{"code":"size","type":"codeVoice"},{"text":" to the appropriate properties itself.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"However, it’s more convenient (and clearer in intent)"},{"type":"text","text":" "},{"text":"for the ","type":"text"},{"type":"codeVoice","code":"init(center:size:)"},{"text":" initializer to take advantage of an existing initializer","type":"text"},{"type":"text","text":" "},{"text":"that already provides exactly that functionality.","type":"text"}],"type":"paragraph"},{"content":[{"inlineContent":[{"type":"text","text":"For an alternative way to write this example without defining"},{"text":" ","type":"text"},{"text":"the ","type":"text"},{"code":"init()","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"init(origin:size:)"},{"type":"text","text":" initializers yourself,"},{"text":" ","type":"text"},{"type":"text","text":"see "},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","isActive":true},{"type":"text","text":"."}],"type":"paragraph"}],"type":"aside","name":"Note","style":"note"},{"level":2,"text":"Herencia de clases e inicialización","type":"heading","anchor":"Herencia-de-clases-e-inicializaci%C3%B3n"},{"type":"paragraph","inlineContent":[{"text":"All of a class’s stored properties —","type":"text"},{"type":"text","text":" "},{"text":"including any properties the class inherits from its superclass —","type":"text"},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"type":"text","text":"must"}]},{"type":"text","text":" be assigned an initial value during initialization."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift defines two kinds of initializers for class types"},{"text":" ","type":"text"},{"text":"to help ensure all stored properties receive an initial value.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"These are known as designated initializers and convenience initializers."}]},{"type":"heading","anchor":"Inicializadores-designados-e-inicializadores-de-conveniencia","level":3,"text":"Inicializadores designados e inicializadores de conveniencia"},{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"text":"Designated initializers","type":"text"}]},{"text":" are the primary initializers for a class.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"A designated initializer fully initializes all properties introduced by that class"},{"text":" ","type":"text"},{"type":"text","text":"and calls an appropriate superclass initializer"},{"text":" ","type":"text"},{"text":"to continue the initialization process up the superclass chain.","type":"text"}]},{"inlineContent":[{"text":"Classes tend to have very few designated initializers,","type":"text"},{"type":"text","text":" "},{"text":"and it’s quite common for a class to have only one.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Designated initializers are “funnel” points through which initialization takes place,"},{"type":"text","text":" "},{"text":"and through which the initialization process continues up the superclass chain.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Every class must have at least one designated initializer."},{"text":" ","type":"text"},{"text":"In some cases, this requirement is satisfied","type":"text"},{"type":"text","text":" "},{"type":"text","text":"by inheriting one or more designated initializers from a superclass,"},{"type":"text","text":" "},{"type":"text","text":"as described in "},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","type":"reference","isActive":true},{"text":" below.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"emphasis","inlineContent":[{"text":"Convenience initializers","type":"text"}]},{"type":"text","text":" are secondary, supporting initializers for a class."},{"type":"text","text":" "},{"text":"You can define a convenience initializer to call a designated initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"from the same class as the convenience initializer"},{"type":"text","text":" "},{"text":"with some of the designated initializer’s parameters set to default values.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"You can also define a convenience initializer to create"},{"text":" ","type":"text"},{"text":"an instance of that class for a specific use case or input value type.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"You don’t have to provide convenience initializers if your class doesn’t require them.","type":"text"},{"text":" ","type":"text"},{"text":"Create convenience initializers whenever a shortcut to a common initialization pattern","type":"text"},{"type":"text","text":" "},{"text":"will save time or make initialization of the class clearer in intent.","type":"text"}]},{"level":3,"anchor":"Sintaxis-para-inicializadores-designados-y-de-conveniencia","type":"heading","text":"Sintaxis para inicializadores designados y de conveniencia"},{"inlineContent":[{"text":"Designated initializers for classes are written in the same way as","type":"text"},{"type":"text","text":" "},{"type":"text","text":"simple initializers for value types:"}],"type":"paragraph"},{"syntax":"swift","code":["init(<#parameters#>) {","   <#statements#>","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Convenience initializers are written in the same style,"},{"type":"text","text":" "},{"type":"text","text":"but with the "},{"type":"codeVoice","code":"convenience"},{"type":"text","text":" modifier placed before the "},{"code":"init","type":"codeVoice"},{"type":"text","text":" keyword,"},{"text":" ","type":"text"},{"text":"separated by a space:","type":"text"}]},{"code":["convenience init(<#parameters#>) {","   <#statements#>","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"Delegación de inicializadores para tipos de clase","anchor":"Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To simplify the relationships between designated and convenience initializers,"},{"text":" ","type":"text"},{"type":"text","text":"Swift applies the following three rules for delegation calls between initializers:"}]},{"items":[{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Rule 1"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"A designated initializer must call a designated initializer from its immediate superclass.","type":"text"}]}]}},{"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"A convenience initializer must call another initializer from the ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"same","type":"text"}]},{"type":"text","text":" class."}]}]},"term":{"inlineContent":[{"inlineContent":[{"text":"Rule 2","type":"text"}],"type":"strong"}]}},{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Rule 3"}]}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A convenience initializer must ultimately call a designated initializer."}]}]}}],"type":"termList"},{"inlineContent":[{"type":"text","text":"A simple way to remember this is:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Designated initializers must always delegate ","type":"text"},{"inlineContent":[{"type":"text","text":"up"}],"type":"emphasis"},{"type":"text","text":"."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Convenience initializers must always delegate "},{"type":"emphasis","inlineContent":[{"type":"text","text":"across"}]},{"type":"text","text":"."}]}]}]},{"inlineContent":[{"type":"text","text":"These rules are illustrated in the figure below:"}],"type":"paragraph"},{"inlineContent":[{"identifier":"initializerDelegation01","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"Here, the superclass has a single designated initializer and two convenience initializers.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"One convenience initializer calls another convenience initializer,"},{"type":"text","text":" "},{"type":"text","text":"which in turn calls the single designated initializer."},{"text":" ","type":"text"},{"type":"text","text":"This satisfies rules 2 and 3 from above."},{"type":"text","text":" "},{"type":"text","text":"The superclass doesn’t itself have a further superclass, and so rule 1 doesn’t apply."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The subclass in this figure has two designated initializers and one convenience initializer."},{"type":"text","text":" "},{"text":"The convenience initializer must call one of the two designated initializers,","type":"text"},{"text":" ","type":"text"},{"text":"because it can only call another initializer from the same class.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This satisfies rules 2 and 3 from above."},{"text":" ","type":"text"},{"type":"text","text":"Both designated initializers must call the single designated initializer"},{"text":" ","type":"text"},{"type":"text","text":"from the superclass, to satisfy rule 1 from above."}],"type":"paragraph"},{"name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"These rules don’t affect how users of your classes "},{"type":"emphasis","inlineContent":[{"type":"text","text":"create"}]},{"text":" instances of each class.","type":"text"},{"text":" ","type":"text"},{"text":"Any initializer in the diagram above can be used to create","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"a fully initialized instance of the class they belong to."},{"text":" ","type":"text"},{"text":"The rules only affect how you write the implementation of the class’s initializers.","type":"text"}]}],"style":"note","type":"aside"},{"inlineContent":[{"text":"The figure below shows a more complex class hierarchy for four classes.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It illustrates how the designated initializers in this hierarchy"},{"text":" ","type":"text"},{"type":"text","text":"act as “funnel” points for class initialization,"},{"text":" ","type":"text"},{"text":"simplifying the interrelationships among classes in the chain:","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"identifier":"initializerDelegation02","type":"image"}]},{"anchor":"Inicializaci%C3%B3n-de-dos-fases","text":"Inicialización de dos fases","type":"heading","level":3},{"inlineContent":[{"text":"Class initialization in Swift is a two-phase process.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"In the first phase, each stored property is assigned an initial value"},{"type":"text","text":" "},{"text":"by the class that introduced it.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Once the initial state for every stored property has been determined,"},{"type":"text","text":" "},{"text":"the second phase begins,","type":"text"},{"text":" ","type":"text"},{"text":"and each class is given the opportunity to customize its stored properties further","type":"text"},{"type":"text","text":" "},{"text":"before the new instance is considered ready for use.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The use of a two-phase initialization process makes initialization safe,"},{"type":"text","text":" "},{"type":"text","text":"while still giving complete flexibility to each class in a class hierarchy."},{"type":"text","text":" "},{"type":"text","text":"Two-phase initialization prevents property values"},{"type":"text","text":" "},{"type":"text","text":"from being accessed before they’re initialized,"},{"type":"text","text":" "},{"text":"and prevents property values from being set to a different value","type":"text"},{"text":" ","type":"text"},{"text":"by another initializer unexpectedly.","type":"text"}]},{"name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift’s two-phase initialization process is similar to initialization in Objective-C."},{"type":"text","text":" "},{"type":"text","text":"The main difference is that during phase 1,"},{"text":" ","type":"text"},{"text":"Objective-C assigns zero or null values (such as ","type":"text"},{"code":"0","type":"codeVoice"},{"type":"text","text":" or "},{"code":"nil","type":"codeVoice"},{"text":") to every property.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Swift’s initialization flow is more flexible"},{"type":"text","text":" "},{"type":"text","text":"in that it lets you set custom initial values,"},{"type":"text","text":" "},{"type":"text","text":"and can cope with types for which "},{"type":"codeVoice","code":"0"},{"type":"text","text":" or "},{"code":"nil","type":"codeVoice"},{"text":" isn’t a valid default value.","type":"text"}]}],"type":"aside","style":"note"},{"inlineContent":[{"type":"text","text":"Swift’s compiler performs four helpful safety-checks to make sure that"},{"type":"text","text":" "},{"text":"two-phase initialization is completed without error:","type":"text"}],"type":"paragraph"},{"type":"termList","items":[{"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A designated initializer must ensure that all of the properties introduced by its class are initialized before it delegates up to a superclass initializer."}]}]},"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Safety check 1"}]}]}}]},{"inlineContent":[{"type":"text","text":"As mentioned above,"},{"type":"text","text":" "},{"type":"text","text":"the memory for an object is only considered fully initialized"},{"text":" ","type":"text"},{"type":"text","text":"once the initial state of all of its stored properties is known."},{"text":" ","type":"text"},{"type":"text","text":"In order for this rule to be satisfied, a designated initializer must make sure that"},{"text":" ","type":"text"},{"text":"all of its own properties are initialized before it hands off up the chain.","type":"text"}],"type":"paragraph"},{"items":[{"term":{"inlineContent":[{"inlineContent":[{"text":"Safety check 2","type":"text"}],"type":"strong"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A designated initializer must delegate up to a superclass initializer before assigning a value to an inherited property. If it doesn’t, the new value the designated initializer assigns will be overwritten by the superclass as part of its own initialization."}]}]}},{"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A convenience initializer must delegate to another initializer before assigning a value to "},{"inlineContent":[{"type":"text","text":"any"}],"type":"emphasis"},{"type":"text","text":" property (including properties defined by the same class). If it doesn’t, the new value the convenience initializer assigns will be overwritten by its own class’s designated initializer."}]}]},"term":{"inlineContent":[{"inlineContent":[{"text":"Safety check 3","type":"text"}],"type":"strong"}]}},{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Safety check 4","type":"text"}]}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"An initializer can’t call any instance methods, read the values of any instance properties, or refer to "},{"type":"codeVoice","code":"self"},{"text":" as a value until after the first phase of initialization is complete.","type":"text"}]}]}}],"type":"termList"},{"type":"paragraph","inlineContent":[{"text":"The class instance isn’t fully valid until the first phase ends.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Properties can only be accessed, and methods can only be called,"},{"type":"text","text":" "},{"type":"text","text":"once the class instance is known to be valid at the end of the first phase."}]},{"inlineContent":[{"text":"Here’s how two-phase initialization plays out, based on the four safety checks above:","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Phase 1","type":"text"}]}]},{"items":[{"content":[{"inlineContent":[{"text":"A designated or convenience initializer is called on a class.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Memory for a new instance of that class is allocated."},{"type":"text","text":" "},{"type":"text","text":"The memory isn’t yet initialized."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A designated initializer for that class confirms that"},{"text":" ","type":"text"},{"type":"text","text":"all stored properties introduced by that class have a value."},{"type":"text","text":" "},{"type":"text","text":"The memory for these stored properties is now initialized."}]}]},{"content":[{"inlineContent":[{"text":"The designated initializer hands off to a superclass initializer to perform the same task","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for its own stored properties."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"This continues up the class inheritance chain until the top of the chain is reached."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Once the top of the chain is reached,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the final class in the chain has ensured that all of its stored properties have a value,"},{"text":" ","type":"text"},{"type":"text","text":"the instance’s memory is considered to be fully initialized, and phase 1 is complete."}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Phase 2"}]}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Working back down from the top of the chain,","type":"text"},{"text":" ","type":"text"},{"text":"each designated initializer in the chain has the option to customize the instance further.","type":"text"},{"text":" ","type":"text"},{"text":"Initializers are now able to access ","type":"text"},{"code":"self","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"and can modify its properties, call its instance methods, and so on."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Finally, any convenience initializers in the chain have the option"},{"type":"text","text":" "},{"type":"text","text":"to customize the instance and to work with "},{"code":"self","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"text","text":"Here’s how phase 1 looks for an initialization call for a hypothetical subclass and superclass:"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"twoPhaseInitialization01"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this example, initialization begins with a call to"},{"type":"text","text":" "},{"type":"text","text":"a convenience initializer on the subclass."},{"type":"text","text":" "},{"type":"text","text":"This convenience initializer can’t yet modify any properties."},{"type":"text","text":" "},{"text":"It delegates across to a designated initializer from the same class.","type":"text"}]},{"inlineContent":[{"type":"text","text":"The designated initializer makes sure that all of the subclass’s properties have a value,"},{"type":"text","text":" "},{"text":"as per safety check 1. It then calls a designated initializer on its superclass","type":"text"},{"text":" ","type":"text"},{"text":"to continue the initialization up the chain.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The superclass’s designated initializer makes sure that"},{"type":"text","text":" "},{"type":"text","text":"all of the superclass properties have a value."},{"type":"text","text":" "},{"type":"text","text":"There are no further superclasses to initialize,"},{"type":"text","text":" "},{"text":"and so no further delegation is needed.","type":"text"}]},{"inlineContent":[{"type":"text","text":"As soon as all properties of the superclass have an initial value,"},{"text":" ","type":"text"},{"type":"text","text":"its memory is considered fully initialized, and phase 1 is complete."}],"type":"paragraph"},{"inlineContent":[{"text":"Here’s how phase 2 looks for the same initialization call:","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"twoPhaseInitialization02"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The superclass’s designated initializer now has an opportunity"},{"type":"text","text":" "},{"type":"text","text":"to customize the instance further"},{"type":"text","text":" "},{"text":"(although it doesn’t have to).","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Once the superclass’s designated initializer is finished,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the subclass’s designated initializer can perform additional customization"},{"type":"text","text":" "},{"type":"text","text":"(although again, it doesn’t have to)."}]},{"inlineContent":[{"text":"Finally, once the subclass’s designated initializer is finished,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the convenience initializer that was originally called"},{"type":"text","text":" "},{"text":"can perform additional customization.","type":"text"}],"type":"paragraph"},{"text":"Herencia y sustitución de inicializadores","type":"heading","level":3,"anchor":"Herencia-y-sustituci%C3%B3n-de-inicializadores"},{"inlineContent":[{"text":"Unlike subclasses in Objective-C,","type":"text"},{"type":"text","text":" "},{"text":"Swift subclasses don’t inherit their superclass initializers by default.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Swift’s approach prevents a situation in which a simple initializer from a superclass"},{"type":"text","text":" "},{"text":"is inherited by a more specialized subclass","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and is used to create a new instance of the subclass"},{"text":" ","type":"text"},{"type":"text","text":"that isn’t fully or correctly initialized."}],"type":"paragraph"},{"style":"note","name":"Note","content":[{"inlineContent":[{"text":"Superclass initializers ","type":"text"},{"inlineContent":[{"text":"are","type":"text"}],"type":"emphasis"},{"type":"text","text":" inherited in certain circumstances,"},{"text":" ","type":"text"},{"type":"text","text":"but only when it’s safe and appropriate to do so."},{"text":" ","type":"text"},{"type":"text","text":"For more information, see "},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","isActive":true},{"type":"text","text":" below."}],"type":"paragraph"}],"type":"aside"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want a custom subclass to present"},{"type":"text","text":" "},{"type":"text","text":"one or more of the same initializers as its superclass,"},{"type":"text","text":" "},{"text":"you can provide a custom implementation of those initializers within the subclass.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you write a subclass initializer that matches a superclass "},{"inlineContent":[{"text":"designated","type":"text"}],"type":"emphasis"},{"type":"text","text":" initializer,"},{"text":" ","type":"text"},{"type":"text","text":"you are effectively providing an override of that designated initializer."},{"text":" ","type":"text"},{"type":"text","text":"Therefore, you must write the "},{"code":"override","type":"codeVoice"},{"type":"text","text":" modifier before the subclass’s initializer definition."},{"text":" ","type":"text"},{"type":"text","text":"This is true even if you are overriding an automatically provided default initializer,"},{"type":"text","text":" "},{"text":"as described in ","type":"text"},{"isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","type":"reference"},{"text":".","type":"text"}]},{"inlineContent":[{"text":"As with an overridden property, method or subscript,","type":"text"},{"text":" ","type":"text"},{"text":"the presence of the ","type":"text"},{"type":"codeVoice","code":"override"},{"type":"text","text":" modifier prompts Swift to check that"},{"type":"text","text":" "},{"type":"text","text":"the superclass has a matching designated initializer to be overridden,"},{"text":" ","type":"text"},{"text":"and validates that the parameters for your overriding initializer have been specified as intended.","type":"text"}],"type":"paragraph"},{"name":"Note","style":"note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"You always write the ","type":"text"},{"type":"codeVoice","code":"override"},{"type":"text","text":" modifier when overriding a superclass designated initializer,"},{"type":"text","text":" "},{"type":"text","text":"even if your subclass’s implementation of the initializer is a convenience initializer."}]}]},{"inlineContent":[{"type":"text","text":"Conversely, if you write a subclass initializer that matches a superclass "},{"inlineContent":[{"text":"convenience","type":"text"}],"type":"emphasis"},{"type":"text","text":" initializer,"},{"text":" ","type":"text"},{"text":"that superclass convenience initializer can never be called directly by your subclass,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"as per the rules described above in "},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","type":"reference","isActive":true},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"Therefore, your subclass is not (strictly speaking) providing an override of the superclass initializer."},{"type":"text","text":" "},{"type":"text","text":"As a result, you don’t write the "},{"code":"override","type":"codeVoice"},{"type":"text","text":" modifier when providing"},{"type":"text","text":" "},{"text":"a matching implementation of a superclass convenience initializer.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The example below defines a base class called "},{"type":"codeVoice","code":"Vehicle"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"This base class declares a stored property called ","type":"text"},{"type":"codeVoice","code":"numberOfWheels"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"with a default ","type":"text"},{"type":"codeVoice","code":"Int"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"0"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The "},{"code":"numberOfWheels","type":"codeVoice"},{"text":" property is used by a computed property called ","type":"text"},{"code":"description","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"to create a "},{"type":"codeVoice","code":"String"},{"type":"text","text":" description of the vehicle’s characteristics:"}],"type":"paragraph"},{"code":["class Vehicle {","    var numberOfWheels = 0","    var description: String {","        return \"\\(numberOfWheels) wheel(s)\"","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The ","type":"text"},{"code":"Vehicle","type":"codeVoice"},{"type":"text","text":" class provides a default value for its only stored property,"},{"type":"text","text":" "},{"type":"text","text":"and doesn’t provide any custom initializers itself."},{"type":"text","text":" "},{"type":"text","text":"As a result, it automatically receives a default initializer,"},{"type":"text","text":" "},{"text":"as described in ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","isActive":true},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The default initializer (when available) is always a designated initializer for a class,"},{"text":" ","type":"text"},{"type":"text","text":"and can be used to create a new "},{"code":"Vehicle","type":"codeVoice"},{"type":"text","text":" instance with a "},{"type":"codeVoice","code":"numberOfWheels"},{"text":" of ","type":"text"},{"code":"0","type":"codeVoice"},{"type":"text","text":":"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let vehicle = Vehicle()","print(\"Vehicle: \\(vehicle.description)\")","\/\/ Vehicle: 0 wheel(s)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The next example defines a subclass of "},{"code":"Vehicle","type":"codeVoice"},{"text":" called ","type":"text"},{"type":"codeVoice","code":"Bicycle"},{"type":"text","text":":"}]},{"syntax":"swift","type":"codeListing","code":["class Bicycle: Vehicle {","    override init() {","        super.init()","        numberOfWheels = 2","    }","}"]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"Bicycle"},{"text":" subclass defines a custom designated initializer, ","type":"text"},{"type":"codeVoice","code":"init()"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This designated initializer matches a designated initializer from the superclass of "},{"code":"Bicycle","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"and so the ","type":"text"},{"code":"Bicycle","type":"codeVoice"},{"type":"text","text":" version of this initializer is marked with the "},{"type":"codeVoice","code":"override"},{"text":" modifier.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"init()","type":"codeVoice"},{"text":" initializer for ","type":"text"},{"code":"Bicycle","type":"codeVoice"},{"type":"text","text":" starts by calling "},{"code":"super.init()","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which calls the default initializer for the "},{"type":"codeVoice","code":"Bicycle"},{"type":"text","text":" class’s superclass, "},{"type":"codeVoice","code":"Vehicle"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"This ensures that the "},{"type":"codeVoice","code":"numberOfWheels"},{"type":"text","text":" inherited property is initialized by "},{"type":"codeVoice","code":"Vehicle"},{"type":"text","text":" "},{"type":"text","text":"before "},{"code":"Bicycle","type":"codeVoice"},{"type":"text","text":" has the opportunity to modify the property."},{"type":"text","text":" "},{"type":"text","text":"After calling "},{"code":"super.init()","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"the original value of "},{"code":"numberOfWheels","type":"codeVoice"},{"text":" is replaced with a new value of ","type":"text"},{"type":"codeVoice","code":"2"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you create an instance of "},{"code":"Bicycle","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"you can call its inherited "},{"code":"description","type":"codeVoice"},{"text":" computed property","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to see how its "},{"type":"codeVoice","code":"numberOfWheels"},{"type":"text","text":" property has been updated:"}]},{"syntax":"swift","code":["let bicycle = Bicycle()","print(\"Bicycle: \\(bicycle.description)\")","\/\/ Bicycle: 2 wheel(s)"],"type":"codeListing"},{"inlineContent":[{"text":"If a subclass initializer performs no customization","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"in phase 2 of the initialization process,"},{"type":"text","text":" "},{"text":"and the superclass has a synchronous, zero-argument designated initializer,","type":"text"},{"type":"text","text":" "},{"text":"you can omit a call to ","type":"text"},{"type":"codeVoice","code":"super.init()"},{"type":"text","text":" "},{"type":"text","text":"after assigning values to all of the subclass’s stored properties."},{"text":" ","type":"text"},{"text":"If the superclass’s initializer is asynchronous,","type":"text"},{"text":" ","type":"text"},{"text":"you need to write ","type":"text"},{"code":"await super.init()","type":"codeVoice"},{"text":" explicitly.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This example defines another subclass of "},{"type":"codeVoice","code":"Vehicle"},{"text":", called ","type":"text"},{"type":"codeVoice","code":"Hoverboard"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"In its initializer, the ","type":"text"},{"code":"Hoverboard","type":"codeVoice"},{"text":" class sets only its ","type":"text"},{"type":"codeVoice","code":"color"},{"text":" property.","type":"text"},{"type":"text","text":" "},{"text":"Instead of making an explicit call to ","type":"text"},{"code":"super.init()","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"this initializer relies on an implicit call to its superclass’s initializer"},{"type":"text","text":" "},{"type":"text","text":"to complete the process."}],"type":"paragraph"},{"code":["class Hoverboard: Vehicle {","    var color: String","    init(color: String) {","        self.color = color","        \/\/ super.init() implicitly called here","    }","    override var description: String {","        return \"\\(super.description) in a beautiful \\(color)\"","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"An instance of "},{"type":"codeVoice","code":"Hoverboard"},{"text":" uses the default number of wheels","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"supplied by the "},{"type":"codeVoice","code":"Vehicle"},{"text":" initializer.","type":"text"}]},{"code":["let hoverboard = Hoverboard(color: \"silver\")","print(\"Hoverboard: \\(hoverboard.description)\")","\/\/ Hoverboard: 0 wheel(s) in a beautiful silver"],"type":"codeListing","syntax":"swift"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Subclasses can modify inherited variable properties during initialization,","type":"text"},{"text":" ","type":"text"},{"text":"but can’t modify inherited constant properties.","type":"text"}]}],"name":"Note","style":"note","type":"aside"},{"type":"heading","anchor":"Herencia-autom%C3%A1tica-de-inicializadores","text":"Herencia automática de inicializadores","level":3},{"inlineContent":[{"type":"text","text":"As mentioned above,"},{"text":" ","type":"text"},{"text":"subclasses don’t inherit their superclass initializers by default.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"However, superclass initializers "},{"inlineContent":[{"type":"text","text":"are"}],"type":"emphasis"},{"type":"text","text":" automatically inherited if certain conditions are met."},{"text":" ","type":"text"},{"text":"In practice, this means that","type":"text"},{"text":" ","type":"text"},{"text":"you don’t need to write initializer overrides in many common scenarios,","type":"text"},{"text":" ","type":"text"},{"text":"and can inherit your superclass initializers with minimal effort whenever it’s safe to do so.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Assuming that you provide default values for any new properties you introduce in a subclass,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the following two rules apply:"}],"type":"paragraph"},{"type":"termList","items":[{"term":{"inlineContent":[{"inlineContent":[{"type":"text","text":"Rule 1"}],"type":"strong"}]},"definition":{"content":[{"inlineContent":[{"text":"If your subclass doesn’t define any designated initializers, it automatically inherits all of its superclass designated initializers.","type":"text"}],"type":"paragraph"}]}},{"term":{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Rule 2"}]}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If your subclass provides an implementation of "},{"inlineContent":[{"type":"text","text":"all"}],"type":"emphasis"},{"type":"text","text":" of its superclass designated initializers — either by inheriting them as per rule 1, or by providing a custom implementation as part of its definition — then it automatically inherits all of the superclass convenience initializers."}]}]}}]},{"inlineContent":[{"text":"These rules apply even if your subclass adds further convenience initializers.","type":"text"}],"type":"paragraph"},{"type":"aside","name":"Note","style":"note","content":[{"inlineContent":[{"text":"A subclass can implement a superclass designated initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"as a subclass convenience initializer as part of satisfying rule 2."}],"type":"paragraph"}]},{"text":"Inicializadores designados y de conveniencia en acción","type":"heading","level":3,"anchor":"Inicializadores-designados-y-de-conveniencia-en-acci%C3%B3n"},{"type":"paragraph","inlineContent":[{"text":"The following example shows designated initializers, convenience initializers,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and automatic initializer inheritance in action."},{"type":"text","text":" "},{"type":"text","text":"This example defines a hierarchy of three classes called"},{"text":" ","type":"text"},{"type":"codeVoice","code":"Food"},{"text":", ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"text":", and ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and demonstrates how their initializers interact."}]},{"inlineContent":[{"type":"text","text":"The base class in the hierarchy is called "},{"code":"Food","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which is a simple class to encapsulate the name of a foodstuff."},{"type":"text","text":" "},{"type":"text","text":"The "},{"code":"Food","type":"codeVoice"},{"text":" class introduces a single ","type":"text"},{"type":"codeVoice","code":"String"},{"type":"text","text":" property called "},{"code":"name","type":"codeVoice"},{"type":"text","text":" "},{"text":"and provides two initializers for creating ","type":"text"},{"type":"codeVoice","code":"Food"},{"type":"text","text":" instances:"}],"type":"paragraph"},{"code":["class Food {","    var name: String","    init(name: String) {","        self.name = name","    }","    convenience init() {","        self.init(name: \"[Unnamed]\")","    }","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"The figure below shows the initializer chain for the ","type":"text"},{"code":"Food","type":"codeVoice"},{"type":"text","text":" class:"}]},{"type":"paragraph","inlineContent":[{"identifier":"initializersExample01","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"Classes don’t have a default memberwise initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and so the "},{"code":"Food","type":"codeVoice"},{"text":" class provides a designated initializer","type":"text"},{"text":" ","type":"text"},{"text":"that takes a single argument called ","type":"text"},{"code":"name","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"This initializer can be used to create a new ","type":"text"},{"type":"codeVoice","code":"Food"},{"type":"text","text":" instance with a specific name:"}]},{"syntax":"swift","code":["let namedMeat = Food(name: \"Bacon\")","\/\/ namedMeat's name is \"Bacon\""],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"init(name: String)","type":"codeVoice"},{"text":" initializer from the ","type":"text"},{"code":"Food","type":"codeVoice"},{"text":" class","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"is provided as a "},{"inlineContent":[{"text":"designated","type":"text"}],"type":"emphasis"},{"text":" initializer,","type":"text"},{"type":"text","text":" "},{"text":"because it ensures that all stored properties of","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a new "},{"code":"Food","type":"codeVoice"},{"text":" instance are fully initialized.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" class doesn’t have a superclass,"},{"text":" ","type":"text"},{"type":"text","text":"and so the "},{"type":"codeVoice","code":"init(name: String)"},{"type":"text","text":" initializer doesn’t need to call "},{"type":"codeVoice","code":"super.init()"},{"type":"text","text":" "},{"text":"to complete its initialization.","type":"text"}]},{"inlineContent":[{"type":"text","text":"The "},{"code":"Food","type":"codeVoice"},{"text":" class also provides a ","type":"text"},{"inlineContent":[{"type":"text","text":"convenience"}],"type":"emphasis"},{"text":" initializer, ","type":"text"},{"type":"codeVoice","code":"init()"},{"text":", with no arguments.","type":"text"},{"type":"text","text":" "},{"text":"The ","type":"text"},{"code":"init()","type":"codeVoice"},{"text":" initializer provides a default placeholder name for a new food","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"by delegating across to the "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" class’s "},{"code":"init(name: String)","type":"codeVoice"},{"text":" with","type":"text"},{"type":"text","text":" "},{"text":"a ","type":"text"},{"type":"codeVoice","code":"name"},{"type":"text","text":" value of "},{"code":"[Unnamed]","type":"codeVoice"},{"type":"text","text":":"}],"type":"paragraph"},{"code":["let mysteryMeat = Food()","\/\/ mysteryMeat's name is \"[Unnamed]\""],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The second class in the hierarchy is a subclass of "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" called "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" class models an ingredient in a cooking recipe.","type":"text"},{"text":" ","type":"text"},{"text":"It introduces an ","type":"text"},{"code":"Int","type":"codeVoice"},{"text":" property called ","type":"text"},{"code":"quantity","type":"codeVoice"},{"type":"text","text":" "},{"text":"(in addition to the ","type":"text"},{"code":"name","type":"codeVoice"},{"type":"text","text":" property it inherits from "},{"type":"codeVoice","code":"Food"},{"text":")","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and defines two initializers for creating "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" instances:"}]},{"type":"codeListing","code":["class RecipeIngredient: Food {","    var quantity: Int","    init(name: String, quantity: Int) {","        self.quantity = quantity","        super.init(name: name)","    }","    override convenience init(name: String) {","        self.init(name: name, quantity: 1)","    }","}"],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"The figure below shows the initializer chain for the "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" class:"}],"type":"paragraph"},{"inlineContent":[{"identifier":"initializersExample02","type":"image"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" class has a single designated initializer,","type":"text"},{"type":"text","text":" "},{"code":"init(name: String, quantity: Int)","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which can be used to populate all of the properties of a new "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" instance."},{"type":"text","text":" "},{"type":"text","text":"This initializer starts by assigning"},{"type":"text","text":" "},{"text":"the passed ","type":"text"},{"code":"quantity","type":"codeVoice"},{"text":" argument to the ","type":"text"},{"type":"codeVoice","code":"quantity"},{"text":" property,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which is the only new property introduced by "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"After doing so, the initializer delegates up to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"init(name: String)"},{"text":" initializer of the ","type":"text"},{"type":"codeVoice","code":"Food"},{"type":"text","text":" class."},{"type":"text","text":" "},{"type":"text","text":"This process satisfies safety check 1"},{"text":" ","type":"text"},{"text":"from ","type":"text"},{"isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializaci%C3%B3n-de-dos-fases","type":"reference"},{"type":"text","text":" above."}]},{"type":"paragraph","inlineContent":[{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" also defines a convenience initializer, "},{"code":"init(name: String)","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which is used to create a "},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" instance by name alone."},{"text":" ","type":"text"},{"type":"text","text":"This convenience initializer assumes a quantity of "},{"type":"codeVoice","code":"1"},{"text":" ","type":"text"},{"type":"text","text":"for any "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" instance that’s created without an explicit quantity."},{"text":" ","type":"text"},{"type":"text","text":"The definition of this convenience initializer makes"},{"type":"text","text":" "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" instances quicker and more convenient to create,"},{"type":"text","text":" "},{"type":"text","text":"and avoids code duplication when creating"},{"text":" ","type":"text"},{"type":"text","text":"several single-quantity "},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" instances."},{"text":" ","type":"text"},{"type":"text","text":"This convenience initializer simply delegates across to the class’s designated initializer,"},{"text":" ","type":"text"},{"type":"text","text":"passing in a "},{"code":"quantity","type":"codeVoice"},{"text":" value of ","type":"text"},{"type":"codeVoice","code":"1"},{"text":".","type":"text"}]},{"inlineContent":[{"text":"The ","type":"text"},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":" convenience initializer provided by "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" ","type":"text"},{"text":"takes the same parameters as the ","type":"text"},{"type":"codeVoice","code":"init(name: String)"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"designated","type":"text"}]},{"type":"text","text":" initializer from "},{"code":"Food","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"Because this convenience initializer overrides a designated initializer from its superclass,","type":"text"},{"text":" ","type":"text"},{"text":"it must be marked with the ","type":"text"},{"type":"codeVoice","code":"override"},{"text":" modifier","type":"text"},{"text":" ","type":"text"},{"text":"(as described in ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","isActive":true},{"type":"text","text":")."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Even though "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" provides","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the "},{"code":"init(name: String)","type":"codeVoice"},{"text":" initializer as a convenience initializer,","type":"text"},{"text":" ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" has nonetheless provided an implementation of"},{"type":"text","text":" "},{"text":"all of its superclass’s designated initializers.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Therefore, "},{"code":"RecipeIngredient","type":"codeVoice"},{"text":" automatically inherits","type":"text"},{"type":"text","text":" "},{"type":"text","text":"all of its superclass’s convenience initializers too."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"In this example, the superclass for ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" is "},{"code":"Food","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"which has a single convenience initializer called "},{"type":"codeVoice","code":"init()"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"This initializer is therefore inherited by "},{"type":"codeVoice","code":"RecipeIngredient"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"The inherited version of ","type":"text"},{"type":"codeVoice","code":"init()"},{"type":"text","text":" functions in exactly the same way as the "},{"type":"codeVoice","code":"Food"},{"type":"text","text":" version,"},{"type":"text","text":" "},{"text":"except that it delegates to the ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"type":"text","text":" version of "},{"code":"init(name: String)","type":"codeVoice"},{"type":"text","text":" "},{"text":"rather than the ","type":"text"},{"code":"Food","type":"codeVoice"},{"type":"text","text":" version."}]},{"type":"paragraph","inlineContent":[{"text":"All three of these initializers can be used to create new ","type":"text"},{"type":"codeVoice","code":"RecipeIngredient"},{"text":" instances:","type":"text"}]},{"code":["let oneMysteryItem = RecipeIngredient()","let oneBacon = RecipeIngredient(name: \"Bacon\")","let sixEggs = RecipeIngredient(name: \"Eggs\", quantity: 6)"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The third and final class in the hierarchy is","type":"text"},{"type":"text","text":" "},{"text":"a subclass of ","type":"text"},{"code":"RecipeIngredient","type":"codeVoice"},{"type":"text","text":" called "},{"type":"codeVoice","code":"ShoppingListItem"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" class models a recipe ingredient as it appears in a shopping list."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Every item in the shopping list starts out as “unpurchased”."},{"type":"text","text":" "},{"text":"To represent this fact,","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" introduces a Boolean property called "},{"code":"purchased","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"with a default value of ","type":"text"},{"type":"codeVoice","code":"false"},{"text":".","type":"text"},{"text":" ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" also adds a computed "},{"type":"codeVoice","code":"description"},{"type":"text","text":" property,"},{"text":" ","type":"text"},{"text":"which provides a textual description of a ","type":"text"},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" instance:"}]},{"type":"codeListing","code":["class ShoppingListItem: RecipeIngredient {","    var purchased = false","    var description: String {","        var output = \"\\(quantity) x \\(name)\"","        output += purchased ? \" ✔\" : \" ✘\"","        return output","    }","}"],"syntax":"swift"},{"type":"aside","name":"Note","content":[{"inlineContent":[{"type":"text","text":""},{"code":"ShoppingListItem","type":"codeVoice"},{"text":" doesn’t define an initializer to provide","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"an initial value for "},{"type":"codeVoice","code":"purchased"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"because items in a shopping list (as modeled here) always start out unpurchased."}],"type":"paragraph"}],"style":"note"},{"inlineContent":[{"type":"text","text":"Because it provides a default value for all of the properties it introduces"},{"text":" ","type":"text"},{"type":"text","text":"and doesn’t define any initializers itself,"},{"type":"text","text":" "},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" automatically inherits"},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"text":"all","type":"text"}]},{"text":" of the designated and convenience initializers from its superclass.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The figure below shows the overall initializer chain for all three classes:"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"initializersExample03"}]},{"type":"paragraph","inlineContent":[{"text":"You can use all three of the inherited initializers","type":"text"},{"type":"text","text":" "},{"text":"to create a new ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" instance:"}]},{"code":["var breakfastList = [","    ShoppingListItem(),","    ShoppingListItem(name: \"Bacon\"),","    ShoppingListItem(name: \"Eggs\", quantity: 6),","]","breakfastList[0].name = \"Orange juice\"","breakfastList[0].purchased = true","for item in breakfastList {","    print(item.description)","}","\/\/ 1 x Orange juice ✔","\/\/ 1 x Bacon ✘","\/\/ 6 x Eggs ✘"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here, a new array called "},{"type":"codeVoice","code":"breakfastList"},{"text":" is created from","type":"text"},{"type":"text","text":" "},{"type":"text","text":"an array literal containing three new "},{"type":"codeVoice","code":"ShoppingListItem"},{"type":"text","text":" instances."},{"text":" ","type":"text"},{"type":"text","text":"The type of the array is inferred to be "},{"type":"codeVoice","code":"[ShoppingListItem]"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"After the array is created,","type":"text"},{"text":" ","type":"text"},{"text":"the name of the ","type":"text"},{"code":"ShoppingListItem","type":"codeVoice"},{"type":"text","text":" at the start of the array"},{"text":" ","type":"text"},{"text":"is changed from ","type":"text"},{"type":"codeVoice","code":"\"[Unnamed]\""},{"text":" to ","type":"text"},{"code":"\"Orange juice\"","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"and it’s marked as having been purchased."},{"type":"text","text":" "},{"text":"Printing the description of each item in the array","type":"text"},{"type":"text","text":" "},{"type":"text","text":"shows that their default states have been set as expected."}]},{"anchor":"Inicializadores-falibles","level":2,"type":"heading","text":"Inicializadores falibles"},{"inlineContent":[{"type":"text","text":"It’s sometimes useful to define a class, structure, or enumeration"},{"text":" ","type":"text"},{"text":"for which initialization can fail.","type":"text"},{"text":" ","type":"text"},{"text":"This failure might be triggered by invalid initialization parameter values,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the absence of a required external resource,"},{"text":" ","type":"text"},{"type":"text","text":"or some other condition that prevents initialization from succeeding."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To cope with initialization conditions that can fail,"},{"text":" ","type":"text"},{"text":"define one or more failable initializers as part of","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a class, structure, or enumeration definition."},{"type":"text","text":" "},{"text":"You write a failable initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"by placing a question mark after the "},{"type":"codeVoice","code":"init"},{"type":"text","text":" keyword ("},{"type":"codeVoice","code":"init?"},{"type":"text","text":")."}]},{"name":"Note","content":[{"inlineContent":[{"text":"You can’t define a failable and a nonfailable initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with the same parameter types and names."}],"type":"paragraph"}],"type":"aside","style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A failable initializer creates an "},{"inlineContent":[{"text":"optional","type":"text"}],"type":"emphasis"},{"type":"text","text":" value of the type it initializes."},{"type":"text","text":" "},{"text":"You write ","type":"text"},{"code":"return nil","type":"codeVoice"},{"type":"text","text":" within a failable initializer"},{"type":"text","text":" "},{"type":"text","text":"to indicate a point at which initialization failure can be triggered."}]},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Strictly speaking, initializers don’t return a value."},{"type":"text","text":" "},{"type":"text","text":"Rather, their role is to ensure that "},{"code":"self","type":"codeVoice"},{"text":" is fully and correctly initialized","type":"text"},{"type":"text","text":" "},{"text":"by the time that initialization ends.","type":"text"},{"type":"text","text":" "},{"text":"Although you write ","type":"text"},{"type":"codeVoice","code":"return nil"},{"text":" to trigger an initialization failure,","type":"text"},{"text":" ","type":"text"},{"text":"you don’t use the ","type":"text"},{"code":"return","type":"codeVoice"},{"text":" keyword to indicate initialization success.","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"text":"For instance, failable initializers are implemented for numeric type conversions.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"To ensure conversion between numeric types maintains the value exactly,"},{"type":"text","text":" "},{"type":"text","text":"use the "},{"type":"codeVoice","code":"init(exactly:)"},{"text":" initializer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If the type conversion can’t maintain the value,"},{"text":" ","type":"text"},{"type":"text","text":"the initializer fails."}]},{"syntax":"swift","type":"codeListing","code":["let wholeNumber: Double = 12345.0","let pi = 3.14159","","if let valueMaintained = Int(exactly: wholeNumber) {","    print(\"\\(wholeNumber) conversion to Int maintains value of \\(valueMaintained)\")","}","\/\/ Prints \"12345.0 conversion to Int maintains value of 12345\"","","let valueChanged = Int(exactly: pi)","\/\/ valueChanged is of type Int?, not Int","","if valueChanged == nil {","    print(\"\\(pi) conversion to Int doesn't maintain value\")","}","\/\/ Prints \"3.14159 conversion to Int doesn't maintain value\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The example below defines a structure called "},{"type":"codeVoice","code":"Animal"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with a constant "},{"type":"codeVoice","code":"String"},{"type":"text","text":" property called "},{"code":"species","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"The "},{"code":"Animal","type":"codeVoice"},{"type":"text","text":" structure also defines a failable initializer"},{"type":"text","text":" "},{"type":"text","text":"with a single parameter called "},{"code":"species","type":"codeVoice"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This initializer checks if the "},{"code":"species","type":"codeVoice"},{"text":" value passed to the initializer is an empty string.","type":"text"},{"type":"text","text":" "},{"text":"If an empty string is found, an initialization failure is triggered.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Otherwise, the "},{"type":"codeVoice","code":"species"},{"type":"text","text":" property’s value is set, and initialization succeeds:"}]},{"type":"codeListing","syntax":"swift","code":["struct Animal {","    let species: String","    init?(species: String) {","        if species.isEmpty { return nil }","        self.species = species","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use this failable initializer to try to initialize a new "},{"code":"Animal","type":"codeVoice"},{"type":"text","text":" instance"},{"type":"text","text":" "},{"type":"text","text":"and to check if initialization succeeded:"}]},{"type":"codeListing","syntax":"swift","code":["let someCreature = Animal(species: \"Giraffe\")","\/\/ someCreature is of type Animal?, not Animal","","if let giraffe = someCreature {","    print(\"An animal was initialized with a species of \\(giraffe.species)\")","}","\/\/ Prints \"An animal was initialized with a species of Giraffe\""]},{"inlineContent":[{"text":"If you pass an empty string value to the failable initializer’s ","type":"text"},{"code":"species","type":"codeVoice"},{"type":"text","text":" parameter,"},{"type":"text","text":" "},{"type":"text","text":"the initializer triggers an initialization failure:"}],"type":"paragraph"},{"code":["let anonymousCreature = Animal(species: \"\")","\/\/ anonymousCreature is of type Animal?, not Animal","","if anonymousCreature == nil {","    print(\"The anonymous creature couldn't be initialized\")","}","\/\/ Prints \"The anonymous creature couldn't be initialized\""],"syntax":"swift","type":"codeListing"},{"content":[{"inlineContent":[{"text":"Checking for an empty string value (such as ","type":"text"},{"type":"codeVoice","code":"\"\""},{"type":"text","text":" rather than "},{"code":"\"Giraffe\"","type":"codeVoice"},{"type":"text","text":")"},{"text":" ","type":"text"},{"type":"text","text":"isn’t the same as checking for "},{"code":"nil","type":"codeVoice"},{"type":"text","text":" to indicate the absence of an "},{"type":"emphasis","inlineContent":[{"type":"text","text":"optional"}]},{"type":"text","text":" "},{"code":"String","type":"codeVoice"},{"type":"text","text":" value."},{"type":"text","text":" "},{"type":"text","text":"In the example above, an empty string ("},{"type":"codeVoice","code":"\"\""},{"type":"text","text":") is a valid, non-optional "},{"code":"String","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"However, it’s not appropriate for an animal"},{"type":"text","text":" "},{"type":"text","text":"to have an empty string as the value of its "},{"type":"codeVoice","code":"species"},{"type":"text","text":" property."},{"text":" ","type":"text"},{"type":"text","text":"To model this restriction,"},{"type":"text","text":" "},{"type":"text","text":"the failable initializer triggers an initialization failure if an empty string is found."}],"type":"paragraph"}],"style":"note","type":"aside","name":"Note"},{"anchor":"Inicializadores-falibles-para-enumeraciones","text":"Inicializadores falibles para enumeraciones","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"You can use a failable initializer to select an appropriate enumeration case","type":"text"},{"type":"text","text":" "},{"text":"based on one or more parameters.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The initializer can then fail if the provided parameters"},{"text":" ","type":"text"},{"type":"text","text":"don’t match an appropriate enumeration case."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The example below defines an enumeration called "},{"code":"TemperatureUnit","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"with three possible states ("},{"type":"codeVoice","code":"kelvin"},{"type":"text","text":", "},{"code":"celsius","type":"codeVoice"},{"type":"text","text":", and "},{"code":"fahrenheit","type":"codeVoice"},{"text":").","type":"text"},{"text":" ","type":"text"},{"text":"A failable initializer is used to find an appropriate enumeration case","type":"text"},{"type":"text","text":" "},{"text":"for a ","type":"text"},{"code":"Character","type":"codeVoice"},{"text":" value representing a temperature symbol:","type":"text"}]},{"code":["enum TemperatureUnit {","    case kelvin, celsius, fahrenheit","    init?(symbol: Character) {","        switch symbol {","        case \"K\":","            self = .kelvin","        case \"C\":","            self = .celsius","        case \"F\":","            self = .fahrenheit","        default:","            return nil","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use this failable initializer to choose"},{"type":"text","text":" "},{"type":"text","text":"an appropriate enumeration case for the three possible states"},{"type":"text","text":" "},{"text":"and to cause initialization to fail if the parameter doesn’t match one of these","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"states:"}]},{"type":"codeListing","code":["let fahrenheitUnit = TemperatureUnit(symbol: \"F\")","if fahrenheitUnit != nil {","    print(\"This is a defined temperature unit, so initialization succeeded.\")","}","\/\/ Prints \"This is a defined temperature unit, so initialization succeeded.\"","","let unknownUnit = TemperatureUnit(symbol: \"X\")","if unknownUnit == nil {","    print(\"This isn't a defined temperature unit, so initialization failed.\")","}","\/\/ Prints \"This isn't a defined temperature unit, so initialization failed.\""],"syntax":"swift"},{"level":3,"anchor":"Inicializadores-falibles-para-enumeraciones-con-valores-brutos","text":"Inicializadores falibles para enumeraciones con valores brutos","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Enumerations with raw values automatically receive a failable initializer,"},{"text":" ","type":"text"},{"code":"init?(rawValue:)","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"that takes a parameter called "},{"code":"rawValue","type":"codeVoice"},{"text":" of the appropriate raw-value type","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and selects a matching enumeration case if one is found,"},{"text":" ","type":"text"},{"type":"text","text":"or triggers an initialization failure if no matching value exists."}]},{"inlineContent":[{"text":"You can rewrite the ","type":"text"},{"code":"TemperatureUnit","type":"codeVoice"},{"type":"text","text":" example from above"},{"type":"text","text":" "},{"type":"text","text":"to use raw values of type "},{"type":"codeVoice","code":"Character"},{"text":" ","type":"text"},{"text":"and to take advantage of the ","type":"text"},{"type":"codeVoice","code":"init?(rawValue:)"},{"type":"text","text":" initializer:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["enum TemperatureUnit: Character {","    case kelvin = \"K\", celsius = \"C\", fahrenheit = \"F\"","}","","let fahrenheitUnit = TemperatureUnit(rawValue: \"F\")","if fahrenheitUnit != nil {","    print(\"This is a defined temperature unit, so initialization succeeded.\")","}","\/\/ Prints \"This is a defined temperature unit, so initialization succeeded.\"","","let unknownUnit = TemperatureUnit(rawValue: \"X\")","if unknownUnit == nil {","    print(\"This isn't a defined temperature unit, so initialization failed.\")","}","\/\/ Prints \"This isn't a defined temperature unit, so initialization failed.\""]},{"anchor":"Propagaci%C3%B3n-de-fallas-de-inicializaci%C3%B3n","type":"heading","level":3,"text":"Propagación de fallas de inicialización"},{"inlineContent":[{"type":"text","text":"A failable initializer of a class, structure, or enumeration"},{"text":" ","type":"text"},{"type":"text","text":"can delegate across to another failable initializer from the same class, structure, or enumeration."},{"type":"text","text":" "},{"text":"Similarly, a subclass failable initializer can delegate up to a superclass failable initializer.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In either case, if you delegate to another initializer that causes initialization to fail,"},{"type":"text","text":" "},{"type":"text","text":"the entire initialization process fails immediately,"},{"type":"text","text":" "},{"type":"text","text":"and no further initialization code is executed."}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A failable initializer can also delegate to a nonfailable initializer."},{"type":"text","text":" "},{"type":"text","text":"Use this approach if you need to add a potential failure state"},{"type":"text","text":" "},{"type":"text","text":"to an existing initialization process that doesn’t otherwise fail."}]}],"name":"Note","style":"note","type":"aside"},{"inlineContent":[{"type":"text","text":"The example below defines a subclass of "},{"code":"Product","type":"codeVoice"},{"text":" called ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":" class models an item in an online shopping cart."},{"text":" ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":" introduces a stored constant property called "},{"type":"codeVoice","code":"quantity"},{"type":"text","text":" "},{"text":"and ensures that this property always has a value of at least ","type":"text"},{"type":"codeVoice","code":"1"},{"text":":","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["class Product {","    let name: String","    init?(name: String) {","        if name.isEmpty { return nil }","        self.name = name","    }","}","","class CartItem: Product {","    let quantity: Int","    init?(name: String, quantity: Int) {","        if quantity < 1 { return nil }","        self.quantity = quantity","        super.init(name: name)","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The failable initializer for "},{"code":"CartItem","type":"codeVoice"},{"type":"text","text":" starts by"},{"text":" ","type":"text"},{"type":"text","text":"validating that it has received a "},{"type":"codeVoice","code":"quantity"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"1"},{"text":" or more.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If the "},{"code":"quantity","type":"codeVoice"},{"text":" is invalid,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the entire initialization process fails immediately"},{"type":"text","text":" "},{"type":"text","text":"and no further initialization code is executed."},{"text":" ","type":"text"},{"type":"text","text":"Likewise, the failable initializer for "},{"code":"Product","type":"codeVoice"},{"text":" ","type":"text"},{"text":"checks the ","type":"text"},{"type":"codeVoice","code":"name"},{"type":"text","text":" value,"},{"text":" ","type":"text"},{"text":"and the initializer process fails immediately","type":"text"},{"type":"text","text":" "},{"type":"text","text":"if "},{"code":"name","type":"codeVoice"},{"type":"text","text":" is the empty string."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you create a "},{"type":"codeVoice","code":"CartItem"},{"type":"text","text":" instance with a nonempty name and a quantity of "},{"type":"codeVoice","code":"1"},{"text":" or more,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"initialization succeeds:"}]},{"code":["if let twoSocks = CartItem(name: \"sock\", quantity: 2) {","    print(\"Item: \\(twoSocks.name), quantity: \\(twoSocks.quantity)\")","}","\/\/ Prints \"Item: sock, quantity: 2\""],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"If you try to create a ","type":"text"},{"type":"codeVoice","code":"CartItem"},{"text":" instance with a ","type":"text"},{"type":"codeVoice","code":"quantity"},{"type":"text","text":" value of "},{"code":"0","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"the "},{"code":"CartItem","type":"codeVoice"},{"type":"text","text":" initializer causes initialization to fail:"}]},{"type":"codeListing","code":["if let zeroShirts = CartItem(name: \"shirt\", quantity: 0) {","    print(\"Item: \\(zeroShirts.name), quantity: \\(zeroShirts.quantity)\")","} else {","    print(\"Unable to initialize zero shirts\")","}","\/\/ Prints \"Unable to initialize zero shirts\""],"syntax":"swift"},{"inlineContent":[{"text":"Similarly, if you try to create a ","type":"text"},{"code":"CartItem","type":"codeVoice"},{"text":" instance with an empty ","type":"text"},{"type":"codeVoice","code":"name"},{"text":" value,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the superclass "},{"code":"Product","type":"codeVoice"},{"type":"text","text":" initializer causes initialization to fail:"}],"type":"paragraph"},{"syntax":"swift","code":["if let oneUnnamed = CartItem(name: \"\", quantity: 1) {","    print(\"Item: \\(oneUnnamed.name), quantity: \\(oneUnnamed.quantity)\")","} else {","    print(\"Unable to initialize one unnamed product\")","}","\/\/ Prints \"Unable to initialize one unnamed product\""],"type":"codeListing"},{"anchor":"Sustituci%C3%B3n-de-un-inicializador-falible","text":"Sustitución de un inicializador falible","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"You can override a superclass failable initializer in a subclass,","type":"text"},{"type":"text","text":" "},{"text":"just like any other initializer.","type":"text"},{"text":" ","type":"text"},{"text":"Alternatively, you can override a superclass failable initializer","type":"text"},{"text":" ","type":"text"},{"text":"with a subclass ","type":"text"},{"inlineContent":[{"text":"nonfailable","type":"text"}],"type":"emphasis"},{"type":"text","text":" initializer."},{"type":"text","text":" "},{"type":"text","text":"This enables you to define a subclass for which initialization can’t fail,"},{"type":"text","text":" "},{"type":"text","text":"even though initialization of the superclass is allowed to fail."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that if you override a failable superclass initializer with a nonfailable subclass initializer,"},{"type":"text","text":" "},{"text":"the only way to delegate up to the superclass initializer","type":"text"},{"text":" ","type":"text"},{"text":"is to force-unwrap the result of the failable superclass initializer.","type":"text"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"You can override a failable initializer with a nonfailable initializer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"but not the other way around."}]}],"type":"aside","name":"Note","style":"note"},{"inlineContent":[{"text":"The example below defines a class called ","type":"text"},{"code":"Document","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"This class models a document that can be initialized with","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a "},{"type":"codeVoice","code":"name"},{"type":"text","text":" property that’s either a nonempty string value or "},{"type":"codeVoice","code":"nil"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"but can’t be an empty string:"}],"type":"paragraph"},{"code":["class Document {","    var name: String?","    \/\/ this initializer creates a document with a nil name value","    init() {}","    \/\/ this initializer creates a document with a nonempty name value","    init?(name: String) {","        if name.isEmpty { return nil }","        self.name = name","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The next example defines a subclass of ","type":"text"},{"code":"Document","type":"codeVoice"},{"text":" called ","type":"text"},{"code":"AutomaticallyNamedDocument","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The "},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"text":" subclass overrides","type":"text"},{"text":" ","type":"text"},{"text":"both of the designated initializers introduced by ","type":"text"},{"type":"codeVoice","code":"Document"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"These overrides ensure that an "},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"text":" instance has","type":"text"},{"text":" ","type":"text"},{"text":"an initial ","type":"text"},{"type":"codeVoice","code":"name"},{"type":"text","text":" value of "},{"type":"codeVoice","code":"\"[Untitled]\""},{"type":"text","text":" "},{"text":"if the instance is initialized without a name,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or if an empty string is passed to the "},{"code":"init(name:)","type":"codeVoice"},{"text":" initializer:","type":"text"}],"type":"paragraph"},{"code":["class AutomaticallyNamedDocument: Document {","    override init() {","        super.init()","        self.name = \"[Untitled]\"","    }","    override init(name: String) {","        super.init()","        if name.isEmpty {","            self.name = \"[Untitled]\"","        } else {","            self.name = name","        }","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"type":"text","text":" overrides its superclass’s"},{"type":"text","text":" "},{"type":"text","text":"failable "},{"code":"init?(name:)","type":"codeVoice"},{"type":"text","text":" initializer with a nonfailable "},{"code":"init(name:)","type":"codeVoice"},{"type":"text","text":" initializer."},{"type":"text","text":" "},{"type":"text","text":"Because "},{"type":"codeVoice","code":"AutomaticallyNamedDocument"},{"type":"text","text":" copes with the empty string case"},{"type":"text","text":" "},{"text":"in a different way than its superclass,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"its initializer doesn’t need to fail,"},{"text":" ","type":"text"},{"type":"text","text":"and so it provides a nonfailable version of the initializer instead."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can use forced unwrapping in an initializer"},{"type":"text","text":" "},{"type":"text","text":"to call a failable initializer from the superclass"},{"text":" ","type":"text"},{"type":"text","text":"as part of the implementation of a subclass’s nonfailable initializer."},{"type":"text","text":" "},{"type":"text","text":"For example, the "},{"type":"codeVoice","code":"UntitledDocument"},{"text":" subclass below is always named ","type":"text"},{"code":"\"[Untitled]\"","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and it uses the failable "},{"code":"init(name:)","type":"codeVoice"},{"text":" initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"from its superclass during initialization."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class UntitledDocument: Document {","    override init() {","        super.init(name: \"[Untitled]\")!","    }","}"]},{"inlineContent":[{"text":"In this case, if the ","type":"text"},{"type":"codeVoice","code":"init(name:)"},{"text":" initializer of the superclass","type":"text"},{"type":"text","text":" "},{"text":"were ever called with an empty string as the name,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the forced unwrapping operation would result in a runtime error."},{"text":" ","type":"text"},{"text":"However, because it’s called with a string constant,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you can see that the initializer won’t fail,"},{"text":" ","type":"text"},{"type":"text","text":"so no runtime error can occur in this case."}],"type":"paragraph"},{"level":3,"anchor":"El-inicializador-falible-init","text":"El inicializador falible init!","type":"heading"},{"inlineContent":[{"type":"text","text":"You typically define a failable initializer"},{"text":" ","type":"text"},{"type":"text","text":"that creates an optional instance of the appropriate type"},{"text":" ","type":"text"},{"text":"by placing a question mark after the ","type":"text"},{"type":"codeVoice","code":"init"},{"type":"text","text":" keyword ("},{"code":"init?","type":"codeVoice"},{"type":"text","text":")."},{"type":"text","text":" "},{"type":"text","text":"Alternatively, you can define a failable initializer that creates"},{"type":"text","text":" "},{"type":"text","text":"an implicitly unwrapped optional instance of the appropriate type."},{"text":" ","type":"text"},{"text":"Do this by placing an exclamation point after the ","type":"text"},{"code":"init","type":"codeVoice"},{"type":"text","text":" keyword ("},{"code":"init!","type":"codeVoice"},{"text":")","type":"text"},{"type":"text","text":" "},{"text":"instead of a question mark.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"You can delegate from ","type":"text"},{"code":"init?","type":"codeVoice"},{"text":" to ","type":"text"},{"type":"codeVoice","code":"init!"},{"type":"text","text":" and vice versa,"},{"text":" ","type":"text"},{"type":"text","text":"and you can override "},{"code":"init?","type":"codeVoice"},{"text":" with ","type":"text"},{"type":"codeVoice","code":"init!"},{"text":" and vice versa.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You can also delegate from "},{"type":"codeVoice","code":"init"},{"text":" to ","type":"text"},{"type":"codeVoice","code":"init!"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"although doing so will trigger an assertion"},{"type":"text","text":" "},{"text":"if the ","type":"text"},{"code":"init!","type":"codeVoice"},{"type":"text","text":" initializer causes initialization to fail."}]},{"type":"heading","level":2,"text":"Inicializadores obligatorios","anchor":"Inicializadores-obligatorios"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Write the "},{"type":"codeVoice","code":"required"},{"text":" modifier before the definition of a class initializer","type":"text"},{"text":" ","type":"text"},{"text":"to indicate that every subclass of the class must implement that initializer:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["class SomeClass {","    required init() {","        \/\/ initializer implementation goes here","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You must also write the "},{"type":"codeVoice","code":"required"},{"type":"text","text":" modifier before"},{"type":"text","text":" "},{"text":"every subclass implementation of a required initializer,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to indicate that the initializer requirement applies to further subclasses in the chain."},{"type":"text","text":" "},{"type":"text","text":"You don’t write the "},{"code":"override","type":"codeVoice"},{"type":"text","text":" modifier when overriding a required designated initializer:"}]},{"code":["class SomeSubclass: SomeClass {","    required init() {","        \/\/ subclass implementation of the required initializer goes here","    }","}"],"syntax":"swift","type":"codeListing"},{"name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"You don’t have to provide an explicit implementation of a required initializer","type":"text"},{"type":"text","text":" "},{"text":"if you can satisfy the requirement with an inherited initializer.","type":"text"}]}],"type":"aside"},{"text":"Asignación de un valor predeterminado a una propiedad mediante una clausura o función","type":"heading","level":2,"anchor":"Asignaci%C3%B3n-de-un-valor-predeterminado-a-una-propiedad-mediante-una-clausura-o-funci%C3%B3n"},{"inlineContent":[{"text":"If a stored property’s default value requires some customization or setup,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"you can use a closure or global function to provide"},{"type":"text","text":" "},{"type":"text","text":"a customized default value for that property."},{"text":" ","type":"text"},{"text":"Whenever a new instance of the type that the property belongs to is initialized,","type":"text"},{"type":"text","text":" "},{"text":"the closure or function is called,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and its return value is assigned as the property’s default value."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"These kinds of closures or functions typically create"},{"text":" ","type":"text"},{"text":"a temporary value of the same type as the property,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"tailor that value to represent the desired initial state,"},{"type":"text","text":" "},{"text":"and then return that temporary value to be used as the property’s default value.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Here’s a skeleton outline of how a closure can be used"},{"type":"text","text":" "},{"text":"to provide a default property value:","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["class SomeClass {","    let someProperty: SomeType = {","        \/\/ create a default value for someProperty inside this closure","        \/\/ someValue must be of the same type as SomeType","        return someValue","    }()","}"],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"Note that the closure’s end curly brace is followed by an empty pair of parentheses."},{"text":" ","type":"text"},{"text":"This tells Swift to execute the closure immediately.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If you omit these parentheses,"},{"text":" ","type":"text"},{"type":"text","text":"you are trying to assign the closure itself to the property,"},{"text":" ","type":"text"},{"text":"and not the return value of the closure.","type":"text"}],"type":"paragraph"},{"name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"If you use a closure to initialize a property,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"remember that the rest of the instance hasn’t yet been initialized"},{"type":"text","text":" "},{"type":"text","text":"at the point that the closure is executed."},{"text":" ","type":"text"},{"text":"This means that you can’t access any other property values from within your closure,","type":"text"},{"type":"text","text":" "},{"text":"even if those properties have default values.","type":"text"},{"type":"text","text":" "},{"text":"You also can’t use the implicit ","type":"text"},{"code":"self","type":"codeVoice"},{"type":"text","text":" property,"},{"type":"text","text":" "},{"type":"text","text":"or call any of the instance’s methods."}]}],"type":"aside","style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The example below defines a structure called "},{"type":"codeVoice","code":"Chessboard"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which models a board for the game of chess."},{"type":"text","text":" "},{"type":"text","text":"Chess is played on an 8 x 8 board,"},{"type":"text","text":" "},{"text":"with alternating black and white squares.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"chessBoard"}]},{"type":"paragraph","inlineContent":[{"text":"To represent this game board,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"Chessboard"},{"type":"text","text":" structure has a single property called "},{"code":"boardColors","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"which is an array of 64 "},{"type":"codeVoice","code":"Bool"},{"text":" values.","type":"text"},{"type":"text","text":" "},{"text":"A value of ","type":"text"},{"code":"true","type":"codeVoice"},{"text":" in the array represents a black square","type":"text"},{"type":"text","text":" "},{"text":"and a value of ","type":"text"},{"type":"codeVoice","code":"false"},{"type":"text","text":" represents a white square."},{"text":" ","type":"text"},{"type":"text","text":"The first item in the array represents the top left square on the board"},{"type":"text","text":" "},{"type":"text","text":"and the last item in the array represents the bottom right square on the board."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"boardColors"},{"type":"text","text":" array is initialized with a closure to set up its color values:"}]},{"code":["struct Chessboard {","    let boardColors: [Bool] = {","        var temporaryBoard: [Bool] = []","        var isBlack = false","        for i in 1...8 {","            for j in 1...8 {","                temporaryBoard.append(isBlack)","                isBlack = !isBlack","            }","            isBlack = !isBlack","        }","        return temporaryBoard","    }()","    func squareIsBlackAt(row: Int, column: Int) -> Bool {","        return boardColors[(row * 8) + column]","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Whenever a new "},{"type":"codeVoice","code":"Chessboard"},{"type":"text","text":" instance is created, the closure is executed,"},{"type":"text","text":" "},{"type":"text","text":"and the default value of "},{"type":"codeVoice","code":"boardColors"},{"text":" is calculated and returned.","type":"text"},{"type":"text","text":" "},{"text":"The closure in the example above calculates and sets","type":"text"},{"type":"text","text":" "},{"text":"the appropriate color for each square on the board","type":"text"},{"text":" ","type":"text"},{"text":"in a temporary array called ","type":"text"},{"code":"temporaryBoard","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and returns this temporary array as the closure’s return value"},{"text":" ","type":"text"},{"type":"text","text":"once its setup is complete."},{"text":" ","type":"text"},{"text":"The returned array value is stored in ","type":"text"},{"type":"codeVoice","code":"boardColors"},{"type":"text","text":" "},{"type":"text","text":"and can be queried with the "},{"type":"codeVoice","code":"squareIsBlackAt(row:column:)"},{"type":"text","text":" utility function:"}]},{"code":["let board = Chessboard()","print(board.squareIsBlackAt(row: 0, column: 1))","\/\/ Prints \"true\"","print(board.squareIsBlackAt(row: 7, column: 7))","\/\/ Prints \"false\""],"syntax":"swift","type":"codeListing"},{"name":"Software Beta","type":"aside","style":"note","content":[{"inlineContent":[{"text":"","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Esta documentación contiene información preliminar sobre una API o tecnología en desarrollo. Esta información está sujeta a cambios, y todo software implementado en conformidad con esta documentación debe ser testeado con el software final del sistema operativo.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Conoce más acerca del uso del ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/es\/support\/beta-software\/"},{"type":"text","text":"."}]}]}],"kind":"content"}],"metadata":{"title":"Inicialización"},"schemaVersion":{"patch":0,"major":0,"minor":3},"sections":[],"abstract":[{"type":"text","text":"Set the initial values for a type’s stored properties and perform one-time setup."}],"kind":"article","references":{"twoPhaseInitialization01":{"alt":null,"type":"image","variants":[{"url":"\/images\/org.swift.tspl\/twoPhaseInitialization01@2x.png","traits":["2x","light"]},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization01~dark@2x.png"}],"identifier":"twoPhaseInitialization01"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Inicializadores-predeterminados":{"url":"\/documentation\/the-swift-programming-language\/initialization#Inicializadores-predeterminados","type":"topic","title":"Inicializadores predeterminados","kind":"section","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializadores-predeterminados","abstract":[]},"initializerDelegation02":{"alt":null,"type":"image","variants":[{"url":"\/images\/org.swift.tspl\/initializerDelegation02@2x.png","traits":["2x","light"]},{"url":"\/images\/org.swift.tspl\/initializerDelegation02~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializerDelegation02"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Inheritance":{"role":"article","title":"Herencia","kind":"article","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Inheritance","type":"topic","abstract":[{"type":"text","text":"Subclass to add or override functionality."}],"url":"\/documentation\/the-swift-programming-language\/inheritance"},"twoPhaseInitialization02":{"alt":null,"type":"image","variants":[{"url":"\/images\/org.swift.tspl\/twoPhaseInitialization02@2x.png","traits":["2x","light"]},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/twoPhaseInitialization02~dark@2x.png"}],"identifier":"twoPhaseInitialization02"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Herencia-autom%C3%A1tica-de-inicializadores":{"type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Herencia-autom%C3%A1tica-de-inicializadores","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-autom%C3%A1tica-de-inicializadores","title":"Herencia automática de inicializadores","kind":"section","abstract":[]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase":{"type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Delegaci%C3%B3n-de-inicializadores-para-tipos-de-clase","kind":"section","title":"Delegación de inicializadores para tipos de clase"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores":{"type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Herencia-y-sustituci%C3%B3n-de-inicializadores","title":"Herencia y sustitución de inicializadores","kind":"section","abstract":[]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language":{"role":"collection","type":"topic","url":"\/documentation\/the-swift-programming-language","abstract":[],"title":"The Swift Programming Language (6)","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language","kind":"article"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Extensions":{"role":"article","title":"Extensiones","kind":"article","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Extensions","type":"topic","abstract":[{"type":"text","text":"Add functionality to an existing type."}],"url":"\/documentation\/the-swift-programming-language\/extensions"},"initializersExample01":{"alt":null,"type":"image","variants":[{"url":"\/images\/org.swift.tspl\/initializersExample01@2x.png","traits":["2x","light"]},{"url":"\/images\/org.swift.tspl\/initializersExample01~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializersExample01"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Deinitialization":{"role":"article","title":"Desinicialización","kind":"article","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Deinitialization","type":"topic","abstract":[{"type":"text","text":"Release resources that require custom cleanup."}],"url":"\/documentation\/the-swift-programming-language\/deinitialization"},"initializersExample03":{"alt":null,"type":"image","variants":[{"url":"\/images\/org.swift.tspl\/initializersExample03@2x.png","traits":["2x","light"]},{"traits":["2x","dark"],"url":"\/images\/org.swift.tspl\/initializersExample03~dark@2x.png"}],"identifier":"initializersExample03"},"https://developer.apple.com/es/support/beta-software/":{"titleInlineContent":[{"text":"software beta de Apple","type":"text"}],"type":"link","url":"https:\/\/developer.apple.com\/es\/support\/beta-software\/","identifier":"https:\/\/developer.apple.com\/es\/support\/beta-software\/","title":"software beta de Apple"},"initializersExample02":{"alt":null,"type":"image","variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializersExample02@2x.png"},{"url":"\/images\/org.swift.tspl\/initializersExample02~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializersExample02"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n":{"type":"topic","url":"\/documentation\/the-swift-programming-language\/initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Par%C3%A1metros-de-inicializaci%C3%B3n","title":"Parámetros de inicialización","kind":"section","abstract":[]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Initialization#Inicializaci%C3%B3n-de-dos-fases":{"type":"topic","kind":"section","title":"Inicialización de dos fases","abstract":[],"url":"\/documentation\/the-swift-programming-language\/initialization#Inicializaci%C3%B3n-de-dos-fases","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Initialization#Inicializaci%C3%B3n-de-dos-fases"},"chessBoard":{"alt":null,"type":"image","variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/chessBoard@2x.png"},{"url":"\/images\/org.swift.tspl\/chessBoard~dark@2x.png","traits":["2x","dark"]}],"identifier":"chessBoard"},"initializerDelegation01":{"alt":null,"type":"image","variants":[{"traits":["2x","light"],"url":"\/images\/org.swift.tspl\/initializerDelegation01@2x.png"},{"url":"\/images\/org.swift.tspl\/initializerDelegation01~dark@2x.png","traits":["2x","dark"]}],"identifier":"initializerDelegation01"}}}
>>>>>>> 2fa5d86d (yet one more fix attempt)
